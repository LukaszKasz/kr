(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function s(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(f){if(f.ep)return;f.ep=!0;const d=s(f);fetch(f.href,d)}})();var Wi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Td(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bc={exports:{}},Ko={},kc={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=Symbol.for("react.element"),Nd=Symbol.for("react.portal"),_d=Symbol.for("react.fragment"),Rd=Symbol.for("react.strict_mode"),Od=Symbol.for("react.profiler"),Dd=Symbol.for("react.provider"),Md=Symbol.for("react.context"),bd=Symbol.for("react.forward_ref"),kd=Symbol.for("react.suspense"),Bd=Symbol.for("react.memo"),Pd=Symbol.for("react.lazy"),h1=Symbol.iterator;function Ld(t){return t===null||typeof t!="object"?null:(t=h1&&t[h1]||t["@@iterator"],typeof t=="function"?t:null)}var Bc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pc=Object.assign,Lc={};function _i(t,r,s){this.props=t,this.context=r,this.refs=Lc,this.updater=s||Bc}_i.prototype.isReactComponent={};_i.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};_i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fc(){}Fc.prototype=_i.prototype;function Ja(t,r,s){this.props=t,this.context=r,this.refs=Lc,this.updater=s||Bc}var $a=Ja.prototype=new Fc;$a.constructor=Ja;Pc($a,_i.prototype);$a.isPureReactComponent=!0;var g1=Array.isArray,Uc=Object.prototype.hasOwnProperty,eu={current:null},Vc={key:!0,ref:!0,__self:!0,__source:!0};function zc(t,r,s){var u,f={},d=null,x=null;if(r!=null)for(u in r.ref!==void 0&&(x=r.ref),r.key!==void 0&&(d=""+r.key),r)Uc.call(r,u)&&!Vc.hasOwnProperty(u)&&(f[u]=r[u]);var y=arguments.length-2;if(y===1)f.children=s;else if(1<y){for(var A=Array(y),E=0;E<y;E++)A[E]=arguments[E+2];f.children=A}if(t&&t.defaultProps)for(u in y=t.defaultProps,y)f[u]===void 0&&(f[u]=y[u]);return{$$typeof:_s,type:t,key:d,ref:x,props:f,_owner:eu.current}}function Fd(t,r){return{$$typeof:_s,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function tu(t){return typeof t=="object"&&t!==null&&t.$$typeof===_s}function Ud(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return r[s]})}var x1=/\/+/g;function Dl(t,r){return typeof t=="object"&&t!==null&&t.key!=null?Ud(""+t.key):r.toString(36)}function uo(t,r,s,u,f){var d=typeof t;(d==="undefined"||d==="boolean")&&(t=null);var x=!1;if(t===null)x=!0;else switch(d){case"string":case"number":x=!0;break;case"object":switch(t.$$typeof){case _s:case Nd:x=!0}}if(x)return x=t,f=f(x),t=u===""?"."+Dl(x,0):u,g1(f)?(s="",t!=null&&(s=t.replace(x1,"$&/")+"/"),uo(f,r,s,"",function(E){return E})):f!=null&&(tu(f)&&(f=Fd(f,s+(!f.key||x&&x.key===f.key?"":(""+f.key).replace(x1,"$&/")+"/")+t)),r.push(f)),1;if(x=0,u=u===""?".":u+":",g1(t))for(var y=0;y<t.length;y++){d=t[y];var A=u+Dl(d,y);x+=uo(d,r,s,A,f)}else if(A=Ld(t),typeof A=="function")for(t=A.call(t),y=0;!(d=t.next()).done;)d=d.value,A=u+Dl(d,y++),x+=uo(d,r,s,A,f);else if(d==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return x}function js(t,r,s){if(t==null)return t;var u=[],f=0;return uo(t,u,"","",function(d){return r.call(s,d,f++)}),u}function Vd(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},co={transition:null},zd={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:co,ReactCurrentOwner:eu};function Hc(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:js,forEach:function(t,r,s){js(t,function(){r.apply(this,arguments)},s)},count:function(t){var r=0;return js(t,function(){r++}),r},toArray:function(t){return js(t,function(r){return r})||[]},only:function(t){if(!tu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=_i;me.Fragment=_d;me.Profiler=Od;me.PureComponent=Ja;me.StrictMode=Rd;me.Suspense=kd;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zd;me.act=Hc;me.cloneElement=function(t,r,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var u=Pc({},t.props),f=t.key,d=t.ref,x=t._owner;if(r!=null){if(r.ref!==void 0&&(d=r.ref,x=eu.current),r.key!==void 0&&(f=""+r.key),t.type&&t.type.defaultProps)var y=t.type.defaultProps;for(A in r)Uc.call(r,A)&&!Vc.hasOwnProperty(A)&&(u[A]=r[A]===void 0&&y!==void 0?y[A]:r[A])}var A=arguments.length-2;if(A===1)u.children=s;else if(1<A){y=Array(A);for(var E=0;E<A;E++)y[E]=arguments[E+2];u.children=y}return{$$typeof:_s,type:t.type,key:f,ref:d,props:u,_owner:x}};me.createContext=function(t){return t={$$typeof:Md,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Dd,_context:t},t.Consumer=t};me.createElement=zc;me.createFactory=function(t){var r=zc.bind(null,t);return r.type=t,r};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:bd,render:t}};me.isValidElement=tu;me.lazy=function(t){return{$$typeof:Pd,_payload:{_status:-1,_result:t},_init:Vd}};me.memo=function(t,r){return{$$typeof:Bd,type:t,compare:r===void 0?null:r}};me.startTransition=function(t){var r=co.transition;co.transition={};try{t()}finally{co.transition=r}};me.unstable_act=Hc;me.useCallback=function(t,r){return Lt.current.useCallback(t,r)};me.useContext=function(t){return Lt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};me.useEffect=function(t,r){return Lt.current.useEffect(t,r)};me.useId=function(){return Lt.current.useId()};me.useImperativeHandle=function(t,r,s){return Lt.current.useImperativeHandle(t,r,s)};me.useInsertionEffect=function(t,r){return Lt.current.useInsertionEffect(t,r)};me.useLayoutEffect=function(t,r){return Lt.current.useLayoutEffect(t,r)};me.useMemo=function(t,r){return Lt.current.useMemo(t,r)};me.useReducer=function(t,r,s){return Lt.current.useReducer(t,r,s)};me.useRef=function(t){return Lt.current.useRef(t)};me.useState=function(t){return Lt.current.useState(t)};me.useSyncExternalStore=function(t,r,s){return Lt.current.useSyncExternalStore(t,r,s)};me.useTransition=function(){return Lt.current.useTransition()};me.version="18.3.1";kc.exports=me;var Ot=kc.exports;const Hd=Td(Ot);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd=Ot,Gd=Symbol.for("react.element"),Xd=Symbol.for("react.fragment"),jd=Object.prototype.hasOwnProperty,Yd=Wd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zd={key:!0,ref:!0,__self:!0,__source:!0};function Wc(t,r,s){var u,f={},d=null,x=null;s!==void 0&&(d=""+s),r.key!==void 0&&(d=""+r.key),r.ref!==void 0&&(x=r.ref);for(u in r)jd.call(r,u)&&!Zd.hasOwnProperty(u)&&(f[u]=r[u]);if(t&&t.defaultProps)for(u in r=t.defaultProps,r)f[u]===void 0&&(f[u]=r[u]);return{$$typeof:Gd,type:t,key:d,ref:x,props:f,_owner:Yd.current}}Ko.Fragment=Xd;Ko.jsx=Wc;Ko.jsxs=Wc;bc.exports=Ko;var ve=bc.exports,ra={},Gc={exports:{}},nn={},Xc={exports:{}},jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r($,ue){var fe=$.length;$.push(ue);e:for(;0<fe;){var We=fe-1>>>1,Ae=$[We];if(0<f(Ae,ue))$[We]=ue,$[fe]=Ae,fe=We;else break e}}function s($){return $.length===0?null:$[0]}function u($){if($.length===0)return null;var ue=$[0],fe=$.pop();if(fe!==ue){$[0]=fe;e:for(var We=0,Ae=$.length,sn=Ae>>>1;We<sn;){var je=2*(We+1)-1,Ir=$[je],ie=je+1,Qn=$[ie];if(0>f(Ir,fe))ie<Ae&&0>f(Qn,Ir)?($[We]=Qn,$[ie]=fe,We=ie):($[We]=Ir,$[je]=fe,We=je);else if(ie<Ae&&0>f(Qn,fe))$[We]=Qn,$[ie]=fe,We=ie;else break e}}return ue}function f($,ue){var fe=$.sortIndex-ue.sortIndex;return fe!==0?fe:$.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var x=Date,y=x.now();t.unstable_now=function(){return x.now()-y}}var A=[],E=[],O=1,T=null,k=3,V=!1,Z=!1,z=!1,we=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var ue=s(E);ue!==null;){if(ue.callback===null)u(E);else if(ue.startTime<=$)u(E),ue.sortIndex=ue.expirationTime,r(A,ue);else break;ue=s(E)}}function F($){if(z=!1,_($),!Z)if(s(A)!==null)Z=!0,Je(q);else{var ue=s(E);ue!==null&&de(F,ue.startTime-$)}}function q($,ue){Z=!1,z&&(z=!1,D(Q),Q=-1),V=!0;var fe=k;try{for(_(ue),T=s(A);T!==null&&(!(T.expirationTime>ue)||$&&!Pe());){var We=T.callback;if(typeof We=="function"){T.callback=null,k=T.priorityLevel;var Ae=We(T.expirationTime<=ue);ue=t.unstable_now(),typeof Ae=="function"?T.callback=Ae:T===s(A)&&u(A),_(ue)}else u(A);T=s(A)}if(T!==null)var sn=!0;else{var je=s(E);je!==null&&de(F,je.startTime-ue),sn=!1}return sn}finally{T=null,k=fe,V=!1}}var X=!1,B=null,Q=-1,H=5,he=-1;function Pe(){return!(t.unstable_now()-he<H)}function le(){if(B!==null){var $=t.unstable_now();he=$;var ue=!0;try{ue=B(!0,$)}finally{ue?ye():(X=!1,B=null)}}else X=!1}var ye;if(typeof v=="function")ye=function(){v(le)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,U=it.port2;it.port1.onmessage=le,ye=function(){U.postMessage(null)}}else ye=function(){we(le,0)};function Je($){B=$,X||(X=!0,ye())}function de($,ue){Q=we(function(){$(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){Z||V||(Z=!0,Je(q))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return s(A)},t.unstable_next=function($){switch(k){case 1:case 2:case 3:var ue=3;break;default:ue=k}var fe=k;k=ue;try{return $()}finally{k=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ue){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var fe=k;k=$;try{return ue()}finally{k=fe}},t.unstable_scheduleCallback=function($,ue,fe){var We=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?We+fe:We):fe=We,$){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=fe+Ae,$={id:O++,callback:ue,priorityLevel:$,startTime:fe,expirationTime:Ae,sortIndex:-1},fe>We?($.sortIndex=fe,r(E,$),s(A)===null&&$===s(E)&&(z?(D(Q),Q=-1):z=!0,de(F,fe-We))):($.sortIndex=Ae,r(A,$),Z||V||(Z=!0,Je(q))),$},t.unstable_shouldYield=Pe,t.unstable_wrapCallback=function($){var ue=k;return function(){var fe=k;k=ue;try{return $.apply(this,arguments)}finally{k=fe}}}})(jc);Xc.exports=jc;var Kd=Xc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=Ot,tn=Kd;function j(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yc=new Set,fs={};function Wr(t,r){yi(t,r),yi(t+"Capture",r)}function yi(t,r){for(fs[t]=r,t=0;t<r.length;t++)Yc.add(r[t])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ia=Object.prototype.hasOwnProperty,qd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p1={},w1={};function Jd(t){return ia.call(w1,t)?!0:ia.call(p1,t)?!1:qd.test(t)?w1[t]=!0:(p1[t]=!0,!1)}function $d(t,r,s,u){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eh(t,r,s,u){if(r===null||typeof r>"u"||$d(t,r,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Ft(t,r,s,u,f,d,x){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=s,this.propertyName=t,this.type=r,this.sanitizeURL=d,this.removeEmptyString=x}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];vt[r]=new Ft(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var nu=/[\-:]([a-z])/g;function ru(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(nu,ru);vt[r]=new Ft(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(nu,ru);vt[r]=new Ft(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(nu,ru);vt[r]=new Ft(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function iu(t,r,s,u){var f=vt.hasOwnProperty(r)?vt[r]:null;(f!==null?f.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(eh(r,s,f,u)&&(s=null),u||f===null?Jd(r)&&(s===null?t.removeAttribute(r):t.setAttribute(r,""+s)):f.mustUseProperty?t[f.propertyName]=s===null?f.type===3?!1:"":s:(r=f.attributeName,u=f.attributeNamespace,s===null?t.removeAttribute(r):(f=f.type,s=f===3||f===4&&s===!0?"":""+s,u?t.setAttributeNS(u,r,s):t.setAttribute(r,s))))}var Kn=Qd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ys=Symbol.for("react.element"),ni=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),su=Symbol.for("react.strict_mode"),sa=Symbol.for("react.profiler"),Zc=Symbol.for("react.provider"),Kc=Symbol.for("react.context"),ou=Symbol.for("react.forward_ref"),oa=Symbol.for("react.suspense"),la=Symbol.for("react.suspense_list"),lu=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),Qc=Symbol.for("react.offscreen"),m1=Symbol.iterator;function Gi(t){return t===null||typeof t!="object"?null:(t=m1&&t[m1]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Ml;function Ji(t){if(Ml===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Ml=r&&r[1]||""}return`
`+Ml+t}var bl=!1;function kl(t,r){if(!t||bl)return"";bl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(E){var u=E}Reflect.construct(t,[],r)}else{try{r.call()}catch(E){u=E}t.call(r.prototype)}else{try{throw Error()}catch(E){u=E}t()}}catch(E){if(E&&u&&typeof E.stack=="string"){for(var f=E.stack.split(`
`),d=u.stack.split(`
`),x=f.length-1,y=d.length-1;1<=x&&0<=y&&f[x]!==d[y];)y--;for(;1<=x&&0<=y;x--,y--)if(f[x]!==d[y]){if(x!==1||y!==1)do if(x--,y--,0>y||f[x]!==d[y]){var A=`
`+f[x].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=x&&0<=y);break}}}finally{bl=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Ji(t):""}function th(t){switch(t.tag){case 5:return Ji(t.type);case 16:return Ji("Lazy");case 13:return Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 2:case 15:return t=kl(t.type,!1),t;case 11:return t=kl(t.type.render,!1),t;case 1:return t=kl(t.type,!0),t;default:return""}}function aa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ri:return"Fragment";case ni:return"Portal";case sa:return"Profiler";case su:return"StrictMode";case oa:return"Suspense";case la:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Kc:return(t.displayName||"Context")+".Consumer";case Zc:return(t._context.displayName||"Context")+".Provider";case ou:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lu:return r=t.displayName||null,r!==null?r:aa(t.type)||"Memo";case sr:r=t._payload,t=t._init;try{return aa(t(r))}catch{}}return null}function nh(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aa(r);case 8:return r===su?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qc(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function rh(t){var r=qc(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(x){u=""+x,d.call(this,x)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Zs(t){t._valueTracker||(t._valueTracker=rh(t))}function Jc(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return t&&(u=qc(t)?t.checked?"true":"false":t.value),t=u,t!==s?(r.setValue(t),!0):!1}function Ao(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ua(t,r){var s=r.checked;return qe({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function E1(t,r){var s=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;s=Er(r.value!=null?r.value:s),t._wrapperState={initialChecked:u,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function $c(t,r){r=r.checked,r!=null&&iu(t,"checked",r,!1)}function ca(t,r){$c(t,r);var s=Er(r.value),u=r.type;if(s!=null)u==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?fa(t,r.type,s):r.hasOwnProperty("defaultValue")&&fa(t,r.type,Er(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function C1(t,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,s||r===t.value||(t.value=r),t.defaultValue=r}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function fa(t,r,s){(r!=="number"||Ao(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var $i=Array.isArray;function xi(t,r,s,u){if(t=t.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=r.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Er(s),r=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function da(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(j(91));return qe({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y1(t,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(j(92));if($i(s)){if(1<s.length)throw Error(j(93));s=s[0]}r=s}r==null&&(r=""),s=r}t._wrapperState={initialValue:Er(s)}}function e0(t,r){var s=Er(r.value),u=Er(r.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),r.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),u!=null&&(t.defaultValue=""+u)}function A1(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function t0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ha(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?t0(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ks,n0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,u,f){MSApp.execUnsafeLocalFunction(function(){return t(r,s,u,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Ks=Ks||document.createElement("div"),Ks.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ks.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function ds(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ih=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(t){ih.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ns[r]=ns[t]})});function r0(t,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||ns.hasOwnProperty(t)&&ns[t]?(""+r).trim():r+"px"}function i0(t,r){t=t.style;for(var s in r)if(r.hasOwnProperty(s)){var u=s.indexOf("--")===0,f=r0(s,r[s],u);s==="float"&&(s="cssFloat"),u?t.setProperty(s,f):t[s]=f}}var sh=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ga(t,r){if(r){if(sh[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(j(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(j(61))}if(r.style!=null&&typeof r.style!="object")throw Error(j(62))}}function xa(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=null;function au(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wa=null,pi=null,wi=null;function S1(t){if(t=Ds(t)){if(typeof wa!="function")throw Error(j(280));var r=t.stateNode;r&&(r=el(r),wa(t.stateNode,t.type,r))}}function s0(t){pi?wi?wi.push(t):wi=[t]:pi=t}function o0(){if(pi){var t=pi,r=wi;if(wi=pi=null,S1(t),r)for(t=0;t<r.length;t++)S1(r[t])}}function l0(t,r){return t(r)}function a0(){}var Bl=!1;function u0(t,r,s){if(Bl)return t(r,s);Bl=!0;try{return l0(t,r,s)}finally{Bl=!1,(pi!==null||wi!==null)&&(a0(),o0())}}function hs(t,r){var s=t.stateNode;if(s===null)return null;var u=el(s);if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(j(231,r,typeof s));return s}var ma=!1;if(Xn)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){ma=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{ma=!1}function oh(t,r,s,u,f,d,x,y,A){var E=Array.prototype.slice.call(arguments,3);try{r.apply(s,E)}catch(O){this.onError(O)}}var rs=!1,So=null,Io=!1,Ea=null,lh={onError:function(t){rs=!0,So=t}};function ah(t,r,s,u,f,d,x,y,A){rs=!1,So=null,oh.apply(lh,arguments)}function uh(t,r,s,u,f,d,x,y,A){if(ah.apply(this,arguments),rs){if(rs){var E=So;rs=!1,So=null}else throw Error(j(198));Io||(Io=!0,Ea=E)}}function Gr(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function c0(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function I1(t){if(Gr(t)!==t)throw Error(j(188))}function ch(t){var r=t.alternate;if(!r){if(r=Gr(t),r===null)throw Error(j(188));return r!==t?null:t}for(var s=t,u=r;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return I1(f),t;if(d===u)return I1(f),r;d=d.sibling}throw Error(j(188))}if(s.return!==u.return)s=f,u=d;else{for(var x=!1,y=f.child;y;){if(y===s){x=!0,s=f,u=d;break}if(y===u){x=!0,u=f,s=d;break}y=y.sibling}if(!x){for(y=d.child;y;){if(y===s){x=!0,s=d,u=f;break}if(y===u){x=!0,u=d,s=f;break}y=y.sibling}if(!x)throw Error(j(189))}}if(s.alternate!==u)throw Error(j(190))}if(s.tag!==3)throw Error(j(188));return s.stateNode.current===s?t:r}function f0(t){return t=ch(t),t!==null?d0(t):null}function d0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=d0(t);if(r!==null)return r;t=t.sibling}return null}var h0=tn.unstable_scheduleCallback,v1=tn.unstable_cancelCallback,fh=tn.unstable_shouldYield,dh=tn.unstable_requestPaint,ot=tn.unstable_now,hh=tn.unstable_getCurrentPriorityLevel,uu=tn.unstable_ImmediatePriority,g0=tn.unstable_UserBlockingPriority,vo=tn.unstable_NormalPriority,gh=tn.unstable_LowPriority,x0=tn.unstable_IdlePriority,Qo=null,Pn=null;function xh(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Qo,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:mh,ph=Math.log,wh=Math.LN2;function mh(t){return t>>>=0,t===0?32:31-(ph(t)/wh|0)|0}var Qs=64,qs=4194304;function es(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function To(t,r){var s=t.pendingLanes;if(s===0)return 0;var u=0,f=t.suspendedLanes,d=t.pingedLanes,x=s&268435455;if(x!==0){var y=x&~f;y!==0?u=es(y):(d&=x,d!==0&&(u=es(d)))}else x=s&~f,x!==0?u=es(x):d!==0&&(u=es(d));if(u===0)return 0;if(r!==0&&r!==u&&!(r&f)&&(f=u&-u,d=r&-r,f>=d||f===16&&(d&4194240)!==0))return r;if(u&4&&(u|=s&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)s=31-Sn(r),f=1<<s,u|=t[s],r&=~f;return u}function Eh(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ch(t,r){for(var s=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes;0<d;){var x=31-Sn(d),y=1<<x,A=f[x];A===-1?(!(y&s)||y&u)&&(f[x]=Eh(y,r)):A<=r&&(t.expiredLanes|=y),d&=~y}}function Ca(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p0(){var t=Qs;return Qs<<=1,!(Qs&4194240)&&(Qs=64),t}function Pl(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Rs(t,r,s){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Sn(r),t[r]=s}function yh(t,r){var s=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<s;){var f=31-Sn(s),d=1<<f;r[f]=0,u[f]=-1,t[f]=-1,s&=~d}}function cu(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var u=31-Sn(s),f=1<<u;f&r|t[u]&r&&(t[u]|=r),s&=~f}}var De=0;function w0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var m0,fu,E0,C0,y0,ya=!1,Js=[],fr=null,dr=null,hr=null,gs=new Map,xs=new Map,lr=[],Ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T1(t,r){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":gs.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(r.pointerId)}}function ji(t,r,s,u,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Ds(r),r!==null&&fu(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Sh(t,r,s,u,f){switch(r){case"focusin":return fr=ji(fr,t,r,s,u,f),!0;case"dragenter":return dr=ji(dr,t,r,s,u,f),!0;case"mouseover":return hr=ji(hr,t,r,s,u,f),!0;case"pointerover":var d=f.pointerId;return gs.set(d,ji(gs.get(d)||null,t,r,s,u,f)),!0;case"gotpointercapture":return d=f.pointerId,xs.set(d,ji(xs.get(d)||null,t,r,s,u,f)),!0}return!1}function A0(t){var r=br(t.target);if(r!==null){var s=Gr(r);if(s!==null){if(r=s.tag,r===13){if(r=c0(s),r!==null){t.blockedOn=r,y0(t.priority,function(){E0(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fo(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Aa(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);pa=u,s.target.dispatchEvent(u),pa=null}else return r=Ds(s),r!==null&&fu(r),t.blockedOn=s,!1;r.shift()}return!0}function N1(t,r,s){fo(t)&&s.delete(r)}function Ih(){ya=!1,fr!==null&&fo(fr)&&(fr=null),dr!==null&&fo(dr)&&(dr=null),hr!==null&&fo(hr)&&(hr=null),gs.forEach(N1),xs.forEach(N1)}function Yi(t,r){t.blockedOn===r&&(t.blockedOn=null,ya||(ya=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,Ih)))}function ps(t){function r(f){return Yi(f,t)}if(0<Js.length){Yi(Js[0],t);for(var s=1;s<Js.length;s++){var u=Js[s];u.blockedOn===t&&(u.blockedOn=null)}}for(fr!==null&&Yi(fr,t),dr!==null&&Yi(dr,t),hr!==null&&Yi(hr,t),gs.forEach(r),xs.forEach(r),s=0;s<lr.length;s++)u=lr[s],u.blockedOn===t&&(u.blockedOn=null);for(;0<lr.length&&(s=lr[0],s.blockedOn===null);)A0(s),s.blockedOn===null&&lr.shift()}var mi=Kn.ReactCurrentBatchConfig,No=!0;function vh(t,r,s,u){var f=De,d=mi.transition;mi.transition=null;try{De=1,du(t,r,s,u)}finally{De=f,mi.transition=d}}function Th(t,r,s,u){var f=De,d=mi.transition;mi.transition=null;try{De=4,du(t,r,s,u)}finally{De=f,mi.transition=d}}function du(t,r,s,u){if(No){var f=Aa(t,r,s,u);if(f===null)jl(t,r,u,_o,s),T1(t,u);else if(Sh(f,t,r,s,u))u.stopPropagation();else if(T1(t,u),r&4&&-1<Ah.indexOf(t)){for(;f!==null;){var d=Ds(f);if(d!==null&&m0(d),d=Aa(t,r,s,u),d===null&&jl(t,r,u,_o,s),d===f)break;f=d}f!==null&&u.stopPropagation()}else jl(t,r,u,null,s)}}var _o=null;function Aa(t,r,s,u){if(_o=null,t=au(u),t=br(t),t!==null)if(r=Gr(t),r===null)t=null;else if(s=r.tag,s===13){if(t=c0(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return _o=t,null}function S0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hh()){case uu:return 1;case g0:return 4;case vo:case gh:return 16;case x0:return 536870912;default:return 16}default:return 16}}var ur=null,hu=null,ho=null;function I0(){if(ho)return ho;var t,r=hu,s=r.length,u,f="value"in ur?ur.value:ur.textContent,d=f.length;for(t=0;t<s&&r[t]===f[t];t++);var x=s-t;for(u=1;u<=x&&r[s-u]===f[d-u];u++);return ho=f.slice(t,1<u?1-u:void 0)}function go(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function $s(){return!0}function _1(){return!1}function rn(t){function r(s,u,f,d,x){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(s=t[y],this[y]=s?s(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$s:_1,this.isPropagationStopped=_1,this}return qe(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),r}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gu=rn(Ri),Os=qe({},Ri,{view:0,detail:0}),Nh=rn(Os),Ll,Fl,Zi,qo=qe({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zi&&(Zi&&t.type==="mousemove"?(Ll=t.screenX-Zi.screenX,Fl=t.screenY-Zi.screenY):Fl=Ll=0,Zi=t),Ll)},movementY:function(t){return"movementY"in t?t.movementY:Fl}}),R1=rn(qo),_h=qe({},qo,{dataTransfer:0}),Rh=rn(_h),Oh=qe({},Os,{relatedTarget:0}),Ul=rn(Oh),Dh=qe({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Mh=rn(Dh),bh=qe({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kh=rn(bh),Bh=qe({},Ri,{data:0}),O1=rn(Bh),Ph={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uh(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Fh[t])?!!r[t]:!1}function xu(){return Uh}var Vh=qe({},Os,{key:function(t){if(t.key){var r=Ph[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=go(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(t){return t.type==="keypress"?go(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?go(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zh=rn(Vh),Hh=qe({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D1=rn(Hh),Wh=qe({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),Gh=rn(Wh),Xh=qe({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),jh=rn(Xh),Yh=qe({},qo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zh=rn(Yh),Kh=[9,13,27,32],pu=Xn&&"CompositionEvent"in window,is=null;Xn&&"documentMode"in document&&(is=document.documentMode);var Qh=Xn&&"TextEvent"in window&&!is,v0=Xn&&(!pu||is&&8<is&&11>=is),M1=" ",b1=!1;function T0(t,r){switch(t){case"keyup":return Kh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ii=!1;function qh(t,r){switch(t){case"compositionend":return N0(r);case"keypress":return r.which!==32?null:(b1=!0,M1);case"textInput":return t=r.data,t===M1&&b1?null:t;default:return null}}function Jh(t,r){if(ii)return t==="compositionend"||!pu&&T0(t,r)?(t=I0(),ho=hu=ur=null,ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v0&&r.locale!=="ko"?null:r.data;default:return null}}var $h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k1(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!$h[t.type]:r==="textarea"}function _0(t,r,s,u){s0(u),r=Ro(r,"onChange"),0<r.length&&(s=new gu("onChange","change",null,s,u),t.push({event:s,listeners:r}))}var ss=null,ws=null;function e2(t){U0(t,0)}function Jo(t){var r=li(t);if(Jc(r))return t}function t2(t,r){if(t==="change")return r}var R0=!1;if(Xn){var Vl;if(Xn){var zl="oninput"in document;if(!zl){var B1=document.createElement("div");B1.setAttribute("oninput","return;"),zl=typeof B1.oninput=="function"}Vl=zl}else Vl=!1;R0=Vl&&(!document.documentMode||9<document.documentMode)}function P1(){ss&&(ss.detachEvent("onpropertychange",O0),ws=ss=null)}function O0(t){if(t.propertyName==="value"&&Jo(ws)){var r=[];_0(r,ws,t,au(t)),u0(e2,r)}}function n2(t,r,s){t==="focusin"?(P1(),ss=r,ws=s,ss.attachEvent("onpropertychange",O0)):t==="focusout"&&P1()}function r2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jo(ws)}function i2(t,r){if(t==="click")return Jo(r)}function s2(t,r){if(t==="input"||t==="change")return Jo(r)}function o2(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var vn=typeof Object.is=="function"?Object.is:o2;function ms(t,r){if(vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!ia.call(r,f)||!vn(t[f],r[f]))return!1}return!0}function L1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F1(t,r){var s=L1(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=r&&u>=r)return{node:s,offset:r-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=L1(s)}}function D0(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?D0(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function M0(){for(var t=window,r=Ao();r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Ao(t.document)}return r}function wu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function l2(t){var r=M0(),s=t.focusedElem,u=t.selectionRange;if(r!==s&&s&&s.ownerDocument&&D0(s.ownerDocument.documentElement,s)){if(u!==null&&wu(s)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(t,s.value.length);else if(t=(r=s.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=s.textContent.length,d=Math.min(u.start,f);u=u.end===void 0?d:Math.min(u.end,f),!t.extend&&d>u&&(f=u,u=d,d=f),f=F1(s,d);var x=F1(s,u);f&&x&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==x.node||t.focusOffset!==x.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),d>u?(t.addRange(r),t.extend(x.node,x.offset)):(r.setEnd(x.node,x.offset),t.addRange(r)))}}for(r=[],t=s;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)t=r[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a2=Xn&&"documentMode"in document&&11>=document.documentMode,si=null,Sa=null,os=null,Ia=!1;function U1(t,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ia||si==null||si!==Ao(u)||(u=si,"selectionStart"in u&&wu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),os&&ms(os,u)||(os=u,u=Ro(Sa,"onSelect"),0<u.length&&(r=new gu("onSelect","select",null,r,s),t.push({event:r,listeners:u}),r.target=si)))}function eo(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var oi={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionend:eo("Transition","TransitionEnd")},Hl={},b0={};Xn&&(b0=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function $o(t){if(Hl[t])return Hl[t];if(!oi[t])return t;var r=oi[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in b0)return Hl[t]=r[s];return t}var k0=$o("animationend"),B0=$o("animationiteration"),P0=$o("animationstart"),L0=$o("transitionend"),F0=new Map,V1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(t,r){F0.set(t,r),Wr(r,[t])}for(var Wl=0;Wl<V1.length;Wl++){var Gl=V1[Wl],u2=Gl.toLowerCase(),c2=Gl[0].toUpperCase()+Gl.slice(1);yr(u2,"on"+c2)}yr(k0,"onAnimationEnd");yr(B0,"onAnimationIteration");yr(P0,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(L0,"onTransitionEnd");yi("onMouseEnter",["mouseout","mouseover"]);yi("onMouseLeave",["mouseout","mouseover"]);yi("onPointerEnter",["pointerout","pointerover"]);yi("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function z1(t,r,s){var u=t.type||"unknown-event";t.currentTarget=s,uh(u,r,void 0,t),t.currentTarget=null}function U0(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],f=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var x=u.length-1;0<=x;x--){var y=u[x],A=y.instance,E=y.currentTarget;if(y=y.listener,A!==d&&f.isPropagationStopped())break e;z1(f,y,E),d=A}else for(x=0;x<u.length;x++){if(y=u[x],A=y.instance,E=y.currentTarget,y=y.listener,A!==d&&f.isPropagationStopped())break e;z1(f,y,E),d=A}}}if(Io)throw t=Ea,Io=!1,Ea=null,t}function ze(t,r){var s=r[Ra];s===void 0&&(s=r[Ra]=new Set);var u=t+"__bubble";s.has(u)||(V0(r,t,2,!1),s.add(u))}function Xl(t,r,s){var u=0;r&&(u|=4),V0(s,t,u,r)}var to="_reactListening"+Math.random().toString(36).slice(2);function Es(t){if(!t[to]){t[to]=!0,Yc.forEach(function(s){s!=="selectionchange"&&(f2.has(s)||Xl(s,!1,t),Xl(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[to]||(r[to]=!0,Xl("selectionchange",!1,r))}}function V0(t,r,s,u){switch(S0(r)){case 1:var f=vh;break;case 4:f=Th;break;default:f=du}s=f.bind(null,r,s,t),f=void 0,!ma||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(r,s,{capture:!0,passive:f}):t.addEventListener(r,s,!0):f!==void 0?t.addEventListener(r,s,{passive:f}):t.addEventListener(r,s,!1)}function jl(t,r,s,u,f){var d=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var y=u.stateNode.containerInfo;if(y===f||y.nodeType===8&&y.parentNode===f)break;if(x===4)for(x=u.return;x!==null;){var A=x.tag;if((A===3||A===4)&&(A=x.stateNode.containerInfo,A===f||A.nodeType===8&&A.parentNode===f))return;x=x.return}for(;y!==null;){if(x=br(y),x===null)return;if(A=x.tag,A===5||A===6){u=d=x;continue e}y=y.parentNode}}u=u.return}u0(function(){var E=d,O=au(s),T=[];e:{var k=F0.get(t);if(k!==void 0){var V=gu,Z=t;switch(t){case"keypress":if(go(s)===0)break e;case"keydown":case"keyup":V=zh;break;case"focusin":Z="focus",V=Ul;break;case"focusout":Z="blur",V=Ul;break;case"beforeblur":case"afterblur":V=Ul;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=R1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Gh;break;case k0:case B0:case P0:V=Mh;break;case L0:V=jh;break;case"scroll":V=Nh;break;case"wheel":V=Zh;break;case"copy":case"cut":case"paste":V=kh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=D1}var z=(r&4)!==0,we=!z&&t==="scroll",D=z?k!==null?k+"Capture":null:k;z=[];for(var v=E,_;v!==null;){_=v;var F=_.stateNode;if(_.tag===5&&F!==null&&(_=F,D!==null&&(F=hs(v,D),F!=null&&z.push(Cs(v,F,_)))),we)break;v=v.return}0<z.length&&(k=new V(k,Z,null,s,O),T.push({event:k,listeners:z}))}}if(!(r&7)){e:{if(k=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",k&&s!==pa&&(Z=s.relatedTarget||s.fromElement)&&(br(Z)||Z[jn]))break e;if((V||k)&&(k=O.window===O?O:(k=O.ownerDocument)?k.defaultView||k.parentWindow:window,V?(Z=s.relatedTarget||s.toElement,V=E,Z=Z?br(Z):null,Z!==null&&(we=Gr(Z),Z!==we||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(V=null,Z=E),V!==Z)){if(z=R1,F="onMouseLeave",D="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(z=D1,F="onPointerLeave",D="onPointerEnter",v="pointer"),we=V==null?k:li(V),_=Z==null?k:li(Z),k=new z(F,v+"leave",V,s,O),k.target=we,k.relatedTarget=_,F=null,br(O)===E&&(z=new z(D,v+"enter",Z,s,O),z.target=_,z.relatedTarget=we,F=z),we=F,V&&Z)t:{for(z=V,D=Z,v=0,_=z;_;_=ti(_))v++;for(_=0,F=D;F;F=ti(F))_++;for(;0<v-_;)z=ti(z),v--;for(;0<_-v;)D=ti(D),_--;for(;v--;){if(z===D||D!==null&&z===D.alternate)break t;z=ti(z),D=ti(D)}z=null}else z=null;V!==null&&H1(T,k,V,z,!1),Z!==null&&we!==null&&H1(T,we,Z,z,!0)}}e:{if(k=E?li(E):window,V=k.nodeName&&k.nodeName.toLowerCase(),V==="select"||V==="input"&&k.type==="file")var q=t2;else if(k1(k))if(R0)q=s2;else{q=r2;var X=n2}else(V=k.nodeName)&&V.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(q=i2);if(q&&(q=q(t,E))){_0(T,q,s,O);break e}X&&X(t,k,E),t==="focusout"&&(X=k._wrapperState)&&X.controlled&&k.type==="number"&&fa(k,"number",k.value)}switch(X=E?li(E):window,t){case"focusin":(k1(X)||X.contentEditable==="true")&&(si=X,Sa=E,os=null);break;case"focusout":os=Sa=si=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,U1(T,s,O);break;case"selectionchange":if(a2)break;case"keydown":case"keyup":U1(T,s,O)}var B;if(pu)e:{switch(t){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else ii?T0(t,s)&&(Q="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Q="onCompositionStart");Q&&(v0&&s.locale!=="ko"&&(ii||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&ii&&(B=I0()):(ur=O,hu="value"in ur?ur.value:ur.textContent,ii=!0)),X=Ro(E,Q),0<X.length&&(Q=new O1(Q,t,null,s,O),T.push({event:Q,listeners:X}),B?Q.data=B:(B=N0(s),B!==null&&(Q.data=B)))),(B=Qh?qh(t,s):Jh(t,s))&&(E=Ro(E,"onBeforeInput"),0<E.length&&(O=new O1("onBeforeInput","beforeinput",null,s,O),T.push({event:O,listeners:E}),O.data=B))}U0(T,r)})}function Cs(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Ro(t,r){for(var s=r+"Capture",u=[];t!==null;){var f=t,d=f.stateNode;f.tag===5&&d!==null&&(f=d,d=hs(t,s),d!=null&&u.unshift(Cs(t,d,f)),d=hs(t,r),d!=null&&u.push(Cs(t,d,f))),t=t.return}return u}function ti(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function H1(t,r,s,u,f){for(var d=r._reactName,x=[];s!==null&&s!==u;){var y=s,A=y.alternate,E=y.stateNode;if(A!==null&&A===u)break;y.tag===5&&E!==null&&(y=E,f?(A=hs(s,d),A!=null&&x.unshift(Cs(s,A,y))):f||(A=hs(s,d),A!=null&&x.push(Cs(s,A,y)))),s=s.return}x.length!==0&&t.push({event:r,listeners:x})}var d2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function W1(t){return(typeof t=="string"?t:""+t).replace(d2,`
`).replace(h2,"")}function no(t,r,s){if(r=W1(r),W1(t)!==r&&s)throw Error(j(425))}function Oo(){}var va=null,Ta=null;function Na(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var _a=typeof setTimeout=="function"?setTimeout:void 0,g2=typeof clearTimeout=="function"?clearTimeout:void 0,G1=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof G1<"u"?function(t){return G1.resolve(null).then(t).catch(p2)}:_a;function p2(t){setTimeout(function(){throw t})}function Yl(t,r){var s=r,u=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(u===0){t.removeChild(f),ps(r);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=f}while(s);ps(r)}function gr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function X1(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}var Oi=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Oi,ys="__reactProps$"+Oi,jn="__reactContainer$"+Oi,Ra="__reactEvents$"+Oi,w2="__reactListeners$"+Oi,m2="__reactHandles$"+Oi;function br(t){var r=t[Bn];if(r)return r;for(var s=t.parentNode;s;){if(r=s[jn]||s[Bn]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=X1(t);t!==null;){if(s=t[Bn])return s;t=X1(t)}return r}t=s,s=t.parentNode}return null}function Ds(t){return t=t[Bn]||t[jn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function el(t){return t[ys]||null}var Oa=[],ai=-1;function Ar(t){return{current:t}}function He(t){0>ai||(t.current=Oa[ai],Oa[ai]=null,ai--)}function Ue(t,r){ai++,Oa[ai]=t.current,t.current=r}var Cr={},Mt=Ar(Cr),Yt=Ar(!1),Fr=Cr;function Ai(t,r){var s=t.type.contextTypes;if(!s)return Cr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var f={},d;for(d in s)f[d]=r[d];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Zt(t){return t=t.childContextTypes,t!=null}function Do(){He(Yt),He(Mt)}function j1(t,r,s){if(Mt.current!==Cr)throw Error(j(168));Ue(Mt,r),Ue(Yt,s)}function z0(t,r,s){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var f in u)if(!(f in r))throw Error(j(108,nh(t)||"Unknown",f));return qe({},s,u)}function Mo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,Fr=Mt.current,Ue(Mt,t),Ue(Yt,Yt.current),!0}function Y1(t,r,s){var u=t.stateNode;if(!u)throw Error(j(169));s?(t=z0(t,r,Fr),u.__reactInternalMemoizedMergedChildContext=t,He(Yt),He(Mt),Ue(Mt,t)):He(Yt),Ue(Yt,s)}var zn=null,tl=!1,Zl=!1;function H0(t){zn===null?zn=[t]:zn.push(t)}function E2(t){tl=!0,H0(t)}function Sr(){if(!Zl&&zn!==null){Zl=!0;var t=0,r=De;try{var s=zn;for(De=1;t<s.length;t++){var u=s[t];do u=u(!0);while(u!==null)}zn=null,tl=!1}catch(f){throw zn!==null&&(zn=zn.slice(t+1)),h0(uu,Sr),f}finally{De=r,Zl=!1}}return null}var ui=[],ci=0,bo=null,ko=0,cn=[],fn=0,Ur=null,Hn=1,Wn="";function Dr(t,r){ui[ci++]=ko,ui[ci++]=bo,bo=t,ko=r}function W0(t,r,s){cn[fn++]=Hn,cn[fn++]=Wn,cn[fn++]=Ur,Ur=t;var u=Hn;t=Wn;var f=32-Sn(u)-1;u&=~(1<<f),s+=1;var d=32-Sn(r)+f;if(30<d){var x=f-f%5;d=(u&(1<<x)-1).toString(32),u>>=x,f-=x,Hn=1<<32-Sn(r)+f|s<<f|u,Wn=d+t}else Hn=1<<d|s<<f|u,Wn=t}function mu(t){t.return!==null&&(Dr(t,1),W0(t,1,0))}function Eu(t){for(;t===bo;)bo=ui[--ci],ui[ci]=null,ko=ui[--ci],ui[ci]=null;for(;t===Ur;)Ur=cn[--fn],cn[fn]=null,Wn=cn[--fn],cn[fn]=null,Hn=cn[--fn],cn[fn]=null}var en=null,$t=null,Xe=!1,An=null;function G0(t,r){var s=dn(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=t,r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)}function Z1(t,r){switch(t.tag){case 5:var s=t.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,en=t,$t=gr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,en=t,$t=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=Ur!==null?{id:Hn,overflow:Wn}:null,t.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=dn(18,null,null,0),s.stateNode=r,s.return=t,t.child=s,en=t,$t=null,!0):!1;default:return!1}}function Da(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ma(t){if(Xe){var r=$t;if(r){var s=r;if(!Z1(t,r)){if(Da(t))throw Error(j(418));r=gr(s.nextSibling);var u=en;r&&Z1(t,r)?G0(u,s):(t.flags=t.flags&-4097|2,Xe=!1,en=t)}}else{if(Da(t))throw Error(j(418));t.flags=t.flags&-4097|2,Xe=!1,en=t}}}function K1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function ro(t){if(t!==en)return!1;if(!Xe)return K1(t),Xe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Na(t.type,t.memoizedProps)),r&&(r=$t)){if(Da(t))throw X0(),Error(j(418));for(;r;)G0(t,r),r=gr(r.nextSibling)}if(K1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(r===0){$t=gr(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}t=t.nextSibling}$t=null}}else $t=en?gr(t.stateNode.nextSibling):null;return!0}function X0(){for(var t=$t;t;)t=gr(t.nextSibling)}function Si(){$t=en=null,Xe=!1}function Cu(t){An===null?An=[t]:An.push(t)}var C2=Kn.ReactCurrentBatchConfig;function Ki(t,r,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(j(309));var u=s.stateNode}if(!u)throw Error(j(147,t));var f=u,d=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===d?r.ref:(r=function(x){var y=f.refs;x===null?delete y[d]:y[d]=x},r._stringRef=d,r)}if(typeof t!="string")throw Error(j(284));if(!s._owner)throw Error(j(290,t))}return t}function io(t,r){throw t=Object.prototype.toString.call(r),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Q1(t){var r=t._init;return r(t._payload)}function j0(t){function r(D,v){if(t){var _=D.deletions;_===null?(D.deletions=[v],D.flags|=16):_.push(v)}}function s(D,v){if(!t)return null;for(;v!==null;)r(D,v),v=v.sibling;return null}function u(D,v){for(D=new Map;v!==null;)v.key!==null?D.set(v.key,v):D.set(v.index,v),v=v.sibling;return D}function f(D,v){return D=mr(D,v),D.index=0,D.sibling=null,D}function d(D,v,_){return D.index=_,t?(_=D.alternate,_!==null?(_=_.index,_<v?(D.flags|=2,v):_):(D.flags|=2,v)):(D.flags|=1048576,v)}function x(D){return t&&D.alternate===null&&(D.flags|=2),D}function y(D,v,_,F){return v===null||v.tag!==6?(v=ta(_,D.mode,F),v.return=D,v):(v=f(v,_),v.return=D,v)}function A(D,v,_,F){var q=_.type;return q===ri?O(D,v,_.props.children,F,_.key):v!==null&&(v.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===sr&&Q1(q)===v.type)?(F=f(v,_.props),F.ref=Ki(D,v,_),F.return=D,F):(F=yo(_.type,_.key,_.props,null,D.mode,F),F.ref=Ki(D,v,_),F.return=D,F)}function E(D,v,_,F){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=na(_,D.mode,F),v.return=D,v):(v=f(v,_.children||[]),v.return=D,v)}function O(D,v,_,F,q){return v===null||v.tag!==7?(v=Lr(_,D.mode,F,q),v.return=D,v):(v=f(v,_),v.return=D,v)}function T(D,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ta(""+v,D.mode,_),v.return=D,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ys:return _=yo(v.type,v.key,v.props,null,D.mode,_),_.ref=Ki(D,null,v),_.return=D,_;case ni:return v=na(v,D.mode,_),v.return=D,v;case sr:var F=v._init;return T(D,F(v._payload),_)}if($i(v)||Gi(v))return v=Lr(v,D.mode,_,null),v.return=D,v;io(D,v)}return null}function k(D,v,_,F){var q=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return q!==null?null:y(D,v,""+_,F);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ys:return _.key===q?A(D,v,_,F):null;case ni:return _.key===q?E(D,v,_,F):null;case sr:return q=_._init,k(D,v,q(_._payload),F)}if($i(_)||Gi(_))return q!==null?null:O(D,v,_,F,null);io(D,_)}return null}function V(D,v,_,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return D=D.get(_)||null,y(v,D,""+F,q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ys:return D=D.get(F.key===null?_:F.key)||null,A(v,D,F,q);case ni:return D=D.get(F.key===null?_:F.key)||null,E(v,D,F,q);case sr:var X=F._init;return V(D,v,_,X(F._payload),q)}if($i(F)||Gi(F))return D=D.get(_)||null,O(v,D,F,q,null);io(v,F)}return null}function Z(D,v,_,F){for(var q=null,X=null,B=v,Q=v=0,H=null;B!==null&&Q<_.length;Q++){B.index>Q?(H=B,B=null):H=B.sibling;var he=k(D,B,_[Q],F);if(he===null){B===null&&(B=H);break}t&&B&&he.alternate===null&&r(D,B),v=d(he,v,Q),X===null?q=he:X.sibling=he,X=he,B=H}if(Q===_.length)return s(D,B),Xe&&Dr(D,Q),q;if(B===null){for(;Q<_.length;Q++)B=T(D,_[Q],F),B!==null&&(v=d(B,v,Q),X===null?q=B:X.sibling=B,X=B);return Xe&&Dr(D,Q),q}for(B=u(D,B);Q<_.length;Q++)H=V(B,D,Q,_[Q],F),H!==null&&(t&&H.alternate!==null&&B.delete(H.key===null?Q:H.key),v=d(H,v,Q),X===null?q=H:X.sibling=H,X=H);return t&&B.forEach(function(Pe){return r(D,Pe)}),Xe&&Dr(D,Q),q}function z(D,v,_,F){var q=Gi(_);if(typeof q!="function")throw Error(j(150));if(_=q.call(_),_==null)throw Error(j(151));for(var X=q=null,B=v,Q=v=0,H=null,he=_.next();B!==null&&!he.done;Q++,he=_.next()){B.index>Q?(H=B,B=null):H=B.sibling;var Pe=k(D,B,he.value,F);if(Pe===null){B===null&&(B=H);break}t&&B&&Pe.alternate===null&&r(D,B),v=d(Pe,v,Q),X===null?q=Pe:X.sibling=Pe,X=Pe,B=H}if(he.done)return s(D,B),Xe&&Dr(D,Q),q;if(B===null){for(;!he.done;Q++,he=_.next())he=T(D,he.value,F),he!==null&&(v=d(he,v,Q),X===null?q=he:X.sibling=he,X=he);return Xe&&Dr(D,Q),q}for(B=u(D,B);!he.done;Q++,he=_.next())he=V(B,D,Q,he.value,F),he!==null&&(t&&he.alternate!==null&&B.delete(he.key===null?Q:he.key),v=d(he,v,Q),X===null?q=he:X.sibling=he,X=he);return t&&B.forEach(function(le){return r(D,le)}),Xe&&Dr(D,Q),q}function we(D,v,_,F){if(typeof _=="object"&&_!==null&&_.type===ri&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ys:e:{for(var q=_.key,X=v;X!==null;){if(X.key===q){if(q=_.type,q===ri){if(X.tag===7){s(D,X.sibling),v=f(X,_.props.children),v.return=D,D=v;break e}}else if(X.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===sr&&Q1(q)===X.type){s(D,X.sibling),v=f(X,_.props),v.ref=Ki(D,X,_),v.return=D,D=v;break e}s(D,X);break}else r(D,X);X=X.sibling}_.type===ri?(v=Lr(_.props.children,D.mode,F,_.key),v.return=D,D=v):(F=yo(_.type,_.key,_.props,null,D.mode,F),F.ref=Ki(D,v,_),F.return=D,D=F)}return x(D);case ni:e:{for(X=_.key;v!==null;){if(v.key===X)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){s(D,v.sibling),v=f(v,_.children||[]),v.return=D,D=v;break e}else{s(D,v);break}else r(D,v);v=v.sibling}v=na(_,D.mode,F),v.return=D,D=v}return x(D);case sr:return X=_._init,we(D,v,X(_._payload),F)}if($i(_))return Z(D,v,_,F);if(Gi(_))return z(D,v,_,F);io(D,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(s(D,v.sibling),v=f(v,_),v.return=D,D=v):(s(D,v),v=ta(_,D.mode,F),v.return=D,D=v),x(D)):s(D,v)}return we}var Ii=j0(!0),Y0=j0(!1),Bo=Ar(null),Po=null,fi=null,yu=null;function Au(){yu=fi=Po=null}function Su(t){var r=Bo.current;He(Bo),t._currentValue=r}function ba(t,r,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===s)break;t=t.return}}function Ei(t,r){Po=t,yu=fi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(jt=!0),t.firstContext=null)}function gn(t){var r=t._currentValue;if(yu!==t)if(t={context:t,memoizedValue:r,next:null},fi===null){if(Po===null)throw Error(j(308));fi=t,Po.dependencies={lanes:0,firstContext:t}}else fi=fi.next=t;return r}var kr=null;function Iu(t){kr===null?kr=[t]:kr.push(t)}function Z0(t,r,s,u){var f=r.interleaved;return f===null?(s.next=s,Iu(r)):(s.next=f.next,f.next=s),r.interleaved=s,Yn(t,u)}function Yn(t,r){t.lanes|=r;var s=t.alternate;for(s!==null&&(s.lanes|=r),s=t,t=t.return;t!==null;)t.childLanes|=r,s=t.alternate,s!==null&&(s.childLanes|=r),s=t,t=t.return;return s.tag===3?s.stateNode:null}var or=!1;function vu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K0(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function xr(t,r,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Te&2){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,Yn(t,s)}return f=u.interleaved,f===null?(r.next=r,Iu(u)):(r.next=f.next,f.next=r),u.interleaved=r,Yn(t,s)}function xo(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,s|=u,r.lanes=s,cu(t,s)}}function q1(t,r){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var x={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?f=d=x:d=d.next=x,s=s.next}while(s!==null);d===null?f=d=r:d=d.next=r}else f=d=r;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,effects:u.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}function Lo(t,r,s,u){var f=t.updateQueue;or=!1;var d=f.firstBaseUpdate,x=f.lastBaseUpdate,y=f.shared.pending;if(y!==null){f.shared.pending=null;var A=y,E=A.next;A.next=null,x===null?d=E:x.next=E,x=A;var O=t.alternate;O!==null&&(O=O.updateQueue,y=O.lastBaseUpdate,y!==x&&(y===null?O.firstBaseUpdate=E:y.next=E,O.lastBaseUpdate=A))}if(d!==null){var T=f.baseState;x=0,O=E=A=null,y=d;do{var k=y.lane,V=y.eventTime;if((u&k)===k){O!==null&&(O=O.next={eventTime:V,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var Z=t,z=y;switch(k=r,V=s,z.tag){case 1:if(Z=z.payload,typeof Z=="function"){T=Z.call(V,T,k);break e}T=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=z.payload,k=typeof Z=="function"?Z.call(V,T,k):Z,k==null)break e;T=qe({},T,k);break e;case 2:or=!0}}y.callback!==null&&y.lane!==0&&(t.flags|=64,k=f.effects,k===null?f.effects=[y]:k.push(y))}else V={eventTime:V,lane:k,tag:y.tag,payload:y.payload,callback:y.callback,next:null},O===null?(E=O=V,A=T):O=O.next=V,x|=k;if(y=y.next,y===null){if(y=f.shared.pending,y===null)break;k=y,y=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);if(O===null&&(A=T),f.baseState=A,f.firstBaseUpdate=E,f.lastBaseUpdate=O,r=f.shared.interleaved,r!==null){f=r;do x|=f.lane,f=f.next;while(f!==r)}else d===null&&(f.shared.lanes=0);zr|=x,t.lanes=x,t.memoizedState=T}}function J1(t,r,s){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],f=u.callback;if(f!==null){if(u.callback=null,u=s,typeof f!="function")throw Error(j(191,f));f.call(u)}}}var Ms={},Ln=Ar(Ms),As=Ar(Ms),Ss=Ar(Ms);function Br(t){if(t===Ms)throw Error(j(174));return t}function Tu(t,r){switch(Ue(Ss,r),Ue(As,t),Ue(Ln,Ms),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ha(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ha(r,t)}He(Ln),Ue(Ln,r)}function vi(){He(Ln),He(As),He(Ss)}function Q0(t){Br(Ss.current);var r=Br(Ln.current),s=ha(r,t.type);r!==s&&(Ue(As,t),Ue(Ln,s))}function Nu(t){As.current===t&&(He(Ln),He(As))}var Ke=Ar(0);function Fo(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Kl=[];function _u(){for(var t=0;t<Kl.length;t++)Kl[t]._workInProgressVersionPrimary=null;Kl.length=0}var po=Kn.ReactCurrentDispatcher,Ql=Kn.ReactCurrentBatchConfig,Vr=0,Qe=null,dt=null,wt=null,Uo=!1,ls=!1,Is=0,y2=0;function _t(){throw Error(j(321))}function Ru(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!vn(t[s],r[s]))return!1;return!0}function Ou(t,r,s,u,f,d){if(Vr=d,Qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,po.current=t===null||t.memoizedState===null?v2:T2,t=s(u,f),ls){d=0;do{if(ls=!1,Is=0,25<=d)throw Error(j(301));d+=1,wt=dt=null,r.updateQueue=null,po.current=N2,t=s(u,f)}while(ls)}if(po.current=Vo,r=dt!==null&&dt.next!==null,Vr=0,wt=dt=Qe=null,Uo=!1,r)throw Error(j(300));return t}function Du(){var t=Is!==0;return Is=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Qe.memoizedState=wt=t:wt=wt.next=t,wt}function xn(){if(dt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var r=wt===null?Qe.memoizedState:wt.next;if(r!==null)wt=r,dt=t;else{if(t===null)throw Error(j(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},wt===null?Qe.memoizedState=wt=t:wt=wt.next=t}return wt}function vs(t,r){return typeof r=="function"?r(t):r}function ql(t){var r=xn(),s=r.queue;if(s===null)throw Error(j(311));s.lastRenderedReducer=t;var u=dt,f=u.baseQueue,d=s.pending;if(d!==null){if(f!==null){var x=f.next;f.next=d.next,d.next=x}u.baseQueue=f=d,s.pending=null}if(f!==null){d=f.next,u=u.baseState;var y=x=null,A=null,E=d;do{var O=E.lane;if((Vr&O)===O)A!==null&&(A=A.next={lane:0,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),u=E.hasEagerState?E.eagerState:t(u,E.action);else{var T={lane:O,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null};A===null?(y=A=T,x=u):A=A.next=T,Qe.lanes|=O,zr|=O}E=E.next}while(E!==null&&E!==d);A===null?x=u:A.next=y,vn(u,r.memoizedState)||(jt=!0),r.memoizedState=u,r.baseState=x,r.baseQueue=A,s.lastRenderedState=u}if(t=s.interleaved,t!==null){f=t;do d=f.lane,Qe.lanes|=d,zr|=d,f=f.next;while(f!==t)}else f===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Jl(t){var r=xn(),s=r.queue;if(s===null)throw Error(j(311));s.lastRenderedReducer=t;var u=s.dispatch,f=s.pending,d=r.memoizedState;if(f!==null){s.pending=null;var x=f=f.next;do d=t(d,x.action),x=x.next;while(x!==f);vn(d,r.memoizedState)||(jt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,u]}function q0(){}function J0(t,r){var s=Qe,u=xn(),f=r(),d=!vn(u.memoizedState,f);if(d&&(u.memoizedState=f,jt=!0),u=u.queue,Mu(tf.bind(null,s,u,t),[t]),u.getSnapshot!==r||d||wt!==null&&wt.memoizedState.tag&1){if(s.flags|=2048,Ts(9,ef.bind(null,s,u,f,r),void 0,null),mt===null)throw Error(j(349));Vr&30||$0(s,r,f)}return f}function $0(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Qe.updateQueue,r===null?(r={lastEffect:null,stores:null},Qe.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function ef(t,r,s,u){r.value=s,r.getSnapshot=u,nf(r)&&rf(t)}function tf(t,r,s){return s(function(){nf(r)&&rf(t)})}function nf(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!vn(t,s)}catch{return!0}}function rf(t){var r=Yn(t,1);r!==null&&In(r,t,1,-1)}function $1(t){var r=kn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:t},r.queue=t,t=t.dispatch=I2.bind(null,Qe,t),[r.memoizedState,t]}function Ts(t,r,s,u){return t={tag:t,create:r,destroy:s,deps:u,next:null},r=Qe.updateQueue,r===null?(r={lastEffect:null,stores:null},Qe.updateQueue=r,r.lastEffect=t.next=t):(s=r.lastEffect,s===null?r.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,r.lastEffect=t)),t}function sf(){return xn().memoizedState}function wo(t,r,s,u){var f=kn();Qe.flags|=t,f.memoizedState=Ts(1|r,s,void 0,u===void 0?null:u)}function nl(t,r,s,u){var f=xn();u=u===void 0?null:u;var d=void 0;if(dt!==null){var x=dt.memoizedState;if(d=x.destroy,u!==null&&Ru(u,x.deps)){f.memoizedState=Ts(r,s,d,u);return}}Qe.flags|=t,f.memoizedState=Ts(1|r,s,d,u)}function ec(t,r){return wo(8390656,8,t,r)}function Mu(t,r){return nl(2048,8,t,r)}function of(t,r){return nl(4,2,t,r)}function lf(t,r){return nl(4,4,t,r)}function af(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function uf(t,r,s){return s=s!=null?s.concat([t]):null,nl(4,4,af.bind(null,r,t),s)}function bu(){}function cf(t,r){var s=xn();r=r===void 0?null:r;var u=s.memoizedState;return u!==null&&r!==null&&Ru(r,u[1])?u[0]:(s.memoizedState=[t,r],t)}function ff(t,r){var s=xn();r=r===void 0?null:r;var u=s.memoizedState;return u!==null&&r!==null&&Ru(r,u[1])?u[0]:(t=t(),s.memoizedState=[t,r],t)}function df(t,r,s){return Vr&21?(vn(s,r)||(s=p0(),Qe.lanes|=s,zr|=s,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=s)}function A2(t,r){var s=De;De=s!==0&&4>s?s:4,t(!0);var u=Ql.transition;Ql.transition={};try{t(!1),r()}finally{De=s,Ql.transition=u}}function hf(){return xn().memoizedState}function S2(t,r,s){var u=wr(t);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},gf(t))xf(r,s);else if(s=Z0(t,r,s,u),s!==null){var f=Pt();In(s,t,u,f),pf(s,r,u)}}function I2(t,r,s){var u=wr(t),f={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(gf(t))xf(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var x=r.lastRenderedState,y=d(x,s);if(f.hasEagerState=!0,f.eagerState=y,vn(y,x)){var A=r.interleaved;A===null?(f.next=f,Iu(r)):(f.next=A.next,A.next=f),r.interleaved=f;return}}catch{}finally{}s=Z0(t,r,f,u),s!==null&&(f=Pt(),In(s,t,u,f),pf(s,r,u))}}function gf(t){var r=t.alternate;return t===Qe||r!==null&&r===Qe}function xf(t,r){ls=Uo=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function pf(t,r,s){if(s&4194240){var u=r.lanes;u&=t.pendingLanes,s|=u,r.lanes=s,cu(t,s)}}var Vo={readContext:gn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},v2={readContext:gn,useCallback:function(t,r){return kn().memoizedState=[t,r===void 0?null:r],t},useContext:gn,useEffect:ec,useImperativeHandle:function(t,r,s){return s=s!=null?s.concat([t]):null,wo(4194308,4,af.bind(null,r,t),s)},useLayoutEffect:function(t,r){return wo(4194308,4,t,r)},useInsertionEffect:function(t,r){return wo(4,2,t,r)},useMemo:function(t,r){var s=kn();return r=r===void 0?null:r,t=t(),s.memoizedState=[t,r],t},useReducer:function(t,r,s){var u=kn();return r=s!==void 0?s(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=S2.bind(null,Qe,t),[u.memoizedState,t]},useRef:function(t){var r=kn();return t={current:t},r.memoizedState=t},useState:$1,useDebugValue:bu,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=$1(!1),r=t[0];return t=A2.bind(null,t[1]),kn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,s){var u=Qe,f=kn();if(Xe){if(s===void 0)throw Error(j(407));s=s()}else{if(s=r(),mt===null)throw Error(j(349));Vr&30||$0(u,r,s)}f.memoizedState=s;var d={value:s,getSnapshot:r};return f.queue=d,ec(tf.bind(null,u,d,t),[t]),u.flags|=2048,Ts(9,ef.bind(null,u,d,s,r),void 0,null),s},useId:function(){var t=kn(),r=mt.identifierPrefix;if(Xe){var s=Wn,u=Hn;s=(u&~(1<<32-Sn(u)-1)).toString(32)+s,r=":"+r+"R"+s,s=Is++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=y2++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},T2={readContext:gn,useCallback:cf,useContext:gn,useEffect:Mu,useImperativeHandle:uf,useInsertionEffect:of,useLayoutEffect:lf,useMemo:ff,useReducer:ql,useRef:sf,useState:function(){return ql(vs)},useDebugValue:bu,useDeferredValue:function(t){var r=xn();return df(r,dt.memoizedState,t)},useTransition:function(){var t=ql(vs)[0],r=xn().memoizedState;return[t,r]},useMutableSource:q0,useSyncExternalStore:J0,useId:hf,unstable_isNewReconciler:!1},N2={readContext:gn,useCallback:cf,useContext:gn,useEffect:Mu,useImperativeHandle:uf,useInsertionEffect:of,useLayoutEffect:lf,useMemo:ff,useReducer:Jl,useRef:sf,useState:function(){return Jl(vs)},useDebugValue:bu,useDeferredValue:function(t){var r=xn();return dt===null?r.memoizedState=t:df(r,dt.memoizedState,t)},useTransition:function(){var t=Jl(vs)[0],r=xn().memoizedState;return[t,r]},useMutableSource:q0,useSyncExternalStore:J0,useId:hf,unstable_isNewReconciler:!1};function Cn(t,r){if(t&&t.defaultProps){r=qe({},r),t=t.defaultProps;for(var s in t)r[s]===void 0&&(r[s]=t[s]);return r}return r}function ka(t,r,s,u){r=t.memoizedState,s=s(u,r),s=s==null?r:qe({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var rl={isMounted:function(t){return(t=t._reactInternals)?Gr(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var u=Pt(),f=wr(t),d=Gn(u,f);d.payload=r,s!=null&&(d.callback=s),r=xr(t,d,f),r!==null&&(In(r,t,f,u),xo(r,t,f))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var u=Pt(),f=wr(t),d=Gn(u,f);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=xr(t,d,f),r!==null&&(In(r,t,f,u),xo(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Pt(),u=wr(t),f=Gn(s,u);f.tag=2,r!=null&&(f.callback=r),r=xr(t,f,u),r!==null&&(In(r,t,u,s),xo(r,t,u))}};function tc(t,r,s,u,f,d,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,x):r.prototype&&r.prototype.isPureReactComponent?!ms(s,u)||!ms(f,d):!0}function wf(t,r,s){var u=!1,f=Cr,d=r.contextType;return typeof d=="object"&&d!==null?d=gn(d):(f=Zt(r)?Fr:Mt.current,u=r.contextTypes,d=(u=u!=null)?Ai(t,f):Cr),r=new r(s,d),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=rl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=d),r}function nc(t,r,s,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==t&&rl.enqueueReplaceState(r,r.state,null)}function Ba(t,r,s,u){var f=t.stateNode;f.props=s,f.state=t.memoizedState,f.refs={},vu(t);var d=r.contextType;typeof d=="object"&&d!==null?f.context=gn(d):(d=Zt(r)?Fr:Mt.current,f.context=Ai(t,d)),f.state=t.memoizedState,d=r.getDerivedStateFromProps,typeof d=="function"&&(ka(t,r,d,s),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&rl.enqueueReplaceState(f,f.state,null),Lo(t,s,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Ti(t,r){try{var s="",u=r;do s+=th(u),u=u.return;while(u);var f=s}catch(d){f=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:r,stack:f,digest:null}}function $l(t,r,s){return{value:t,source:null,stack:s??null,digest:r??null}}function Pa(t,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var _2=typeof WeakMap=="function"?WeakMap:Map;function mf(t,r,s){s=Gn(-1,s),s.tag=3,s.payload={element:null};var u=r.value;return s.callback=function(){Ho||(Ho=!0,ja=u),Pa(t,r)},s}function Ef(t,r,s){s=Gn(-1,s),s.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;s.payload=function(){return u(f)},s.callback=function(){Pa(t,r)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){Pa(t,r),typeof u!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})}),s}function rc(t,r,s){var u=t.pingCache;if(u===null){u=t.pingCache=new _2;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(s)||(f.add(s),t=H2.bind(null,t,r,s),r.then(t,t))}function ic(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function sc(t,r,s,u,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=Gn(-1,1),r.tag=2,xr(s,r,1))),s.lanes|=1),t)}var R2=Kn.ReactCurrentOwner,jt=!1;function Bt(t,r,s,u){r.child=t===null?Y0(r,null,s,u):Ii(r,t.child,s,u)}function oc(t,r,s,u,f){s=s.render;var d=r.ref;return Ei(r,f),u=Ou(t,r,s,u,d,f),s=Du(),t!==null&&!jt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Zn(t,r,f)):(Xe&&s&&mu(r),r.flags|=1,Bt(t,r,u,f),r.child)}function lc(t,r,s,u,f){if(t===null){var d=s.type;return typeof d=="function"&&!zu(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=d,Cf(t,r,d,u,f)):(t=yo(s.type,null,u,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!(t.lanes&f)){var x=d.memoizedProps;if(s=s.compare,s=s!==null?s:ms,s(x,u)&&t.ref===r.ref)return Zn(t,r,f)}return r.flags|=1,t=mr(d,u),t.ref=r.ref,t.return=r,r.child=t}function Cf(t,r,s,u,f){if(t!==null){var d=t.memoizedProps;if(ms(d,u)&&t.ref===r.ref)if(jt=!1,r.pendingProps=u=d,(t.lanes&f)!==0)t.flags&131072&&(jt=!0);else return r.lanes=t.lanes,Zn(t,r,f)}return La(t,r,s,u,f)}function yf(t,r,s){var u=r.pendingProps,f=u.children,d=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(hi,Jt),Jt|=s;else{if(!(s&1073741824))return t=d!==null?d.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ue(hi,Jt),Jt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:s,Ue(hi,Jt),Jt|=u}else d!==null?(u=d.baseLanes|s,r.memoizedState=null):u=s,Ue(hi,Jt),Jt|=u;return Bt(t,r,f,s),r.child}function Af(t,r){var s=r.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function La(t,r,s,u,f){var d=Zt(s)?Fr:Mt.current;return d=Ai(r,d),Ei(r,f),s=Ou(t,r,s,u,d,f),u=Du(),t!==null&&!jt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Zn(t,r,f)):(Xe&&u&&mu(r),r.flags|=1,Bt(t,r,s,f),r.child)}function ac(t,r,s,u,f){if(Zt(s)){var d=!0;Mo(r)}else d=!1;if(Ei(r,f),r.stateNode===null)mo(t,r),wf(r,s,u),Ba(r,s,u,f),u=!0;else if(t===null){var x=r.stateNode,y=r.memoizedProps;x.props=y;var A=x.context,E=s.contextType;typeof E=="object"&&E!==null?E=gn(E):(E=Zt(s)?Fr:Mt.current,E=Ai(r,E));var O=s.getDerivedStateFromProps,T=typeof O=="function"||typeof x.getSnapshotBeforeUpdate=="function";T||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==u||A!==E)&&nc(r,x,u,E),or=!1;var k=r.memoizedState;x.state=k,Lo(r,u,x,f),A=r.memoizedState,y!==u||k!==A||Yt.current||or?(typeof O=="function"&&(ka(r,s,O,u),A=r.memoizedState),(y=or||tc(r,s,y,u,k,A,E))?(T||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=A),x.props=u,x.state=A,x.context=E,u=y):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{x=r.stateNode,K0(t,r),y=r.memoizedProps,E=r.type===r.elementType?y:Cn(r.type,y),x.props=E,T=r.pendingProps,k=x.context,A=s.contextType,typeof A=="object"&&A!==null?A=gn(A):(A=Zt(s)?Fr:Mt.current,A=Ai(r,A));var V=s.getDerivedStateFromProps;(O=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==T||k!==A)&&nc(r,x,u,A),or=!1,k=r.memoizedState,x.state=k,Lo(r,u,x,f);var Z=r.memoizedState;y!==T||k!==Z||Yt.current||or?(typeof V=="function"&&(ka(r,s,V,u),Z=r.memoizedState),(E=or||tc(r,s,E,u,k,Z,A)||!1)?(O||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Z,A),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Z,A)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),x.props=u,x.state=Z,x.context=A,u=E):(typeof x.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(r.flags|=1024),u=!1)}return Fa(t,r,s,u,d,f)}function Fa(t,r,s,u,f,d){Af(t,r);var x=(r.flags&128)!==0;if(!u&&!x)return f&&Y1(r,s,!1),Zn(t,r,d);u=r.stateNode,R2.current=r;var y=x&&typeof s.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&x?(r.child=Ii(r,t.child,null,d),r.child=Ii(r,null,y,d)):Bt(t,r,y,d),r.memoizedState=u.state,f&&Y1(r,s,!0),r.child}function Sf(t){var r=t.stateNode;r.pendingContext?j1(t,r.pendingContext,r.pendingContext!==r.context):r.context&&j1(t,r.context,!1),Tu(t,r.containerInfo)}function uc(t,r,s,u,f){return Si(),Cu(f),r.flags|=256,Bt(t,r,s,u),r.child}var Ua={dehydrated:null,treeContext:null,retryLane:0};function Va(t){return{baseLanes:t,cachePool:null,transitions:null}}function If(t,r,s){var u=r.pendingProps,f=Ke.current,d=!1,x=(r.flags&128)!==0,y;if((y=x)||(y=t!==null&&t.memoizedState===null?!1:(f&2)!==0),y?(d=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Ue(Ke,f&1),t===null)return Ma(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(x=u.children,t=u.fallback,d?(u=r.mode,d=r.child,x={mode:"hidden",children:x},!(u&1)&&d!==null?(d.childLanes=0,d.pendingProps=x):d=ol(x,u,0,null),t=Lr(t,u,s,null),d.return=r,t.return=r,d.sibling=t,r.child=d,r.child.memoizedState=Va(s),r.memoizedState=Ua,t):ku(r,x));if(f=t.memoizedState,f!==null&&(y=f.dehydrated,y!==null))return O2(t,r,x,u,y,f,s);if(d){d=u.fallback,x=r.mode,f=t.child,y=f.sibling;var A={mode:"hidden",children:u.children};return!(x&1)&&r.child!==f?(u=r.child,u.childLanes=0,u.pendingProps=A,r.deletions=null):(u=mr(f,A),u.subtreeFlags=f.subtreeFlags&14680064),y!==null?d=mr(y,d):(d=Lr(d,x,s,null),d.flags|=2),d.return=r,u.return=r,u.sibling=d,r.child=u,u=d,d=r.child,x=t.child.memoizedState,x=x===null?Va(s):{baseLanes:x.baseLanes|s,cachePool:null,transitions:x.transitions},d.memoizedState=x,d.childLanes=t.childLanes&~s,r.memoizedState=Ua,u}return d=t.child,t=d.sibling,u=mr(d,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=s),u.return=r,u.sibling=null,t!==null&&(s=r.deletions,s===null?(r.deletions=[t],r.flags|=16):s.push(t)),r.child=u,r.memoizedState=null,u}function ku(t,r){return r=ol({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function so(t,r,s,u){return u!==null&&Cu(u),Ii(r,t.child,null,s),t=ku(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function O2(t,r,s,u,f,d,x){if(s)return r.flags&256?(r.flags&=-257,u=$l(Error(j(422))),so(t,r,x,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(d=u.fallback,f=r.mode,u=ol({mode:"visible",children:u.children},f,0,null),d=Lr(d,f,x,null),d.flags|=2,u.return=r,d.return=r,u.sibling=d,r.child=u,r.mode&1&&Ii(r,t.child,null,x),r.child.memoizedState=Va(x),r.memoizedState=Ua,d);if(!(r.mode&1))return so(t,r,x,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var y=u.dgst;return u=y,d=Error(j(419)),u=$l(d,u,void 0),so(t,r,x,u)}if(y=(x&t.childLanes)!==0,jt||y){if(u=mt,u!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(u.suspendedLanes|x)?0:f,f!==0&&f!==d.retryLane&&(d.retryLane=f,Yn(t,f),In(u,t,f,-1))}return Vu(),u=$l(Error(j(421))),so(t,r,x,u)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=W2.bind(null,t),f._reactRetry=r,null):(t=d.treeContext,$t=gr(f.nextSibling),en=r,Xe=!0,An=null,t!==null&&(cn[fn++]=Hn,cn[fn++]=Wn,cn[fn++]=Ur,Hn=t.id,Wn=t.overflow,Ur=r),r=ku(r,u.children),r.flags|=4096,r)}function cc(t,r,s){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),ba(t.return,r,s)}function ea(t,r,s,u,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=s,d.tailMode=f)}function vf(t,r,s){var u=r.pendingProps,f=u.revealOrder,d=u.tail;if(Bt(t,r,u.children,s),u=Ke.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cc(t,s,r);else if(t.tag===19)cc(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Ue(Ke,u),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(s=r.child,f=null;s!==null;)t=s.alternate,t!==null&&Fo(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),ea(r,!1,f,s,d);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Fo(t)===null){r.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}ea(r,!0,s,null,d);break;case"together":ea(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function mo(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Zn(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),zr|=r.lanes,!(s&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(j(153));if(r.child!==null){for(t=r.child,s=mr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=mr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function D2(t,r,s){switch(r.tag){case 3:Sf(r),Si();break;case 5:Q0(r);break;case 1:Zt(r.type)&&Mo(r);break;case 4:Tu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,f=r.memoizedProps.value;Ue(Bo,u._currentValue),u._currentValue=f;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Ue(Ke,Ke.current&1),r.flags|=128,null):s&r.child.childLanes?If(t,r,s):(Ue(Ke,Ke.current&1),t=Zn(t,r,s),t!==null?t.sibling:null);Ue(Ke,Ke.current&1);break;case 19:if(u=(s&r.childLanes)!==0,t.flags&128){if(u)return vf(t,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ue(Ke,Ke.current),u)break;return null;case 22:case 23:return r.lanes=0,yf(t,r,s)}return Zn(t,r,s)}var Tf,za,Nf,_f;Tf=function(t,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};za=function(){};Nf=function(t,r,s,u){var f=t.memoizedProps;if(f!==u){t=r.stateNode,Br(Ln.current);var d=null;switch(s){case"input":f=ua(t,f),u=ua(t,u),d=[];break;case"select":f=qe({},f,{value:void 0}),u=qe({},u,{value:void 0}),d=[];break;case"textarea":f=da(t,f),u=da(t,u),d=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Oo)}ga(s,u);var x;s=null;for(E in f)if(!u.hasOwnProperty(E)&&f.hasOwnProperty(E)&&f[E]!=null)if(E==="style"){var y=f[E];for(x in y)y.hasOwnProperty(x)&&(s||(s={}),s[x]="")}else E!=="dangerouslySetInnerHTML"&&E!=="children"&&E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(fs.hasOwnProperty(E)?d||(d=[]):(d=d||[]).push(E,null));for(E in u){var A=u[E];if(y=f!=null?f[E]:void 0,u.hasOwnProperty(E)&&A!==y&&(A!=null||y!=null))if(E==="style")if(y){for(x in y)!y.hasOwnProperty(x)||A&&A.hasOwnProperty(x)||(s||(s={}),s[x]="");for(x in A)A.hasOwnProperty(x)&&y[x]!==A[x]&&(s||(s={}),s[x]=A[x])}else s||(d||(d=[]),d.push(E,s)),s=A;else E==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,y=y?y.__html:void 0,A!=null&&y!==A&&(d=d||[]).push(E,A)):E==="children"?typeof A!="string"&&typeof A!="number"||(d=d||[]).push(E,""+A):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&(fs.hasOwnProperty(E)?(A!=null&&E==="onScroll"&&ze("scroll",t),d||y===A||(d=[])):(d=d||[]).push(E,A))}s&&(d=d||[]).push("style",s);var E=d;(r.updateQueue=E)&&(r.flags|=4)}};_f=function(t,r,s,u){s!==u&&(r.flags|=4)};function Qi(t,r){if(!Xe)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(r)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=s,r}function M2(t,r,s){var u=r.pendingProps;switch(Eu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(r),null;case 1:return Zt(r.type)&&Do(),Rt(r),null;case 3:return u=r.stateNode,vi(),He(Yt),He(Mt),_u(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(ro(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,An!==null&&(Ka(An),An=null))),za(t,r),Rt(r),null;case 5:Nu(r);var f=Br(Ss.current);if(s=r.type,t!==null&&r.stateNode!=null)Nf(t,r,s,u,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(j(166));return Rt(r),null}if(t=Br(Ln.current),ro(r)){u=r.stateNode,s=r.type;var d=r.memoizedProps;switch(u[Bn]=r,u[ys]=d,t=(r.mode&1)!==0,s){case"dialog":ze("cancel",u),ze("close",u);break;case"iframe":case"object":case"embed":ze("load",u);break;case"video":case"audio":for(f=0;f<ts.length;f++)ze(ts[f],u);break;case"source":ze("error",u);break;case"img":case"image":case"link":ze("error",u),ze("load",u);break;case"details":ze("toggle",u);break;case"input":E1(u,d),ze("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},ze("invalid",u);break;case"textarea":y1(u,d),ze("invalid",u)}ga(s,d),f=null;for(var x in d)if(d.hasOwnProperty(x)){var y=d[x];x==="children"?typeof y=="string"?u.textContent!==y&&(d.suppressHydrationWarning!==!0&&no(u.textContent,y,t),f=["children",y]):typeof y=="number"&&u.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&no(u.textContent,y,t),f=["children",""+y]):fs.hasOwnProperty(x)&&y!=null&&x==="onScroll"&&ze("scroll",u)}switch(s){case"input":Zs(u),C1(u,d,!0);break;case"textarea":Zs(u),A1(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=Oo)}u=f,r.updateQueue=u,u!==null&&(r.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=t0(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=x.createElement(s,{is:u.is}):(t=x.createElement(s),s==="select"&&(x=t,u.multiple?x.multiple=!0:u.size&&(x.size=u.size))):t=x.createElementNS(t,s),t[Bn]=r,t[ys]=u,Tf(t,r,!1,!1),r.stateNode=t;e:{switch(x=xa(s,u),s){case"dialog":ze("cancel",t),ze("close",t),f=u;break;case"iframe":case"object":case"embed":ze("load",t),f=u;break;case"video":case"audio":for(f=0;f<ts.length;f++)ze(ts[f],t);f=u;break;case"source":ze("error",t),f=u;break;case"img":case"image":case"link":ze("error",t),ze("load",t),f=u;break;case"details":ze("toggle",t),f=u;break;case"input":E1(t,u),f=ua(t,u),ze("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=qe({},u,{value:void 0}),ze("invalid",t);break;case"textarea":y1(t,u),f=da(t,u),ze("invalid",t);break;default:f=u}ga(s,f),y=f;for(d in y)if(y.hasOwnProperty(d)){var A=y[d];d==="style"?i0(t,A):d==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&n0(t,A)):d==="children"?typeof A=="string"?(s!=="textarea"||A!=="")&&ds(t,A):typeof A=="number"&&ds(t,""+A):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fs.hasOwnProperty(d)?A!=null&&d==="onScroll"&&ze("scroll",t):A!=null&&iu(t,d,A,x))}switch(s){case"input":Zs(t),C1(t,u,!1);break;case"textarea":Zs(t),A1(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Er(u.value));break;case"select":t.multiple=!!u.multiple,d=u.value,d!=null?xi(t,!!u.multiple,d,!1):u.defaultValue!=null&&xi(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=Oo)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Rt(r),null;case 6:if(t&&r.stateNode!=null)_f(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(j(166));if(s=Br(Ss.current),Br(Ln.current),ro(r)){if(u=r.stateNode,s=r.memoizedProps,u[Bn]=r,(d=u.nodeValue!==s)&&(t=en,t!==null))switch(t.tag){case 3:no(u.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&no(u.nodeValue,s,(t.mode&1)!==0)}d&&(r.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[Bn]=r,r.stateNode=u}return Rt(r),null;case 13:if(He(Ke),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&$t!==null&&r.mode&1&&!(r.flags&128))X0(),Si(),r.flags|=98560,d=!1;else if(d=ro(r),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(j(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(j(317));d[Bn]=r}else Si(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Rt(r),d=!1}else An!==null&&(Ka(An),An=null),d=!0;if(!d)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ke.current&1?ht===0&&(ht=3):Vu())),r.updateQueue!==null&&(r.flags|=4),Rt(r),null);case 4:return vi(),za(t,r),t===null&&Es(r.stateNode.containerInfo),Rt(r),null;case 10:return Su(r.type._context),Rt(r),null;case 17:return Zt(r.type)&&Do(),Rt(r),null;case 19:if(He(Ke),d=r.memoizedState,d===null)return Rt(r),null;if(u=(r.flags&128)!==0,x=d.rendering,x===null)if(u)Qi(d,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(x=Fo(t),x!==null){for(r.flags|=128,Qi(d,!1),u=x.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=s,s=r.child;s!==null;)d=s,t=u,d.flags&=14680066,x=d.alternate,x===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,t=x.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Ue(Ke,Ke.current&1|2),r.child}t=t.sibling}d.tail!==null&&ot()>Ni&&(r.flags|=128,u=!0,Qi(d,!1),r.lanes=4194304)}else{if(!u)if(t=Fo(x),t!==null){if(r.flags|=128,u=!0,s=t.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),Qi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!Xe)return Rt(r),null}else 2*ot()-d.renderingStartTime>Ni&&s!==1073741824&&(r.flags|=128,u=!0,Qi(d,!1),r.lanes=4194304);d.isBackwards?(x.sibling=r.child,r.child=x):(s=d.last,s!==null?s.sibling=x:r.child=x,d.last=x)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=ot(),r.sibling=null,s=Ke.current,Ue(Ke,u?s&1|2:s&1),r):(Rt(r),null);case 22:case 23:return Uu(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?Jt&1073741824&&(Rt(r),r.subtreeFlags&6&&(r.flags|=8192)):Rt(r),null;case 24:return null;case 25:return null}throw Error(j(156,r.tag))}function b2(t,r){switch(Eu(r),r.tag){case 1:return Zt(r.type)&&Do(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return vi(),He(Yt),He(Mt),_u(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Nu(r),null;case 13:if(He(Ke),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(j(340));Si()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return He(Ke),null;case 4:return vi(),null;case 10:return Su(r.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}var oo=!1,Dt=!1,k2=typeof WeakSet=="function"?WeakSet:Set,ne=null;function di(t,r){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){rt(t,r,u)}else s.current=null}function Ha(t,r,s){try{s()}catch(u){rt(t,r,u)}}var fc=!1;function B2(t,r){if(va=No,t=M0(),wu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var x=0,y=-1,A=-1,E=0,O=0,T=t,k=null;t:for(;;){for(var V;T!==s||f!==0&&T.nodeType!==3||(y=x+f),T!==d||u!==0&&T.nodeType!==3||(A=x+u),T.nodeType===3&&(x+=T.nodeValue.length),(V=T.firstChild)!==null;)k=T,T=V;for(;;){if(T===t)break t;if(k===s&&++E===f&&(y=x),k===d&&++O===u&&(A=x),(V=T.nextSibling)!==null)break;T=k,k=T.parentNode}T=V}s=y===-1||A===-1?null:{start:y,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ta={focusedElem:t,selectionRange:s},No=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var Z=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var z=Z.memoizedProps,we=Z.memoizedState,D=r.stateNode,v=D.getSnapshotBeforeUpdate(r.elementType===r.type?z:Cn(r.type,z),we);D.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=r.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(F){rt(r,r.return,F)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return Z=fc,fc=!1,Z}function as(t,r,s){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var d=f.destroy;f.destroy=void 0,d!==void 0&&Ha(r,s,d)}f=f.next}while(f!==u)}}function il(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var u=s.create;s.destroy=u()}s=s.next}while(s!==r)}}function Wa(t){var r=t.ref;if(r!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof r=="function"?r(t):r.current=t}}function Rf(t){var r=t.alternate;r!==null&&(t.alternate=null,Rf(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Bn],delete r[ys],delete r[Ra],delete r[w2],delete r[m2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Of(t){return t.tag===5||t.tag===3||t.tag===4}function dc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Of(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ga(t,r,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Oo));else if(u!==4&&(t=t.child,t!==null))for(Ga(t,r,s),t=t.sibling;t!==null;)Ga(t,r,s),t=t.sibling}function Xa(t,r,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Xa(t,r,s),t=t.sibling;t!==null;)Xa(t,r,s),t=t.sibling}var St=null,yn=!1;function ir(t,r,s){for(s=s.child;s!==null;)Df(t,r,s),s=s.sibling}function Df(t,r,s){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Qo,s)}catch{}switch(s.tag){case 5:Dt||di(s,r);case 6:var u=St,f=yn;St=null,ir(t,r,s),St=u,yn=f,St!==null&&(yn?(t=St,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):St.removeChild(s.stateNode));break;case 18:St!==null&&(yn?(t=St,s=s.stateNode,t.nodeType===8?Yl(t.parentNode,s):t.nodeType===1&&Yl(t,s),ps(t)):Yl(St,s.stateNode));break;case 4:u=St,f=yn,St=s.stateNode.containerInfo,yn=!0,ir(t,r,s),St=u,yn=f;break;case 0:case 11:case 14:case 15:if(!Dt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var d=f,x=d.destroy;d=d.tag,x!==void 0&&(d&2||d&4)&&Ha(s,r,x),f=f.next}while(f!==u)}ir(t,r,s);break;case 1:if(!Dt&&(di(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(y){rt(s,r,y)}ir(t,r,s);break;case 21:ir(t,r,s);break;case 22:s.mode&1?(Dt=(u=Dt)||s.memoizedState!==null,ir(t,r,s),Dt=u):ir(t,r,s);break;default:ir(t,r,s)}}function hc(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new k2),r.forEach(function(u){var f=G2.bind(null,t,u);s.has(u)||(s.add(u),u.then(f,f))})}}function En(t,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];try{var d=t,x=r,y=x;e:for(;y!==null;){switch(y.tag){case 5:St=y.stateNode,yn=!1;break e;case 3:St=y.stateNode.containerInfo,yn=!0;break e;case 4:St=y.stateNode.containerInfo,yn=!0;break e}y=y.return}if(St===null)throw Error(j(160));Df(d,x,f),St=null,yn=!1;var A=f.alternate;A!==null&&(A.return=null),f.return=null}catch(E){rt(f,r,E)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Mf(r,t),r=r.sibling}function Mf(t,r){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(r,t),bn(t),u&4){try{as(3,t,t.return),il(3,t)}catch(z){rt(t,t.return,z)}try{as(5,t,t.return)}catch(z){rt(t,t.return,z)}}break;case 1:En(r,t),bn(t),u&512&&s!==null&&di(s,s.return);break;case 5:if(En(r,t),bn(t),u&512&&s!==null&&di(s,s.return),t.flags&32){var f=t.stateNode;try{ds(f,"")}catch(z){rt(t,t.return,z)}}if(u&4&&(f=t.stateNode,f!=null)){var d=t.memoizedProps,x=s!==null?s.memoizedProps:d,y=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&$c(f,d),xa(y,x);var E=xa(y,d);for(x=0;x<A.length;x+=2){var O=A[x],T=A[x+1];O==="style"?i0(f,T):O==="dangerouslySetInnerHTML"?n0(f,T):O==="children"?ds(f,T):iu(f,O,T,E)}switch(y){case"input":ca(f,d);break;case"textarea":e0(f,d);break;case"select":var k=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!d.multiple;var V=d.value;V!=null?xi(f,!!d.multiple,V,!1):k!==!!d.multiple&&(d.defaultValue!=null?xi(f,!!d.multiple,d.defaultValue,!0):xi(f,!!d.multiple,d.multiple?[]:"",!1))}f[ys]=d}catch(z){rt(t,t.return,z)}}break;case 6:if(En(r,t),bn(t),u&4){if(t.stateNode===null)throw Error(j(162));f=t.stateNode,d=t.memoizedProps;try{f.nodeValue=d}catch(z){rt(t,t.return,z)}}break;case 3:if(En(r,t),bn(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{ps(r.containerInfo)}catch(z){rt(t,t.return,z)}break;case 4:En(r,t),bn(t);break;case 13:En(r,t),bn(t),f=t.child,f.flags&8192&&(d=f.memoizedState!==null,f.stateNode.isHidden=d,!d||f.alternate!==null&&f.alternate.memoizedState!==null||(Lu=ot())),u&4&&hc(t);break;case 22:if(O=s!==null&&s.memoizedState!==null,t.mode&1?(Dt=(E=Dt)||O,En(r,t),Dt=E):En(r,t),bn(t),u&8192){if(E=t.memoizedState!==null,(t.stateNode.isHidden=E)&&!O&&t.mode&1)for(ne=t,O=t.child;O!==null;){for(T=ne=O;ne!==null;){switch(k=ne,V=k.child,k.tag){case 0:case 11:case 14:case 15:as(4,k,k.return);break;case 1:di(k,k.return);var Z=k.stateNode;if(typeof Z.componentWillUnmount=="function"){u=k,s=k.return;try{r=u,Z.props=r.memoizedProps,Z.state=r.memoizedState,Z.componentWillUnmount()}catch(z){rt(u,s,z)}}break;case 5:di(k,k.return);break;case 22:if(k.memoizedState!==null){xc(T);continue}}V!==null?(V.return=k,ne=V):xc(T)}O=O.sibling}e:for(O=null,T=t;;){if(T.tag===5){if(O===null){O=T;try{f=T.stateNode,E?(d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=T.stateNode,A=T.memoizedProps.style,x=A!=null&&A.hasOwnProperty("display")?A.display:null,y.style.display=r0("display",x))}catch(z){rt(t,t.return,z)}}}else if(T.tag===6){if(O===null)try{T.stateNode.nodeValue=E?"":T.memoizedProps}catch(z){rt(t,t.return,z)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===t)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;O===T&&(O=null),T=T.return}O===T&&(O=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:En(r,t),bn(t),u&4&&hc(t);break;case 21:break;default:En(r,t),bn(t)}}function bn(t){var r=t.flags;if(r&2){try{e:{for(var s=t.return;s!==null;){if(Of(s)){var u=s;break e}s=s.return}throw Error(j(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(ds(f,""),u.flags&=-33);var d=dc(t);Xa(t,d,f);break;case 3:case 4:var x=u.stateNode.containerInfo,y=dc(t);Ga(t,y,x);break;default:throw Error(j(161))}}catch(A){rt(t,t.return,A)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function P2(t,r,s){ne=t,bf(t)}function bf(t,r,s){for(var u=(t.mode&1)!==0;ne!==null;){var f=ne,d=f.child;if(f.tag===22&&u){var x=f.memoizedState!==null||oo;if(!x){var y=f.alternate,A=y!==null&&y.memoizedState!==null||Dt;y=oo;var E=Dt;if(oo=x,(Dt=A)&&!E)for(ne=f;ne!==null;)x=ne,A=x.child,x.tag===22&&x.memoizedState!==null?pc(f):A!==null?(A.return=x,ne=A):pc(f);for(;d!==null;)ne=d,bf(d),d=d.sibling;ne=f,oo=y,Dt=E}gc(t)}else f.subtreeFlags&8772&&d!==null?(d.return=f,ne=d):gc(t)}}function gc(t){for(;ne!==null;){var r=ne;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Dt||il(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Dt)if(s===null)u.componentDidMount();else{var f=r.elementType===r.type?s.memoizedProps:Cn(r.type,s.memoizedProps);u.componentDidUpdate(f,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=r.updateQueue;d!==null&&J1(r,d,u);break;case 3:var x=r.updateQueue;if(x!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}J1(r,x,s)}break;case 5:var y=r.stateNode;if(s===null&&r.flags&4){s=y;var A=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&s.focus();break;case"img":A.src&&(s.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var E=r.alternate;if(E!==null){var O=E.memoizedState;if(O!==null){var T=O.dehydrated;T!==null&&ps(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Dt||r.flags&512&&Wa(r)}catch(k){rt(r,r.return,k)}}if(r===t){ne=null;break}if(s=r.sibling,s!==null){s.return=r.return,ne=s;break}ne=r.return}}function xc(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var s=r.sibling;if(s!==null){s.return=r.return,ne=s;break}ne=r.return}}function pc(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{il(4,r)}catch(A){rt(r,s,A)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var f=r.return;try{u.componentDidMount()}catch(A){rt(r,f,A)}}var d=r.return;try{Wa(r)}catch(A){rt(r,d,A)}break;case 5:var x=r.return;try{Wa(r)}catch(A){rt(r,x,A)}}}catch(A){rt(r,r.return,A)}if(r===t){ne=null;break}var y=r.sibling;if(y!==null){y.return=r.return,ne=y;break}ne=r.return}}var L2=Math.ceil,zo=Kn.ReactCurrentDispatcher,Bu=Kn.ReactCurrentOwner,hn=Kn.ReactCurrentBatchConfig,Te=0,mt=null,at=null,It=0,Jt=0,hi=Ar(0),ht=0,Ns=null,zr=0,sl=0,Pu=0,us=null,Xt=null,Lu=0,Ni=1/0,Vn=null,Ho=!1,ja=null,pr=null,lo=!1,cr=null,Wo=0,cs=0,Ya=null,Eo=-1,Co=0;function Pt(){return Te&6?ot():Eo!==-1?Eo:Eo=ot()}function wr(t){return t.mode&1?Te&2&&It!==0?It&-It:C2.transition!==null?(Co===0&&(Co=p0()),Co):(t=De,t!==0||(t=window.event,t=t===void 0?16:S0(t.type)),t):1}function In(t,r,s,u){if(50<cs)throw cs=0,Ya=null,Error(j(185));Rs(t,s,u),(!(Te&2)||t!==mt)&&(t===mt&&(!(Te&2)&&(sl|=s),ht===4&&ar(t,It)),Kt(t,u),s===1&&Te===0&&!(r.mode&1)&&(Ni=ot()+500,tl&&Sr()))}function Kt(t,r){var s=t.callbackNode;Ch(t,r);var u=To(t,t===mt?It:0);if(u===0)s!==null&&v1(s),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(s!=null&&v1(s),r===1)t.tag===0?E2(wc.bind(null,t)):H0(wc.bind(null,t)),x2(function(){!(Te&6)&&Sr()}),s=null;else{switch(w0(u)){case 1:s=uu;break;case 4:s=g0;break;case 16:s=vo;break;case 536870912:s=x0;break;default:s=vo}s=zf(s,kf.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function kf(t,r){if(Eo=-1,Co=0,Te&6)throw Error(j(327));var s=t.callbackNode;if(Ci()&&t.callbackNode!==s)return null;var u=To(t,t===mt?It:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Go(t,u);else{r=u;var f=Te;Te|=2;var d=Pf();(mt!==t||It!==r)&&(Vn=null,Ni=ot()+500,Pr(t,r));do try{V2();break}catch(y){Bf(t,y)}while(!0);Au(),zo.current=d,Te=f,at!==null?r=0:(mt=null,It=0,r=ht)}if(r!==0){if(r===2&&(f=Ca(t),f!==0&&(u=f,r=Za(t,f))),r===1)throw s=Ns,Pr(t,0),ar(t,u),Kt(t,ot()),s;if(r===6)ar(t,u);else{if(f=t.current.alternate,!(u&30)&&!F2(f)&&(r=Go(t,u),r===2&&(d=Ca(t),d!==0&&(u=d,r=Za(t,d))),r===1))throw s=Ns,Pr(t,0),ar(t,u),Kt(t,ot()),s;switch(t.finishedWork=f,t.finishedLanes=u,r){case 0:case 1:throw Error(j(345));case 2:Mr(t,Xt,Vn);break;case 3:if(ar(t,u),(u&130023424)===u&&(r=Lu+500-ot(),10<r)){if(To(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){Pt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=_a(Mr.bind(null,t,Xt,Vn),r);break}Mr(t,Xt,Vn);break;case 4:if(ar(t,u),(u&4194240)===u)break;for(r=t.eventTimes,f=-1;0<u;){var x=31-Sn(u);d=1<<x,x=r[x],x>f&&(f=x),u&=~d}if(u=f,u=ot()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*L2(u/1960))-u,10<u){t.timeoutHandle=_a(Mr.bind(null,t,Xt,Vn),u);break}Mr(t,Xt,Vn);break;case 5:Mr(t,Xt,Vn);break;default:throw Error(j(329))}}}return Kt(t,ot()),t.callbackNode===s?kf.bind(null,t):null}function Za(t,r){var s=us;return t.current.memoizedState.isDehydrated&&(Pr(t,r).flags|=256),t=Go(t,r),t!==2&&(r=Xt,Xt=s,r!==null&&Ka(r)),t}function Ka(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function F2(t){for(var r=t;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var f=s[u],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ar(t,r){for(r&=~Pu,r&=~sl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var s=31-Sn(r),u=1<<s;t[s]=-1,r&=~u}}function wc(t){if(Te&6)throw Error(j(327));Ci();var r=To(t,0);if(!(r&1))return Kt(t,ot()),null;var s=Go(t,r);if(t.tag!==0&&s===2){var u=Ca(t);u!==0&&(r=u,s=Za(t,u))}if(s===1)throw s=Ns,Pr(t,0),ar(t,r),Kt(t,ot()),s;if(s===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Mr(t,Xt,Vn),Kt(t,ot()),null}function Fu(t,r){var s=Te;Te|=1;try{return t(r)}finally{Te=s,Te===0&&(Ni=ot()+500,tl&&Sr())}}function Hr(t){cr!==null&&cr.tag===0&&!(Te&6)&&Ci();var r=Te;Te|=1;var s=hn.transition,u=De;try{if(hn.transition=null,De=1,t)return t()}finally{De=u,hn.transition=s,Te=r,!(Te&6)&&Sr()}}function Uu(){Jt=hi.current,He(hi)}function Pr(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,g2(s)),at!==null)for(s=at.return;s!==null;){var u=s;switch(Eu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Do();break;case 3:vi(),He(Yt),He(Mt),_u();break;case 5:Nu(u);break;case 4:vi();break;case 13:He(Ke);break;case 19:He(Ke);break;case 10:Su(u.type._context);break;case 22:case 23:Uu()}s=s.return}if(mt=t,at=t=mr(t.current,null),It=Jt=r,ht=0,Ns=null,Pu=sl=zr=0,Xt=us=null,kr!==null){for(r=0;r<kr.length;r++)if(s=kr[r],u=s.interleaved,u!==null){s.interleaved=null;var f=u.next,d=s.pending;if(d!==null){var x=d.next;d.next=f,u.next=x}s.pending=u}kr=null}return t}function Bf(t,r){do{var s=at;try{if(Au(),po.current=Vo,Uo){for(var u=Qe.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Uo=!1}if(Vr=0,wt=dt=Qe=null,ls=!1,Is=0,Bu.current=null,s===null||s.return===null){ht=1,Ns=r,at=null;break}e:{var d=t,x=s.return,y=s,A=r;if(r=It,y.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var E=A,O=y,T=O.tag;if(!(O.mode&1)&&(T===0||T===11||T===15)){var k=O.alternate;k?(O.updateQueue=k.updateQueue,O.memoizedState=k.memoizedState,O.lanes=k.lanes):(O.updateQueue=null,O.memoizedState=null)}var V=ic(x);if(V!==null){V.flags&=-257,sc(V,x,y,d,r),V.mode&1&&rc(d,E,r),r=V,A=E;var Z=r.updateQueue;if(Z===null){var z=new Set;z.add(A),r.updateQueue=z}else Z.add(A);break e}else{if(!(r&1)){rc(d,E,r),Vu();break e}A=Error(j(426))}}else if(Xe&&y.mode&1){var we=ic(x);if(we!==null){!(we.flags&65536)&&(we.flags|=256),sc(we,x,y,d,r),Cu(Ti(A,y));break e}}d=A=Ti(A,y),ht!==4&&(ht=2),us===null?us=[d]:us.push(d),d=x;do{switch(d.tag){case 3:d.flags|=65536,r&=-r,d.lanes|=r;var D=mf(d,A,r);q1(d,D);break e;case 1:y=A;var v=d.type,_=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(pr===null||!pr.has(_)))){d.flags|=65536,r&=-r,d.lanes|=r;var F=Ef(d,y,r);q1(d,F);break e}}d=d.return}while(d!==null)}Ff(s)}catch(q){r=q,at===s&&s!==null&&(at=s=s.return);continue}break}while(!0)}function Pf(){var t=zo.current;return zo.current=Vo,t===null?Vo:t}function Vu(){(ht===0||ht===3||ht===2)&&(ht=4),mt===null||!(zr&268435455)&&!(sl&268435455)||ar(mt,It)}function Go(t,r){var s=Te;Te|=2;var u=Pf();(mt!==t||It!==r)&&(Vn=null,Pr(t,r));do try{U2();break}catch(f){Bf(t,f)}while(!0);if(Au(),Te=s,zo.current=u,at!==null)throw Error(j(261));return mt=null,It=0,ht}function U2(){for(;at!==null;)Lf(at)}function V2(){for(;at!==null&&!fh();)Lf(at)}function Lf(t){var r=Vf(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,r===null?Ff(t):at=r,Bu.current=null}function Ff(t){var r=t;do{var s=r.alternate;if(t=r.return,r.flags&32768){if(s=b2(s,r),s!==null){s.flags&=32767,at=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,at=null;return}}else if(s=M2(s,r,Jt),s!==null){at=s;return}if(r=r.sibling,r!==null){at=r;return}at=r=t}while(r!==null);ht===0&&(ht=5)}function Mr(t,r,s){var u=De,f=hn.transition;try{hn.transition=null,De=1,z2(t,r,s,u)}finally{hn.transition=f,De=u}return null}function z2(t,r,s,u){do Ci();while(cr!==null);if(Te&6)throw Error(j(327));s=t.finishedWork;var f=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var d=s.lanes|s.childLanes;if(yh(t,d),t===mt&&(at=mt=null,It=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||lo||(lo=!0,zf(vo,function(){return Ci(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=hn.transition,hn.transition=null;var x=De;De=1;var y=Te;Te|=4,Bu.current=null,B2(t,s),Mf(s,t),l2(Ta),No=!!va,Ta=va=null,t.current=s,P2(s),dh(),Te=y,De=x,hn.transition=d}else t.current=s;if(lo&&(lo=!1,cr=t,Wo=f),d=t.pendingLanes,d===0&&(pr=null),xh(s.stateNode),Kt(t,ot()),r!==null)for(u=t.onRecoverableError,s=0;s<r.length;s++)f=r[s],u(f.value,{componentStack:f.stack,digest:f.digest});if(Ho)throw Ho=!1,t=ja,ja=null,t;return Wo&1&&t.tag!==0&&Ci(),d=t.pendingLanes,d&1?t===Ya?cs++:(cs=0,Ya=t):cs=0,Sr(),null}function Ci(){if(cr!==null){var t=w0(Wo),r=hn.transition,s=De;try{if(hn.transition=null,De=16>t?16:t,cr===null)var u=!1;else{if(t=cr,cr=null,Wo=0,Te&6)throw Error(j(331));var f=Te;for(Te|=4,ne=t.current;ne!==null;){var d=ne,x=d.child;if(ne.flags&16){var y=d.deletions;if(y!==null){for(var A=0;A<y.length;A++){var E=y[A];for(ne=E;ne!==null;){var O=ne;switch(O.tag){case 0:case 11:case 15:as(8,O,d)}var T=O.child;if(T!==null)T.return=O,ne=T;else for(;ne!==null;){O=ne;var k=O.sibling,V=O.return;if(Rf(O),O===E){ne=null;break}if(k!==null){k.return=V,ne=k;break}ne=V}}}var Z=d.alternate;if(Z!==null){var z=Z.child;if(z!==null){Z.child=null;do{var we=z.sibling;z.sibling=null,z=we}while(z!==null)}}ne=d}}if(d.subtreeFlags&2064&&x!==null)x.return=d,ne=x;else e:for(;ne!==null;){if(d=ne,d.flags&2048)switch(d.tag){case 0:case 11:case 15:as(9,d,d.return)}var D=d.sibling;if(D!==null){D.return=d.return,ne=D;break e}ne=d.return}}var v=t.current;for(ne=v;ne!==null;){x=ne;var _=x.child;if(x.subtreeFlags&2064&&_!==null)_.return=x,ne=_;else e:for(x=v;ne!==null;){if(y=ne,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:il(9,y)}}catch(q){rt(y,y.return,q)}if(y===x){ne=null;break e}var F=y.sibling;if(F!==null){F.return=y.return,ne=F;break e}ne=y.return}}if(Te=f,Sr(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Qo,t)}catch{}u=!0}return u}finally{De=s,hn.transition=r}}return!1}function mc(t,r,s){r=Ti(s,r),r=mf(t,r,1),t=xr(t,r,1),r=Pt(),t!==null&&(Rs(t,1,r),Kt(t,r))}function rt(t,r,s){if(t.tag===3)mc(t,t,s);else for(;r!==null;){if(r.tag===3){mc(r,t,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(pr===null||!pr.has(u))){t=Ti(s,t),t=Ef(r,t,1),r=xr(r,t,1),t=Pt(),r!==null&&(Rs(r,1,t),Kt(r,t));break}}r=r.return}}function H2(t,r,s){var u=t.pingCache;u!==null&&u.delete(r),r=Pt(),t.pingedLanes|=t.suspendedLanes&s,mt===t&&(It&s)===s&&(ht===4||ht===3&&(It&130023424)===It&&500>ot()-Lu?Pr(t,0):Pu|=s),Kt(t,r)}function Uf(t,r){r===0&&(t.mode&1?(r=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):r=1);var s=Pt();t=Yn(t,r),t!==null&&(Rs(t,r,s),Kt(t,s))}function W2(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Uf(t,s)}function G2(t,r){var s=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(j(314))}u!==null&&u.delete(r),Uf(t,s)}var Vf;Vf=function(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps||Yt.current)jt=!0;else{if(!(t.lanes&s)&&!(r.flags&128))return jt=!1,D2(t,r,s);jt=!!(t.flags&131072)}else jt=!1,Xe&&r.flags&1048576&&W0(r,ko,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;mo(t,r),t=r.pendingProps;var f=Ai(r,Mt.current);Ei(r,s),f=Ou(null,r,u,t,f,s);var d=Du();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Zt(u)?(d=!0,Mo(r)):d=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,vu(r),f.updater=rl,r.stateNode=f,f._reactInternals=r,Ba(r,u,t,s),r=Fa(null,r,u,!0,d,s)):(r.tag=0,Xe&&d&&mu(r),Bt(null,r,f,s),r=r.child),r;case 16:u=r.elementType;e:{switch(mo(t,r),t=r.pendingProps,f=u._init,u=f(u._payload),r.type=u,f=r.tag=j2(u),t=Cn(u,t),f){case 0:r=La(null,r,u,t,s);break e;case 1:r=ac(null,r,u,t,s);break e;case 11:r=oc(null,r,u,t,s);break e;case 14:r=lc(null,r,u,Cn(u.type,t),s);break e}throw Error(j(306,u,""))}return r;case 0:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Cn(u,f),La(t,r,u,f,s);case 1:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Cn(u,f),ac(t,r,u,f,s);case 3:e:{if(Sf(r),t===null)throw Error(j(387));u=r.pendingProps,d=r.memoizedState,f=d.element,K0(t,r),Lo(r,u,null,s);var x=r.memoizedState;if(u=x.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){f=Ti(Error(j(423)),r),r=uc(t,r,u,s,f);break e}else if(u!==f){f=Ti(Error(j(424)),r),r=uc(t,r,u,s,f);break e}else for($t=gr(r.stateNode.containerInfo.firstChild),en=r,Xe=!0,An=null,s=Y0(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Si(),u===f){r=Zn(t,r,s);break e}Bt(t,r,u,s)}r=r.child}return r;case 5:return Q0(r),t===null&&Ma(r),u=r.type,f=r.pendingProps,d=t!==null?t.memoizedProps:null,x=f.children,Na(u,f)?x=null:d!==null&&Na(u,d)&&(r.flags|=32),Af(t,r),Bt(t,r,x,s),r.child;case 6:return t===null&&Ma(r),null;case 13:return If(t,r,s);case 4:return Tu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Ii(r,null,u,s):Bt(t,r,u,s),r.child;case 11:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Cn(u,f),oc(t,r,u,f,s);case 7:return Bt(t,r,r.pendingProps,s),r.child;case 8:return Bt(t,r,r.pendingProps.children,s),r.child;case 12:return Bt(t,r,r.pendingProps.children,s),r.child;case 10:e:{if(u=r.type._context,f=r.pendingProps,d=r.memoizedProps,x=f.value,Ue(Bo,u._currentValue),u._currentValue=x,d!==null)if(vn(d.value,x)){if(d.children===f.children&&!Yt.current){r=Zn(t,r,s);break e}}else for(d=r.child,d!==null&&(d.return=r);d!==null;){var y=d.dependencies;if(y!==null){x=d.child;for(var A=y.firstContext;A!==null;){if(A.context===u){if(d.tag===1){A=Gn(-1,s&-s),A.tag=2;var E=d.updateQueue;if(E!==null){E=E.shared;var O=E.pending;O===null?A.next=A:(A.next=O.next,O.next=A),E.pending=A}}d.lanes|=s,A=d.alternate,A!==null&&(A.lanes|=s),ba(d.return,s,r),y.lanes|=s;break}A=A.next}}else if(d.tag===10)x=d.type===r.type?null:d.child;else if(d.tag===18){if(x=d.return,x===null)throw Error(j(341));x.lanes|=s,y=x.alternate,y!==null&&(y.lanes|=s),ba(x,s,r),x=d.sibling}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===r){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}Bt(t,r,f.children,s),r=r.child}return r;case 9:return f=r.type,u=r.pendingProps.children,Ei(r,s),f=gn(f),u=u(f),r.flags|=1,Bt(t,r,u,s),r.child;case 14:return u=r.type,f=Cn(u,r.pendingProps),f=Cn(u.type,f),lc(t,r,u,f,s);case 15:return Cf(t,r,r.type,r.pendingProps,s);case 17:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Cn(u,f),mo(t,r),r.tag=1,Zt(u)?(t=!0,Mo(r)):t=!1,Ei(r,s),wf(r,u,f),Ba(r,u,f,s),Fa(null,r,u,!0,t,s);case 19:return vf(t,r,s);case 22:return yf(t,r,s)}throw Error(j(156,r.tag))};function zf(t,r){return h0(t,r)}function X2(t,r,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,r,s,u){return new X2(t,r,s,u)}function zu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function j2(t){if(typeof t=="function")return zu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ou)return 11;if(t===lu)return 14}return 2}function mr(t,r){var s=t.alternate;return s===null?(s=dn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function yo(t,r,s,u,f,d){var x=2;if(u=t,typeof t=="function")zu(t)&&(x=1);else if(typeof t=="string")x=5;else e:switch(t){case ri:return Lr(s.children,f,d,r);case su:x=8,f|=8;break;case sa:return t=dn(12,s,r,f|2),t.elementType=sa,t.lanes=d,t;case oa:return t=dn(13,s,r,f),t.elementType=oa,t.lanes=d,t;case la:return t=dn(19,s,r,f),t.elementType=la,t.lanes=d,t;case Qc:return ol(s,f,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zc:x=10;break e;case Kc:x=9;break e;case ou:x=11;break e;case lu:x=14;break e;case sr:x=16,u=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return r=dn(x,s,r,f),r.elementType=t,r.type=u,r.lanes=d,r}function Lr(t,r,s,u){return t=dn(7,t,u,r),t.lanes=s,t}function ol(t,r,s,u){return t=dn(22,t,u,r),t.elementType=Qc,t.lanes=s,t.stateNode={isHidden:!1},t}function ta(t,r,s){return t=dn(6,t,null,r),t.lanes=s,t}function na(t,r,s){return r=dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Y2(t,r,s,u,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Hu(t,r,s,u,f,d,x,y,A){return t=new Y2(t,r,s,y,A),r===1?(r=1,d===!0&&(r|=8)):r=0,d=dn(3,null,null,r),t.current=d,d.stateNode=t,d.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(d),t}function Z2(t,r,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:u==null?null:""+u,children:t,containerInfo:r,implementation:s}}function Hf(t){if(!t)return Cr;t=t._reactInternals;e:{if(Gr(t)!==t||t.tag!==1)throw Error(j(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Zt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(j(171))}if(t.tag===1){var s=t.type;if(Zt(s))return z0(t,s,r)}return r}function Wf(t,r,s,u,f,d,x,y,A){return t=Hu(s,u,!0,t,f,d,x,y,A),t.context=Hf(null),s=t.current,u=Pt(),f=wr(s),d=Gn(u,f),d.callback=r??null,xr(s,d,f),t.current.lanes=f,Rs(t,f,u),Kt(t,u),t}function ll(t,r,s,u){var f=r.current,d=Pt(),x=wr(f);return s=Hf(s),r.context===null?r.context=s:r.pendingContext=s,r=Gn(d,x),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=xr(f,r,x),t!==null&&(In(t,f,x,d),xo(t,f,x)),x}function Xo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ec(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Wu(t,r){Ec(t,r),(t=t.alternate)&&Ec(t,r)}function K2(){return null}var Gf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gu(t){this._internalRoot=t}al.prototype.render=Gu.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(j(409));ll(t,r,null,null)};al.prototype.unmount=Gu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Hr(function(){ll(null,t,null,null)}),r[jn]=null}};function al(t){this._internalRoot=t}al.prototype.unstable_scheduleHydration=function(t){if(t){var r=C0();t={blockedOn:null,target:t,priority:r};for(var s=0;s<lr.length&&r!==0&&r<lr[s].priority;s++);lr.splice(s,0,t),s===0&&A0(t)}};function Xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cc(){}function Q2(t,r,s,u,f){if(f){if(typeof u=="function"){var d=u;u=function(){var E=Xo(x);d.call(E)}}var x=Wf(r,u,t,0,null,!1,!1,"",Cc);return t._reactRootContainer=x,t[jn]=x.current,Es(t.nodeType===8?t.parentNode:t),Hr(),x}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var y=u;u=function(){var E=Xo(A);y.call(E)}}var A=Hu(t,0,!1,null,null,!1,!1,"",Cc);return t._reactRootContainer=A,t[jn]=A.current,Es(t.nodeType===8?t.parentNode:t),Hr(function(){ll(r,A,s,u)}),A}function cl(t,r,s,u,f){var d=s._reactRootContainer;if(d){var x=d;if(typeof f=="function"){var y=f;f=function(){var A=Xo(x);y.call(A)}}ll(r,x,t,f)}else x=Q2(s,r,t,f,u);return Xo(x)}m0=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var s=es(r.pendingLanes);s!==0&&(cu(r,s|1),Kt(r,ot()),!(Te&6)&&(Ni=ot()+500,Sr()))}break;case 13:Hr(function(){var u=Yn(t,1);if(u!==null){var f=Pt();In(u,t,1,f)}}),Wu(t,1)}};fu=function(t){if(t.tag===13){var r=Yn(t,134217728);if(r!==null){var s=Pt();In(r,t,134217728,s)}Wu(t,134217728)}};E0=function(t){if(t.tag===13){var r=wr(t),s=Yn(t,r);if(s!==null){var u=Pt();In(s,t,r,u)}Wu(t,r)}};C0=function(){return De};y0=function(t,r){var s=De;try{return De=t,r()}finally{De=s}};wa=function(t,r,s){switch(r){case"input":if(ca(t,s),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==t&&u.form===t.form){var f=el(u);if(!f)throw Error(j(90));Jc(u),ca(u,f)}}}break;case"textarea":e0(t,s);break;case"select":r=s.value,r!=null&&xi(t,!!s.multiple,r,!1)}};l0=Fu;a0=Hr;var q2={usingClientEntryPoint:!1,Events:[Ds,li,el,s0,o0,Fu]},qi={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J2={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=f0(t),t===null?null:t.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||K2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{Qo=ao.inject(J2),Pn=ao}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q2;nn.createPortal=function(t,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xu(r))throw Error(j(200));return Z2(t,r,null,s)};nn.createRoot=function(t,r){if(!Xu(t))throw Error(j(299));var s=!1,u="",f=Gf;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Hu(t,1,!1,null,null,s,!1,u,f),t[jn]=r.current,Es(t.nodeType===8?t.parentNode:t),new Gu(r)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=f0(r),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return Hr(t)};nn.hydrate=function(t,r,s){if(!ul(r))throw Error(j(200));return cl(null,t,r,!0,s)};nn.hydrateRoot=function(t,r,s){if(!Xu(t))throw Error(j(405));var u=s!=null&&s.hydratedSources||null,f=!1,d="",x=Gf;if(s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),r=Wf(r,null,t,1,s??null,f,!1,d,x),t[jn]=r.current,Es(t),u)for(t=0;t<u.length;t++)s=u[t],f=s._getVersion,f=f(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,f]:r.mutableSourceEagerHydrationData.push(s,f);return new al(r)};nn.render=function(t,r,s){if(!ul(r))throw Error(j(200));return cl(null,t,r,!1,s)};nn.unmountComponentAtNode=function(t){if(!ul(t))throw Error(j(40));return t._reactRootContainer?(Hr(function(){cl(null,null,t,!1,function(){t._reactRootContainer=null,t[jn]=null})}),!0):!1};nn.unstable_batchedUpdates=Fu;nn.unstable_renderSubtreeIntoContainer=function(t,r,s,u){if(!ul(s))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return cl(t,r,s,!1,u)};nn.version="18.3.1-next-f1338f8080-20240426";function Xf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xf)}catch(t){console.error(t)}}Xf(),Gc.exports=nn;var $2=Gc.exports,yc=$2;ra.createRoot=yc.createRoot,ra.hydrateRoot=yc.hydrateRoot;var te;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(te||(te={}));var Ac=new Map([[te.QR_CODE,"QR_CODE"],[te.AZTEC,"AZTEC"],[te.CODABAR,"CODABAR"],[te.CODE_39,"CODE_39"],[te.CODE_93,"CODE_93"],[te.CODE_128,"CODE_128"],[te.DATA_MATRIX,"DATA_MATRIX"],[te.MAXICODE,"MAXICODE"],[te.ITF,"ITF"],[te.EAN_13,"EAN_13"],[te.EAN_8,"EAN_8"],[te.PDF_417,"PDF_417"],[te.RSS_14,"RSS_14"],[te.RSS_EXPANDED,"RSS_EXPANDED"],[te.UPC_A,"UPC_A"],[te.UPC_E,"UPC_E"],[te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Sc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Sc||(Sc={}));function eg(t){return Object.values(te).includes(t)}var jo;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(jo||(jo={}));var tg=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[jo.SCAN_TYPE_CAMERA,jo.SCAN_TYPE_FILE],t}(),jf=function(){function t(r,s){this.format=r,this.formatName=s}return t.prototype.toString=function(){return this.formatName},t.create=function(r){if(!Ac.has(r))throw"".concat(r," not in html5QrcodeSupportedFormatsTextMap");return new t(r,Ac.get(r))},t}(),Ic=function(){function t(){}return t.createFromText=function(r){var s={text:r};return{decodedText:r,result:s}},t.createFromQrcodeResult=function(r){return{decodedText:r.text,result:r}},t}(),Qa;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Qa||(Qa={}));var ng=function(){function t(){}return t.createFrom=function(r){return{errorMessage:r,type:Qa.UNKWOWN_ERROR}},t}(),rg=function(){function t(r){this.verbose=r}return t.prototype.log=function(r){this.verbose&&console.log(r)},t.prototype.warn=function(r){this.verbose&&console.warn(r)},t.prototype.logError=function(r,s){(this.verbose||s===!0)&&console.error(r)},t.prototype.logErrors=function(r){if(r.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(r)},t}();function Un(t){return typeof t>"u"||t===null}var gi=function(){function t(){}return t.codeParseError=function(r){return"QR code parse error, error = ".concat(r)},t.errorGettingUserMedia=function(r){return"Error getting userMedia, error = ".concat(r)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Yf=function(){function t(){}return t.isMediaStreamConstraintsValid=function(r,s){if(typeof r!="object"){var u=typeof r;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(u,"."),!0),!1}for(var f=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(f),x=Object.keys(r),y=0,A=x;y<A.length;y++){var E=A[y];if(d.has(E))return s.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},t}(),qa={exports:{}};(function(t,r){(function(s,u){u(r)})(Wi,function(s){function u(w){return w==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,e){w.__proto__=e}||function(w,e){for(var n in e)e.hasOwnProperty(n)&&(w[n]=e[n])};function d(w,e){f(w,e);function n(){this.constructor=w}w.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function x(w,e){var n=Object.setPrototypeOf;n?n(w,e):w.__proto__=e}function y(w,e){e===void 0&&(e=w.constructor);var n=Error.captureStackTrace;n&&n(w,e)}var A=function(w){d(e,w);function e(n){var i=this.constructor,o=w.call(this,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),x(o,i.prototype),y(o),o}return e}(Error);class E extends A{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}E.kind="Exception";class O extends E{}O.kind="ArgumentException";class T extends E{}T.kind="IllegalArgumentException";class k{constructor(e){if(this.binarizer=e,e===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,i,o){const l=this.binarizer.getLuminanceSource().crop(e,n,i,o);return new k(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class V extends E{static getChecksumInstance(){return new V}}V.kind="ChecksumException";class Z{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class z{static arraycopy(e,n,i,o,l){for(;l--;)i[o++]=e[n++]}static currentTimeMillis(){return Date.now()}}class we extends E{}we.kind="IndexOutOfBoundsException";class D extends we{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}D.kind="ArrayIndexOutOfBoundsException";class v{static fill(e,n){for(let i=0,o=e.length;i<o;i++)e[i]=n}static fillWithin(e,n,i,o){v.rangeCheck(e.length,n,i);for(let l=n;l<i;l++)e[l]=o}static rangeCheck(e,n,i){if(n>i)throw new T("fromIndex("+n+") > toIndex("+i+")");if(n<0)throw new D(n);if(i>e)throw new D(i)}static asList(...e){return e}static create(e,n,i){return Array.from({length:e}).map(l=>Array.from({length:n}).fill(i))}static createInt32Array(e,n,i){return Array.from({length:e}).map(l=>Int32Array.from({length:n}).fill(i))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let i=0,o=e.length;i<o;i++)if(e[i]!==n[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const i of e)n=31*n+i;return n}static fillUint8Array(e,n){for(let i=0;i!==e.length;i++)e[i]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const i=new Uint8Array(n);return i.set(e),i}return e.slice(0,n)}static copyOfRange(e,n,i){const o=i-n,l=new Int32Array(o);return z.arraycopy(e,n,l,0,o),l}static binarySearch(e,n,i){i===void 0&&(i=v.numberComparator);let o=0,l=e.length-1;for(;o<=l;){const a=l+o>>1,c=i(n,e[a]);if(c>0)o=a+1;else if(c<0)l=a-1;else return a}return-o-1}static numberComparator(e,n){return e-n}}class _{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let i=31;return n=e<<16,n!==0&&(i-=16,e=n),n=e<<8,n!==0&&(i-=8,e=n),n=e<<4,n!==0&&(i-=4,e=n),n=e<<2,n!==0&&(i-=2,e=n),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=F.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=F.makeArray(e);z.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const i=this.bits;let o=Math.floor(e/32),l=i[o];l&=~((1<<(e&31))-1);const a=i.length;for(;l===0;){if(++o===a)return n;l=i[o]}const c=o*32+_.numberOfTrailingZeros(l);return c>n?n:c}getNextUnset(e){const n=this.size;if(e>=n)return n;const i=this.bits;let o=Math.floor(e/32),l=~i[o];l&=~((1<<(e&31))-1);const a=i.length;for(;l===0;){if(++o===a)return n;l=~i[o]}const c=o*32+_.numberOfTrailingZeros(l);return c>n?n:c}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new T;if(n===e)return;n--;const i=Math.floor(e/32),o=Math.floor(n/32),l=this.bits;for(let a=i;a<=o;a++){const c=a>i?0:e&31,g=(2<<(a<o?31:n&31))-(1<<c);l[a]|=g}}clear(){const e=this.bits.length,n=this.bits;for(let i=0;i<e;i++)n[i]=0}isRange(e,n,i){if(n<e||e<0||n>this.size)throw new T;if(n===e)return!0;n--;const o=Math.floor(e/32),l=Math.floor(n/32),a=this.bits;for(let c=o;c<=l;c++){const h=c>o?0:e&31,p=(2<<(c<l?31:n&31))-(1<<h)&4294967295;if((a[c]&p)!==(i?p:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let i=n;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let i=0;i<n;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new T("Sizes don't match");const n=this.bits;for(let i=0,o=n.length;i<o;i++)n[i]^=e.bits[i]}toBytes(e,n,i,o){for(let l=0;l<o;l++){let a=0;for(let c=0;c<8;c++)this.get(e)&&(a|=1<<7-c),e++;n[i+l]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),i=n+1,o=this.bits;for(let l=0;l<i;l++){let a=o[l];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[n-l]=a}if(this.size!==i*32){const l=i*32-this.size;let a=e[0]>>>l;for(let c=1;c<i;c++){const h=e[c];a|=h<<32-l,e[c-1]=a,a=h>>>l}e[i-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof F))return!1;const n=e;return this.size===n.size&&v.equals(this.bits,n.bits)}hashCode(){return 31*this.size+v.hashCode(this.bits)}toString(){let e="";for(let n=0,i=this.size;n<i;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new F(this.size,this.bits.slice())}}var q;(function(w){w[w.OTHER=0]="OTHER",w[w.PURE_BARCODE=1]="PURE_BARCODE",w[w.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",w[w.TRY_HARDER=3]="TRY_HARDER",w[w.CHARACTER_SET=4]="CHARACTER_SET",w[w.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",w[w.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",w[w.ASSUME_GS1=7]="ASSUME_GS1",w[w.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",w[w.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",w[w.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var X=q;class B extends E{static getFormatInstance(){return new B}}B.kind="FormatException";var Q;(function(w){w[w.Cp437=0]="Cp437",w[w.ISO8859_1=1]="ISO8859_1",w[w.ISO8859_2=2]="ISO8859_2",w[w.ISO8859_3=3]="ISO8859_3",w[w.ISO8859_4=4]="ISO8859_4",w[w.ISO8859_5=5]="ISO8859_5",w[w.ISO8859_6=6]="ISO8859_6",w[w.ISO8859_7=7]="ISO8859_7",w[w.ISO8859_8=8]="ISO8859_8",w[w.ISO8859_9=9]="ISO8859_9",w[w.ISO8859_10=10]="ISO8859_10",w[w.ISO8859_11=11]="ISO8859_11",w[w.ISO8859_13=12]="ISO8859_13",w[w.ISO8859_14=13]="ISO8859_14",w[w.ISO8859_15=14]="ISO8859_15",w[w.ISO8859_16=15]="ISO8859_16",w[w.SJIS=16]="SJIS",w[w.Cp1250=17]="Cp1250",w[w.Cp1251=18]="Cp1251",w[w.Cp1252=19]="Cp1252",w[w.Cp1256=20]="Cp1256",w[w.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",w[w.UTF8=22]="UTF8",w[w.ASCII=23]="ASCII",w[w.Big5=24]="Big5",w[w.GB18030=25]="GB18030",w[w.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class H{constructor(e,n,i,...o){this.valueIdentifier=e,this.name=i,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,H.VALUE_IDENTIFIER_TO_ECI.set(e,this),H.NAME_TO_ECI.set(i,this);const l=this.values;for(let a=0,c=l.length;a!==c;a++){const h=l[a];H.VALUES_TO_ECI.set(h,this)}for(const a of o)H.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new B("incorect value");const n=H.VALUES_TO_ECI.get(e);if(n===void 0)throw new B("incorect value");return n}static getCharacterSetECIByName(e){const n=H.NAME_TO_ECI.get(e);if(n===void 0)throw new B("incorect value");return n}equals(e){if(!(e instanceof H))return!1;const n=e;return this.getName()===n.getName()}}H.VALUE_IDENTIFIER_TO_ECI=new Map,H.VALUES_TO_ECI=new Map,H.NAME_TO_ECI=new Map,H.Cp437=new H(Q.Cp437,Int32Array.from([0,2]),"Cp437"),H.ISO8859_1=new H(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),H.ISO8859_2=new H(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),H.ISO8859_3=new H(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),H.ISO8859_4=new H(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),H.ISO8859_5=new H(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),H.ISO8859_6=new H(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),H.ISO8859_7=new H(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),H.ISO8859_8=new H(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),H.ISO8859_9=new H(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),H.ISO8859_10=new H(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),H.ISO8859_11=new H(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),H.ISO8859_13=new H(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),H.ISO8859_14=new H(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),H.ISO8859_15=new H(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),H.ISO8859_16=new H(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),H.SJIS=new H(Q.SJIS,20,"SJIS","Shift_JIS"),H.Cp1250=new H(Q.Cp1250,21,"Cp1250","windows-1250"),H.Cp1251=new H(Q.Cp1251,22,"Cp1251","windows-1251"),H.Cp1252=new H(Q.Cp1252,23,"Cp1252","windows-1252"),H.Cp1256=new H(Q.Cp1256,24,"Cp1256","windows-1256"),H.UnicodeBigUnmarked=new H(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),H.UTF8=new H(Q.UTF8,26,"UTF8","UTF-8"),H.ASCII=new H(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),H.Big5=new H(Q.Big5,28,"Big5"),H.GB18030=new H(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),H.EUC_KR=new H(Q.EUC_KR,30,"EUC_KR","EUC-KR");class he extends E{}he.kind="UnsupportedOperationException";class Pe{static decode(e,n){const i=this.encodingName(n);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!Pe.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const i=this.encodingName(n);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof H?e:H.getCharacterSetECIByName(e)}static decodeFallback(e,n){const i=this.encodingCharacterSet(n);if(Pe.isDecodeFallbackSupported(i)){let o="";for(let l=0,a=e.length;l<a;l++){let c=e[l].toString(16);c.length<2&&(c="0"+c),o+="%"+c}return decodeURIComponent(o)}if(i.equals(H.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new he(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(H.UTF8)||e.equals(H.ISO8859_1)||e.equals(H.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let l=0;l<i.length;l++)o.push(i[l].charCodeAt(0));return new Uint8Array(o)}}class le{static castAsNonUtf8Char(e,n=null){const i=n?n.getName():this.ISO88591;return Pe.decode(new Uint8Array([e]),i)}static guessEncoding(e,n){if(n!=null&&n.get(X.CHARACTER_SET)!==void 0)return n.get(X.CHARACTER_SET).toString();const i=e.length;let o=!0,l=!0,a=!0,c=0,h=0,g=0,p=0,m=0,C=0,I=0,N=0,R=0,M=0,L=0;const Y=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let K=0;K<i&&(o||l||a);K++){const G=e[K]&255;a&&(c>0?G&128?c--:a=!1:G&128&&(G&64?(c++,G&32?(c++,G&16?(c++,G&8?a=!1:p++):g++):h++):a=!1)),o&&(G>127&&G<160?o=!1:G>159&&(G<192||G===215||G===247)&&L++),l&&(m>0?G<64||G===127||G>252?l=!1:m--:G===128||G===160||G>239?l=!1:G>160&&G<224?(C++,N=0,I++,I>R&&(R=I)):G>127?(m++,I=0,N++,N>M&&(M=N)):(I=0,N=0))}return a&&c>0&&(a=!1),l&&m>0&&(l=!1),a&&(Y||h+g+p>0)?le.UTF8:l&&(le.ASSUME_SHIFT_JIS||R>=3||M>=3)?le.SHIFT_JIS:o&&l?R===2&&C===2||L*10>=i?le.SHIFT_JIS:le.ISO88591:o?le.ISO88591:l?le.SHIFT_JIS:a?le.UTF8:le.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let i=-1;function o(a,c,h,g,p,m){if(a==="%%")return"%";if(n[++i]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let C=p?parseInt(p.substr(1)):void 0,I;switch(m){case"s":I=n[i];break;case"c":I=n[i][0];break;case"f":I=parseFloat(n[i]).toFixed(a);break;case"p":I=parseFloat(n[i]).toPrecision(a);break;case"e":I=parseFloat(n[i]).toExponential(a);break;case"x":I=parseInt(n[i]).toString(C||16);break;case"d":I=parseFloat(parseInt(n[i],C||10).toPrecision(a)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(C);let N=parseInt(h),R=h&&h[0]+""=="0"?"0":" ";for(;I.length<N;)I=c!==void 0?I+R:R+I;return I}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)}static getBytes(e,n){return Pe.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}le.SHIFT_JIS=H.SJIS.getName(),le.GB2312="GB2312",le.ISO88591=H.ISO8859_1.getName(),le.EUC_JP="EUC_JP",le.UTF8=H.UTF8.getName(),le.PLATFORM_DEFAULT_ENCODING=le.UTF8,le.ASSUME_SHIFT_JIS=!1;class ye{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=le.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,i){for(let o=n;n<n+i;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class it{constructor(e,n,i,o){if(this.width=e,this.height=n,this.rowSize=i,this.bits=o,n==null&&(n=e),this.height=n,e<1||n<1)throw new T("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,i=e[0].length,o=new it(i,n);for(let l=0;l<n;l++){const a=e[l];for(let c=0;c<i;c++)a[c]&&o.set(c,l)}return o}static parseFromString(e,n,i){if(e===null)throw new T("stringRepresentation cannot be null");const o=new Array(e.length);let l=0,a=0,c=-1,h=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(l>a){if(c===-1)c=l-a;else if(l-a!==c)throw new T("row lengths do not match");a=l,h++}g++}else if(e.substring(g,g+n.length)===n)g+=n.length,o[l]=!0,l++;else if(e.substring(g,g+i.length)===i)g+=i.length,o[l]=!1,l++;else throw new T("illegal character encountered: "+e.substring(g));if(l>a){if(c===-1)c=l-a;else if(l-a!==c)throw new T("row lengths do not match");h++}const p=new it(c,h);for(let m=0;m<l;m++)o[m]&&p.set(Math.floor(m%c),Math.floor(m/c));return p}get(e,n){const i=n*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new T("input matrix dimensions do not match");const n=new F(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let l=0,a=this.height;l<a;l++){const c=l*i,h=e.getRow(l,n).getBitArray();for(let g=0;g<i;g++)o[c+g]^=h[g]}}clear(){const e=this.bits,n=e.length;for(let i=0;i<n;i++)e[i]=0}setRegion(e,n,i,o){if(n<0||e<0)throw new T("Left and top must be nonnegative");if(o<1||i<1)throw new T("Height and width must be at least 1");const l=e+i,a=n+o;if(a>this.height||l>this.width)throw new T("The region must fit inside the matrix");const c=this.rowSize,h=this.bits;for(let g=n;g<a;g++){const p=g*c;for(let m=e;m<l;m++)h[p+Math.floor(m/32)]|=1<<(m&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new F(this.width):n.clear();const i=this.rowSize,o=this.bits,l=e*i;for(let a=0;a<i;a++)n.setBulk(a*32,o[l+a]);return n}setRow(e,n){z.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let i=new F(e),o=new F(e);for(let l=0,a=Math.floor((n+1)/2);l<a;l++)i=this.getRow(l,i),o=this.getRow(n-1-l,o),i.reverse(),o.reverse(),this.setRow(l,o),this.setRow(n-1-l,i)}getEnclosingRectangle(){const e=this.width,n=this.height,i=this.rowSize,o=this.bits;let l=e,a=n,c=-1,h=-1;for(let g=0;g<n;g++)for(let p=0;p<i;p++){const m=o[g*i+p];if(m!==0){if(g<a&&(a=g),g>h&&(h=g),p*32<l){let C=0;for(;!(m<<31-C&4294967295);)C++;p*32+C<l&&(l=p*32+C)}if(p*32+31>c){let C=31;for(;!(m>>>C);)C--;p*32+C>c&&(c=p*32+C)}}}return c<l||h<a?null:Int32Array.from([l,a,c-l+1,h-a+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let i=0;for(;i<n.length&&n[i]===0;)i++;if(i===n.length)return null;const o=i/e;let l=i%e*32;const a=n[i];let c=0;for(;!(a<<31-c&4294967295);)c++;return l+=c,Int32Array.from([l,o])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let i=n.length-1;for(;i>=0&&n[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/e);let l=Math.floor(i%e)*32;const a=n[i];let c=31;for(;!(a>>>c);)c--;return l+=c,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof it))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&v.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+v.hashCode(this.bits),e}toString(e="X ",n="  ",i=`
`){return this.buildToString(e,n,i)}buildToString(e,n,i){let o=new ye;for(let l=0,a=this.height;l<a;l++){for(let c=0,h=this.width;c<h;c++)o.append(this.get(c,l)?e:n);o.append(i)}return o.toString()}clone(){return new it(this.width,this.height,this.rowSize,this.bits.slice())}}class U extends E{static getNotFoundInstance(){return new U}}U.kind="NotFoundException";class Je extends Z{constructor(e){super(e),this.luminances=Je.EMPTY,this.buckets=new Int32Array(Je.LUMINANCE_BUCKETS)}getBlackRow(e,n){const i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new F(o):n.clear(),this.initArrays(o);const l=i.getRow(e,this.luminances),a=this.buckets;for(let h=0;h<o;h++)a[(l[h]&255)>>Je.LUMINANCE_SHIFT]++;const c=Je.estimateBlackPoint(a);if(o<3)for(let h=0;h<o;h++)(l[h]&255)<c&&n.set(h);else{let h=l[0]&255,g=l[1]&255;for(let p=1;p<o-1;p++){const m=l[p+1]&255;(g*4-h-m)/2<c&&n.set(p),h=g,g=m}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight(),o=new it(n,i);this.initArrays(n);const l=this.buckets;for(let h=1;h<5;h++){const g=Math.floor(i*h/5),p=e.getRow(g,this.luminances),m=Math.floor(n*4/5);for(let C=Math.floor(n/5);C<m;C++){const I=p[C]&255;l[I>>Je.LUMINANCE_SHIFT]++}}const a=Je.estimateBlackPoint(l),c=e.getMatrix();for(let h=0;h<i;h++){const g=h*n;for(let p=0;p<n;p++)(c[g+p]&255)<a&&o.set(p,h)}return o}createBinarizer(e){return new Je(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let i=0;i<Je.LUMINANCE_BUCKETS;i++)n[i]=0}static estimateBlackPoint(e){const n=e.length;let i=0,o=0,l=0;for(let p=0;p<n;p++)e[p]>l&&(o=p,l=e[p]),e[p]>i&&(i=e[p]);let a=0,c=0;for(let p=0;p<n;p++){const m=p-o,C=e[p]*m*m;C>c&&(a=p,c=C)}if(o>a){const p=o;o=a,a=p}if(a-o<=n/16)throw new U;let h=a-1,g=-1;for(let p=a-1;p>o;p--){const m=p-o,C=m*m*(a-p)*(i-e[p]);C>g&&(h=p,g=C)}return h<<Je.LUMINANCE_SHIFT}}Je.LUMINANCE_BITS=5,Je.LUMINANCE_SHIFT=8-Je.LUMINANCE_BITS,Je.LUMINANCE_BUCKETS=1<<Je.LUMINANCE_BITS,Je.EMPTY=Uint8ClampedArray.from([0]);class de extends Je{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight();if(n>=de.MINIMUM_DIMENSION&&i>=de.MINIMUM_DIMENSION){const o=e.getMatrix();let l=n>>de.BLOCK_SIZE_POWER;n&de.BLOCK_SIZE_MASK&&l++;let a=i>>de.BLOCK_SIZE_POWER;i&de.BLOCK_SIZE_MASK&&a++;const c=de.calculateBlackPoints(o,l,a,n,i),h=new it(n,i);de.calculateThresholdForBlock(o,l,a,n,i,c,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new de(e)}static calculateThresholdForBlock(e,n,i,o,l,a,c){const h=l-de.BLOCK_SIZE,g=o-de.BLOCK_SIZE;for(let p=0;p<i;p++){let m=p<<de.BLOCK_SIZE_POWER;m>h&&(m=h);const C=de.cap(p,2,i-3);for(let I=0;I<n;I++){let N=I<<de.BLOCK_SIZE_POWER;N>g&&(N=g);const R=de.cap(I,2,n-3);let M=0;for(let Y=-2;Y<=2;Y++){const K=a[C+Y];M+=K[R-2]+K[R-1]+K[R]+K[R+1]+K[R+2]}const L=M/25;de.thresholdBlock(e,N,m,L,o,c)}}}static cap(e,n,i){return e<n?n:e>i?i:e}static thresholdBlock(e,n,i,o,l,a){for(let c=0,h=i*l+n;c<de.BLOCK_SIZE;c++,h+=l)for(let g=0;g<de.BLOCK_SIZE;g++)(e[h+g]&255)<=o&&a.set(n+g,i+c)}static calculateBlackPoints(e,n,i,o,l){const a=l-de.BLOCK_SIZE,c=o-de.BLOCK_SIZE,h=new Array(i);for(let g=0;g<i;g++){h[g]=new Int32Array(n);let p=g<<de.BLOCK_SIZE_POWER;p>a&&(p=a);for(let m=0;m<n;m++){let C=m<<de.BLOCK_SIZE_POWER;C>c&&(C=c);let I=0,N=255,R=0;for(let L=0,Y=p*o+C;L<de.BLOCK_SIZE;L++,Y+=o){for(let K=0;K<de.BLOCK_SIZE;K++){const G=e[Y+K]&255;I+=G,G<N&&(N=G),G>R&&(R=G)}if(R-N>de.MIN_DYNAMIC_RANGE)for(L++,Y+=o;L<de.BLOCK_SIZE;L++,Y+=o)for(let K=0;K<de.BLOCK_SIZE;K++)I+=e[Y+K]&255}let M=I>>de.BLOCK_SIZE_POWER*2;if(R-N<=de.MIN_DYNAMIC_RANGE&&(M=N/2,g>0&&m>0)){const L=(h[g-1][m]+2*h[g][m-1]+h[g-1][m-1])/4;N<L&&(M=L)}h[g][m]=M}}return h}}de.BLOCK_SIZE_POWER=3,de.BLOCK_SIZE=1<<de.BLOCK_SIZE_POWER,de.BLOCK_SIZE_MASK=de.BLOCK_SIZE-1,de.MINIMUM_DIMENSION=de.BLOCK_SIZE*5,de.MIN_DYNAMIC_RANGE=24;class ${constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,i,o){throw new he("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new he("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new he("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new ye;for(let i=0;i<this.height;i++){const o=this.getRow(i,e);for(let l=0;l<this.width;l++){const a=o[l]&255;let c;a<64?c="#":a<128?c="+":a<192?c=".":c=" ",n.append(c)}n.append(`
`)}return n.toString()}}class ue extends ${constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const i=this.delegate.getRow(e,n),o=this.getWidth();for(let l=0;l<o;l++)i[l]=255-(i[l]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n);for(let o=0;o<n;o++)i[o]=255-(e[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,i,o){return new ue(this.delegate.crop(e,n,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ue(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ue(this.delegate.rotateCounterClockwise45())}}class fe extends ${constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return fe.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,i){const o=new Uint8ClampedArray(n*i);for(let l=0,a=0,c=e.length;l<c;l+=4,a++){let h;if(e[l+3]===0)h=255;else{const p=e[l],m=e[l+1],C=e[l+2];h=306*p+601*m+117*C+512>>10}o[a]=h}return o}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const i=this.getWidth(),o=e*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,i,o){return super.crop(e,n,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),i=n.getContext("2d"),o=e*fe.DEGREE_TO_RADIANS,l=this.canvas.width,a=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*a),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*a);return n.width=c,n.height=h,i.translate(c/2,h/2),i.rotate(o),i.drawImage(this.canvas,l/-2,a/-2),this.buffer=fe.makeBufferFromCanvasImageData(n),this}invert(){return new ue(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class We{constructor(e,n,i){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ae=(globalThis||Wi||self||window||void 0)&&(globalThis||Wi||self||window||void 0).__awaiter||function(w,e,n,i){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function c(p){try{g(i.next(p))}catch(m){a(m)}}function h(p){try{g(i.throw(p))}catch(m){a(m)}}function g(p){p.done?l(p.value):o(p.value).then(c,h)}g((i=i.apply(w,e||[])).next())})};class sn{constructor(e,n=500,i){this.reader=e,this.timeBetweenScansMillis=n,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const i of e){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const l=i.deviceId||i.id,a=i.label||`Video device ${n.length+1}`,c=i.groupId,h={deviceId:l,label:a,kind:o,groupId:c};n.push(h)}return n})}getVideoInputDevices(){return Ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new We(n.deviceId,n.label))})}findDeviceById(e){return Ae(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return Ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return Ae(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,n)})}decodeOnceFromConstraints(e,n){return Ae(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,n)})}decodeOnceFromStream(e,n){return Ae(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,n,i){return Ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,i)})}decodeFromVideoDevice(e,n,i){return Ae(this,void 0,void 0,function*(){let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,n,i)})}decodeFromConstraints(e,n,i){return Ae(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,n,i)})}decodeFromStream(e,n,i){return Ae(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return Ae(this,void 0,void 0,function*(){const i=this.prepareVideoElement(n);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((n,i)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const i=document.getElementById(e);if(!i)throw new O(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==n.toLowerCase())throw new O(`element with id '${e}' must be an ${n} element`);return i}decodeFromImage(e,n){if(!e&&!n)throw new O("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new O("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,i){if(e===void 0&&n===void 0)throw new O("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new O("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let i;return this.isImageLoaded(n)?i=this.decodeOnce(n,!1,!0):i=this._decodeOnLoadImage(n),i}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,n)}_decodeFromVideoElementSetup(e){if(!e)throw new O("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new O("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const i=this._decodeOnLoadImage(n);return n.src=e,i}decodeFromVideoUrl(e){if(!e)throw new O("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElement(n);return n.src=e,i}decodeFromVideoUrlContinuously(e,n){if(!e)throw new O("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,n);return i.src=e,o}_decodeOnLoadImage(e){return new Promise((n,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return Ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,i=!0){this._stopAsyncDecode=!1;const o=(l,a)=>{if(this._stopAsyncDecode){a(new U("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(e);l(c)}catch(c){const h=n&&c instanceof U,p=(c instanceof V||c instanceof B)&&i;if(h||p)return setTimeout(o,this._timeBetweenDecodingAttempts,l,a);a(c)}};return new Promise((l,a)=>o(l,a))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(e);n(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){n(null,o);const l=o instanceof V||o instanceof B,a=o instanceof U;(l||a)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,i){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,i=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),i=new fe(n),o=new de(i);return new k(o)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let i,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),n.style.width=i+"px",n.style.height=o+"px",n.width=i,n.height=o,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class je{constructor(e,n,i=n==null?0:8*n.length,o,l,a=z.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=i,this.resultPoints=o,this.format=l,this.timestamp=a,this.text=e,this.rawBytes=n,i==null?this.numBits=n==null?0:8*n.length:this.numBits=i,this.resultPoints=o,this.format=l,this.resultMetadata=null,a==null?this.timestamp=z.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(n.length+e.length);z.arraycopy(n,0,i,0,n.length),z.arraycopy(e,0,i,n.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ir;(function(w){w[w.AZTEC=0]="AZTEC",w[w.CODABAR=1]="CODABAR",w[w.CODE_39=2]="CODE_39",w[w.CODE_93=3]="CODE_93",w[w.CODE_128=4]="CODE_128",w[w.DATA_MATRIX=5]="DATA_MATRIX",w[w.EAN_8=6]="EAN_8",w[w.EAN_13=7]="EAN_13",w[w.ITF=8]="ITF",w[w.MAXICODE=9]="MAXICODE",w[w.PDF_417=10]="PDF_417",w[w.QR_CODE=11]="QR_CODE",w[w.RSS_14=12]="RSS_14",w[w.RSS_EXPANDED=13]="RSS_EXPANDED",w[w.UPC_A=14]="UPC_A",w[w.UPC_E=15]="UPC_E",w[w.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ir||(Ir={}));var ie=Ir,Qn;(function(w){w[w.OTHER=0]="OTHER",w[w.ORIENTATION=1]="ORIENTATION",w[w.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",w[w.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",w[w.ISSUE_NUMBER=4]="ISSUE_NUMBER",w[w.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",w[w.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",w[w.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",w[w.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",w[w.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",w[w.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Qn||(Qn={}));var gt=Qn;class Di{constructor(e,n,i,o,l=-1,a=-1){this.rawBytes=e,this.text=n,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Mi{exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Ut{constructor(e,n){if(n.length===0)throw new T;this.field=e;const i=n.length;if(i>1&&n[0]===0){let o=1;for(;o<i&&n[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),z.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let i;if(e===1){i=0;for(let a=0,c=n.length;a!==c;a++){const h=n[a];i=Mi.addOrSubtract(i,h)}return i}i=n[0];const o=n.length,l=this.field;for(let a=1;a<o;a++)i=Mi.addOrSubtract(l.multiply(e,i),n[a]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){const a=n;n=i,i=a}let o=new Int32Array(i.length);const l=i.length-n.length;z.arraycopy(i,0,o,0,l);for(let a=l;a<i.length;a++)o[a]=Mi.addOrSubtract(n[a-l],i[a]);return new Ut(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,i=n.length,o=e.coefficients,l=o.length,a=new Int32Array(i+l-1),c=this.field;for(let h=0;h<i;h++){const g=n[h];for(let p=0;p<l;p++)a[h+p]=Mi.addOrSubtract(a[h+p],c.multiply(g,o[p]))}return new Ut(c,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,i=this.field,o=new Int32Array(n),l=this.coefficients;for(let a=0;a<n;a++)o[a]=i.multiply(l[a],e);return new Ut(i,o)}multiplyByMonomial(e,n){if(e<0)throw new T;if(n===0)return this.field.getZero();const i=this.coefficients,o=i.length,l=new Int32Array(o+e),a=this.field;for(let c=0;c<o;c++)l[c]=a.multiply(i[c],n);return new Ut(a,l)}divide(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new T("Divide by 0");const n=this.field;let i=n.getZero(),o=this;const l=e.getCoefficient(e.getDegree()),a=n.inverse(l);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const c=o.getDegree()-e.getDegree(),h=n.multiply(o.getCoefficient(o.getDegree()),a),g=e.multiplyByMonomial(c,h),p=n.buildMonomial(c,h);i=i.addOrSubtract(p),o=o.addOrSubtract(g)}return[i,o]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),n===0||i!==1){const o=this.field.log(i);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class bs extends E{}bs.kind="ArithmeticException";class Ne extends Mi{constructor(e,n,i){super(),this.primitive=e,this.size=n,this.generatorBase=i;const o=new Int32Array(n);let l=1;for(let c=0;c<n;c++)o[c]=l,l*=2,l>=n&&(l^=e,l&=n-1);this.expTable=o;const a=new Int32Array(n);for(let c=0;c<n-1;c++)a[o[c]]=c;this.logTable=a,this.zero=new Ut(this,Int32Array.from([0])),this.one=new Ut(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new T;if(n===0)return this.zero;const i=new Int32Array(e+1);return i[0]=n,new Ut(this,i)}inverse(e){if(e===0)throw new bs;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}Ne.AZTEC_DATA_12=new Ne(4201,4096,1),Ne.AZTEC_DATA_10=new Ne(1033,1024,1),Ne.AZTEC_DATA_6=new Ne(67,64,1),Ne.AZTEC_PARAM=new Ne(19,16,1),Ne.QR_CODE_FIELD_256=new Ne(285,256,0),Ne.DATA_MATRIX_FIELD_256=new Ne(301,256,1),Ne.AZTEC_DATA_8=Ne.DATA_MATRIX_FIELD_256,Ne.MAXICODE_FIELD_64=Ne.AZTEC_DATA_6;class Xr extends E{}Xr.kind="ReedSolomonException";class Tn extends E{}Tn.kind="IllegalStateException";class bi{constructor(e){this.field=e}decode(e,n){const i=this.field,o=new Ut(i,e),l=new Int32Array(n);let a=!0;for(let I=0;I<n;I++){const N=o.evaluateAt(i.exp(I+i.getGeneratorBase()));l[l.length-1-I]=N,N!==0&&(a=!1)}if(a)return;const c=new Ut(i,l),h=this.runEuclideanAlgorithm(i.buildMonomial(n,1),c,n),g=h[0],p=h[1],m=this.findErrorLocations(g),C=this.findErrorMagnitudes(p,m);for(let I=0;I<m.length;I++){const N=e.length-1-i.log(m[I]);if(N<0)throw new Xr("Bad error location");e[N]=Ne.addOrSubtract(e[N],C[I])}}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){const I=e;e=n,n=I}const o=this.field;let l=e,a=n,c=o.getZero(),h=o.getOne();for(;a.getDegree()>=(i/2|0);){let I=l,N=c;if(l=a,c=h,l.isZero())throw new Xr("r_{i-1} was zero");a=I;let R=o.getZero();const M=l.getCoefficient(l.getDegree()),L=o.inverse(M);for(;a.getDegree()>=l.getDegree()&&!a.isZero();){const Y=a.getDegree()-l.getDegree(),K=o.multiply(a.getCoefficient(a.getDegree()),L);R=R.addOrSubtract(o.buildMonomial(Y,K)),a=a.addOrSubtract(l.multiplyByMonomial(Y,K))}if(h=R.multiply(c).addOrSubtract(N),a.getDegree()>=l.getDegree())throw new Tn("Division algorithm failed to reduce polynomial?")}const g=h.getCoefficient(0);if(g===0)throw new Xr("sigmaTilde(0) was zero");const p=o.inverse(g),m=h.multiplyScalar(p),C=a.multiplyScalar(p);return[m,C]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(n);let o=0;const l=this.field;for(let a=1;a<l.getSize()&&o<n;a++)e.evaluateAt(a)===0&&(i[o]=l.inverse(a),o++);if(o!==n)throw new Xr("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,n){const i=n.length,o=new Int32Array(i),l=this.field;for(let a=0;a<i;a++){const c=l.inverse(n[a]);let h=1;for(let g=0;g<i;g++)if(a!==g){const p=l.multiply(n[g],c),m=p&1?p&-2:p|1;h=l.multiply(h,m)}o[a]=l.multiply(e.evaluateAt(c),l.inverse(h)),l.getGeneratorBase()!==0&&(o[a]=l.multiply(o[a],c))}return o}}var Et;(function(w){w[w.UPPER=0]="UPPER",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.DIGIT=3]="DIGIT",w[w.PUNCT=4]="PUNCT",w[w.BINARY=5]="BINARY"})(Et||(Et={}));class Le{decode(e){this.ddata=e;let n=e.getBits(),i=this.extractBits(n),o=this.correctBits(i),l=Le.convertBoolArrayToByteArray(o),a=Le.getEncodedData(o),c=new Di(l,a,null,null);return c.setNumBits(o.length),c}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,i=Et.UPPER,o=Et.UPPER,l="",a=0;for(;a<n;)if(o===Et.BINARY){if(n-a<5)break;let c=Le.readCode(e,a,5);if(a+=5,c===0){if(n-a<11)break;c=Le.readCode(e,a,11)+31,a+=11}for(let h=0;h<c;h++){if(n-a<8){a=n;break}const g=Le.readCode(e,a,8);l+=le.castAsNonUtf8Char(g),a+=8}o=i}else{let c=o===Et.DIGIT?4:5;if(n-a<c)break;let h=Le.readCode(e,a,c);a+=c;let g=Le.getCharacter(o,h);g.startsWith("CTRL_")?(i=o,o=Le.getTable(g.charAt(5)),g.charAt(6)==="L"&&(i=o)):(l+=g,o=i)}return l}static getTable(e){switch(e){case"L":return Et.LOWER;case"P":return Et.PUNCT;case"M":return Et.MIXED;case"D":return Et.DIGIT;case"B":return Et.BINARY;case"U":default:return Et.UPPER}}static getCharacter(e,n){switch(e){case Et.UPPER:return Le.UPPER_TABLE[n];case Et.LOWER:return Le.LOWER_TABLE[n];case Et.MIXED:return Le.MIXED_TABLE[n];case Et.PUNCT:return Le.PUNCT_TABLE[n];case Et.DIGIT:return Le.DIGIT_TABLE[n];default:throw new Tn("Bad table")}}correctBits(e){let n,i;this.ddata.getNbLayers()<=2?(i=6,n=Ne.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=Ne.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=Ne.AZTEC_DATA_10):(i=12,n=Ne.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=e.length/i;if(l<o)throw new B;let a=e.length%i,c=new Int32Array(l);for(let C=0;C<l;C++,a+=i)c[C]=Le.readCode(e,a,i);try{new bi(n).decode(c,l-o)}catch(C){throw new B(C)}let h=(1<<i)-1,g=0;for(let C=0;C<o;C++){let I=c[C];if(I===0||I===h)throw new B;(I===1||I===h-1)&&g++}let p=new Array(o*i-g),m=0;for(let C=0;C<o;C++){let I=c[C];if(I===1||I===h-1)p.fill(I>1,m,m+i-1),m+=i-1;else for(let N=i-1;N>=0;--N)p[m++]=(I&1<<N)!==0}return p}extractBits(e){let n=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(n?11:14)+i*4,l=new Int32Array(o),a=new Array(this.totalBitsInLayer(i,n));if(n)for(let c=0;c<l.length;c++)l[c]=c;else{let c=o+1+2*_.truncDivision(_.truncDivision(o,2)-1,15),h=o/2,g=_.truncDivision(c,2);for(let p=0;p<h;p++){let m=p+_.truncDivision(p,15);l[h-p-1]=g-m-1,l[h+p]=g+m+1}}for(let c=0,h=0;c<i;c++){let g=(i-c)*4+(n?9:12),p=c*2,m=o-1-p;for(let C=0;C<g;C++){let I=C*2;for(let N=0;N<2;N++)a[h+I+N]=e.get(l[p+N],l[p+C]),a[h+2*g+I+N]=e.get(l[p+C],l[m-N]),a[h+4*g+I+N]=e.get(l[m-N],l[m-C]),a[h+6*g+I+N]=e.get(l[m-C],l[p+N])}h+=g*8}return a}static readCode(e,n,i){let o=0;for(let l=n;l<n+i;l++)o<<=1,e[l]&&(o|=1);return o}static readByte(e,n){let i=e.length-n;return i>=8?Le.readCode(e,n,8):Le.readCode(e,n,i)<<8-i}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let i=0;i<n.length;i++)n[i]=Le.readByte(e,8*i);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Le.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Le.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Le.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Le.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Le.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Se{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,i,o){const l=e-i,a=n-o;return Math.sqrt(l*l+a*a)}static sum(e){let n=0;for(let i=0,o=e.length;i!==o;i++){const l=e[i];n+=l}return n}}class ks{static floatToIntBits(e){return e}}ks.MAX_VALUE=Number.MAX_SAFE_INTEGER;class re{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof re){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*ks.floatToIntBits(this.x)+ks.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let l,a,c;if(i>=n&&i>=o?(a=e[0],l=e[1],c=e[2]):o>=i&&o>=n?(a=e[1],l=e[0],c=e[2]):(a=e[2],l=e[0],c=e[1]),this.crossProductZ(l,a,c)<0){const h=l;l=c,c=h}e[0]=l,e[1]=a,e[2]=c}static distance(e,n){return Se.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,i){const o=n.x,l=n.y;return(i.x-o)*(e.y-l)-(i.y-l)*(e.x-o)}}class Bs{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Yu extends Bs{constructor(e,n,i,o,l){super(e,n),this.compact=i,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Fn{constructor(e,n,i,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=Fn.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);const l=n/2|0;if(this.leftInit=i-l,this.rightInit=i+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new U}detect(){let e=this.leftInit,n=this.rightInit,i=this.upInit,o=this.downInit,l=!1,a=!0,c=!1,h=!1,g=!1,p=!1,m=!1;const C=this.width,I=this.height;for(;a;){a=!1;let N=!0;for(;(N||!h)&&n<C;)N=this.containsBlackPoint(i,o,n,!1),N?(n++,a=!0,h=!0):h||n++;if(n>=C){l=!0;break}let R=!0;for(;(R||!g)&&o<I;)R=this.containsBlackPoint(e,n,o,!0),R?(o++,a=!0,g=!0):g||o++;if(o>=I){l=!0;break}let M=!0;for(;(M||!p)&&e>=0;)M=this.containsBlackPoint(i,o,e,!1),M?(e--,a=!0,p=!0):p||e--;if(e<0){l=!0;break}let L=!0;for(;(L||!m)&&i>=0;)L=this.containsBlackPoint(e,n,i,!0),L?(i--,a=!0,m=!0):m||i--;if(i<0){l=!0;break}a&&(c=!0)}if(!l&&c){const N=n-e;let R=null;for(let K=1;R===null&&K<N;K++)R=this.getBlackPointOnSegment(e,o-K,e+K,o);if(R==null)throw new U;let M=null;for(let K=1;M===null&&K<N;K++)M=this.getBlackPointOnSegment(e,i+K,e+K,i);if(M==null)throw new U;let L=null;for(let K=1;L===null&&K<N;K++)L=this.getBlackPointOnSegment(n,i+K,n-K,i);if(L==null)throw new U;let Y=null;for(let K=1;Y===null&&K<N;K++)Y=this.getBlackPointOnSegment(n,o-K,n-K,o);if(Y==null)throw new U;return this.centerEdges(Y,R,L,M)}else throw new U}getBlackPointOnSegment(e,n,i,o){const l=Se.round(Se.distance(e,n,i,o)),a=(i-e)/l,c=(o-n)/l,h=this.image;for(let g=0;g<l;g++){const p=Se.round(e+g*a),m=Se.round(n+g*c);if(h.get(p,m))return new re(p,m)}return null}centerEdges(e,n,i,o){const l=e.getX(),a=e.getY(),c=n.getX(),h=n.getY(),g=i.getX(),p=i.getY(),m=o.getX(),C=o.getY(),I=Fn.CORR;return l<this.width/2?[new re(m-I,C+I),new re(c+I,h+I),new re(g-I,p-I),new re(l+I,a-I)]:[new re(m+I,C+I),new re(c+I,h-I),new re(g-I,p+I),new re(l-I,a-I)]}containsBlackPoint(e,n,i,o){const l=this.image;if(o){for(let a=e;a<=n;a++)if(l.get(a,i))return!0}else for(let a=e;a<=n;a++)if(l.get(i,a))return!0;return!1}}Fn.INIT_SIZE=10,Fn.CORR=1;class fl{static checkAndNudgePoints(e,n){const i=e.getWidth(),o=e.getHeight();let l=!0;for(let a=0;a<n.length&&l;a+=2){const c=Math.floor(n[a]),h=Math.floor(n[a+1]);if(c<-1||c>i||h<-1||h>o)throw new U;l=!1,c===-1?(n[a]=0,l=!0):c===i&&(n[a]=i-1,l=!0),h===-1?(n[a+1]=0,l=!0):h===o&&(n[a+1]=o-1,l=!0)}l=!0;for(let a=n.length-2;a>=0&&l;a-=2){const c=Math.floor(n[a]),h=Math.floor(n[a+1]);if(c<-1||c>i||h<-1||h>o)throw new U;l=!1,c===-1?(n[a]=0,l=!0):c===i&&(n[a]=i-1,l=!0),h===-1?(n[a+1]=0,l=!0):h===o&&(n[a+1]=o-1,l=!0)}}}class pn{constructor(e,n,i,o,l,a,c,h,g){this.a11=e,this.a21=n,this.a31=i,this.a12=o,this.a22=l,this.a32=a,this.a13=c,this.a23=h,this.a33=g}static quadrilateralToQuadrilateral(e,n,i,o,l,a,c,h,g,p,m,C,I,N,R,M){const L=pn.quadrilateralToSquare(e,n,i,o,l,a,c,h);return pn.squareToQuadrilateral(g,p,m,C,I,N,R,M).times(L)}transformPoints(e){const n=e.length,i=this.a11,o=this.a12,l=this.a13,a=this.a21,c=this.a22,h=this.a23,g=this.a31,p=this.a32,m=this.a33;for(let C=0;C<n;C+=2){const I=e[C],N=e[C+1],R=l*I+h*N+m;e[C]=(i*I+a*N+g)/R,e[C+1]=(o*I+c*N+p)/R}}transformPointsWithValues(e,n){const i=this.a11,o=this.a12,l=this.a13,a=this.a21,c=this.a22,h=this.a23,g=this.a31,p=this.a32,m=this.a33,C=e.length;for(let I=0;I<C;I++){const N=e[I],R=n[I],M=l*N+h*R+m;e[I]=(i*N+a*R+g)/M,n[I]=(o*N+c*R+p)/M}}static squareToQuadrilateral(e,n,i,o,l,a,c,h){const g=e-i+l-c,p=n-o+a-h;if(g===0&&p===0)return new pn(i-e,l-i,e,o-n,a-o,n,0,0,1);{const m=i-l,C=c-l,I=o-a,N=h-a,R=m*N-C*I,M=(g*N-C*p)/R,L=(m*p-g*I)/R;return new pn(i-e+M*i,c-e+L*c,e,o-n+M*o,h-n+L*h,n,M,L,1)}}static quadrilateralToSquare(e,n,i,o,l,a,c,h){return pn.squareToQuadrilateral(e,n,i,o,l,a,c,h).buildAdjoint()}buildAdjoint(){return new pn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new pn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Zu extends fl{sampleGrid(e,n,i,o,l,a,c,h,g,p,m,C,I,N,R,M,L,Y,K){const G=pn.quadrilateralToQuadrilateral(o,l,a,c,h,g,p,m,C,I,N,R,M,L,Y,K);return this.sampleGridWithTransform(e,n,i,G)}sampleGridWithTransform(e,n,i,o){if(n<=0||i<=0)throw new U;const l=new it(n,i),a=new Float32Array(2*n);for(let c=0;c<i;c++){const h=a.length,g=c+.5;for(let p=0;p<h;p+=2)a[p]=p/2+.5,a[p+1]=g;o.transformPoints(a),fl.checkAndNudgePoints(e,a);try{for(let p=0;p<h;p+=2)e.get(Math.floor(a[p]),Math.floor(a[p+1]))&&l.set(p/2,c)}catch{throw new U}}return l}}class qn{static setGridSampler(e){qn.gridSampler=e}static getInstance(){return qn.gridSampler}}qn.gridSampler=new Zu;class bt{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new re(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ku{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),i=this.getBullsEyeCorners(n);if(e){let a=i[0];i[0]=i[2],i[2]=a}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),l=this.getMatrixCornerPoints(i);return new Yu(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new U;let n=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(i,n);let o=0;for(let a=0;a<4;a++){let c=i[(this.shift+a)%4];this.compact?(o<<=7,o+=c>>1&127):(o<<=10,o+=(c>>2&992)+(c>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(e,n){let i=0;e.forEach((o,l,a)=>{let c=(o>>n-2<<1)+(o&1);i=(i<<3)+c}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(_.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new U}getCorrectedParameterData(e,n){let i,o;n?(i=7,o=2):(i=10,o=4);let l=i-o,a=new Int32Array(i);for(let h=i-1;h>=0;--h)a[h]=e&15,e>>=4;try{new bi(Ne.AZTEC_PARAM).decode(a,l)}catch{throw new U}let c=0;for(let h=0;h<o;h++)c=(c<<4)+a[h];return c}getBullsEyeCorners(e){let n=e,i=e,o=e,l=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let m=this.getFirstDifferent(n,a,1,-1),C=this.getFirstDifferent(i,a,1,1),I=this.getFirstDifferent(o,a,-1,1),N=this.getFirstDifferent(l,a,-1,-1);if(this.nbCenterLayers>2){let R=this.distancePoint(N,m)*this.nbCenterLayers/(this.distancePoint(l,n)*(this.nbCenterLayers+2));if(R<.75||R>1.25||!this.isWhiteOrBlackRectangle(m,C,I,N))break}n=m,i=C,o=I,l=N,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new U;this.compact=this.nbCenterLayers===5;let c=new re(n.getX()+.5,n.getY()-.5),h=new re(i.getX()+.5,i.getY()+.5),g=new re(o.getX()-.5,o.getY()+.5),p=new re(l.getX()-.5,l.getY()-.5);return this.expandSquare([c,h,g,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,i,o;try{let c=new Fn(this.image).detect();e=c[0],n=c[1],i=c[2],o=c[3]}catch{let h=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new bt(h+7,g-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new bt(h+7,g+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new bt(h-7,g+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new bt(h-7,g-7),!1,-1,-1).toResultPoint()}let l=Se.round((e.getX()+o.getX()+n.getX()+i.getX())/4),a=Se.round((e.getY()+o.getY()+n.getY()+i.getY())/4);try{let c=new Fn(this.image,15,l,a).detect();e=c[0],n=c[1],i=c[2],o=c[3]}catch{e=this.getFirstDifferent(new bt(l+7,a-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new bt(l+7,a+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new bt(l-7,a+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new bt(l-7,a-7),!1,-1,-1).toResultPoint()}return l=Se.round((e.getX()+o.getX()+n.getX()+i.getX())/4),a=Se.round((e.getY()+o.getY()+n.getY()+i.getY())/4),new bt(l,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,i,o,l){let a=qn.getInstance(),c=this.getDimension(),h=c/2-this.nbCenterLayers,g=c/2+this.nbCenterLayers;return a.sampleGrid(e,c,c,h,h,g,h,g,g,h,g,n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(e,n,i){let o=0,l=this.distanceResultPoint(e,n),a=l/i,c=e.getX(),h=e.getY(),g=a*(n.getX()-e.getX())/l,p=a*(n.getY()-e.getY())/l;for(let m=0;m<i;m++)this.image.get(Se.round(c+m*g),Se.round(h+m*p))&&(o|=1<<i-m-1);return o}isWhiteOrBlackRectangle(e,n,i,o){let l=3;e=new bt(e.getX()-l,e.getY()+l),n=new bt(n.getX()-l,n.getY()-l),i=new bt(i.getX()+l,i.getY()-l),o=new bt(o.getX()+l,o.getY()+l);let a=this.getColor(o,e);if(a===0)return!1;let c=this.getColor(e,n);return c!==a||(c=this.getColor(n,i),c!==a)?!1:(c=this.getColor(i,o),c===a)}getColor(e,n){let i=this.distancePoint(e,n),o=(n.getX()-e.getX())/i,l=(n.getY()-e.getY())/i,a=0,c=e.getX(),h=e.getY(),g=this.image.get(e.getX(),e.getY()),p=Math.ceil(i);for(let C=0;C<p;C++)c+=o,h+=l,this.image.get(Se.round(c),Se.round(h))!==g&&a++;let m=a/i;return m>.1&&m<.9?0:m<=.1===g?1:-1}getFirstDifferent(e,n,i,o){let l=e.getX()+i,a=e.getY()+o;for(;this.isValid(l,a)&&this.image.get(l,a)===n;)l+=i,a+=o;for(l-=i,a-=o;this.isValid(l,a)&&this.image.get(l,a)===n;)l+=i;for(l-=i;this.isValid(l,a)&&this.image.get(l,a)===n;)a+=o;return a-=o,new bt(l,a)}expandSquare(e,n,i){let o=i/(2*n),l=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,h=(e[0].getY()+e[2].getY())/2,g=new re(c+o*l,h+o*a),p=new re(c-o*l,h-o*a);l=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,h=(e[1].getY()+e[3].getY())/2;let m=new re(c+o*l,h+o*a),C=new re(c-o*l,h-o*a);return[g,m,p,C]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=Se.round(e.getX()),i=Se.round(e.getY());return this.isValid(n,i)}distancePoint(e,n){return Se.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return Se.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class Ps{decode(e,n=null){let i=null,o=new Ku(e.getBlackMatrix()),l=null,a=null;try{let p=o.detectMirror(!1);l=p.getPoints(),this.reportFoundResultPoints(n,l),a=new Le().decode(p)}catch(p){i=p}if(a==null)try{let p=o.detectMirror(!0);l=p.getPoints(),this.reportFoundResultPoints(n,l),a=new Le().decode(p)}catch(p){throw i??p}let c=new je(a.getText(),a.getRawBytes(),a.getNumBits(),l,ie.AZTEC,z.currentTimeMillis()),h=a.getByteSegments();h!=null&&c.putMetadata(gt.BYTE_SEGMENTS,h);let g=a.getECLevel();return g!=null&&c.putMetadata(gt.ERROR_CORRECTION_LEVEL,g),c}reportFoundResultPoints(e,n){if(e!=null){let i=e.get(X.NEED_RESULT_POINT_CALLBACK);i!=null&&n.forEach((o,l,a)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class Kf extends sn{constructor(e=500){super(new Ps,e)}}class lt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(X.TRY_HARDER)===!0&&e.isRotateSupported()){const l=e.rotateCounterClockwise(),a=this.doDecode(l,n),c=a.getResultMetadata();let h=270;c!==null&&c.get(gt.ORIENTATION)===!0&&(h=h+c.get(gt.ORIENTATION)%360),a.putMetadata(gt.ORIENTATION,h);const g=a.getResultPoints();if(g!==null){const p=l.getHeight();for(let m=0;m<g.length;m++)g[m]=new re(p-g[m].getY()-1,g[m].getX())}return a}else throw new U}}reset(){}doDecode(e,n){const i=e.getWidth(),o=e.getHeight();let l=new F(i);const a=n&&n.get(X.TRY_HARDER)===!0,c=Math.max(1,o>>(a?8:5));let h;a?h=o:h=15;const g=Math.trunc(o/2);for(let p=0;p<h;p++){const m=Math.trunc((p+1)/2),C=(p&1)===0,I=g+c*(C?m:-m);if(I<0||I>=o)break;try{l=e.getBlackRow(I,l)}catch{continue}for(let N=0;N<2;N++){if(N===1&&(l.reverse(),n&&n.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const R=new Map;n.forEach((M,L)=>R.set(L,M)),R.delete(X.NEED_RESULT_POINT_CALLBACK),n=R}try{const R=this.decodeRow(I,l,n);if(N===1){R.putMetadata(gt.ORIENTATION,180);const M=R.getResultPoints();M!==null&&(M[0]=new re(i-M[0].getX()-1,M[0].getY()),M[1]=new re(i-M[1].getX()-1,M[1].getY()))}return R}catch{}}}throw new U}static recordPattern(e,n,i){const o=i.length;for(let g=0;g<o;g++)i[g]=0;const l=e.getSize();if(n>=l)throw new U;let a=!e.get(n),c=0,h=n;for(;h<l;){if(e.get(h)!==a)i[c]++;else{if(++c===o)break;i[c]=1,a=!a}h++}if(!(c===o||c===o-1&&h===l))throw new U}static recordPatternInReverse(e,n,i){let o=i.length,l=e.get(n);for(;n>0&&o>=0;)e.get(--n)!==l&&(o--,l=!l);if(o>=0)throw new U;lt.recordPattern(e,n+1,i)}static patternMatchVariance(e,n,i){const o=e.length;let l=0,a=0;for(let g=0;g<o;g++)l+=e[g],a+=n[g];if(l<a)return Number.POSITIVE_INFINITY;const c=l/a;i*=c;let h=0;for(let g=0;g<o;g++){const p=e[g],m=n[g]*c,C=p>m?p-m:m-p;if(C>i)return Number.POSITIVE_INFINITY;h+=C}return h/l}}class J extends lt{static findStartPattern(e){const n=e.getSize(),i=e.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),a=i,c=!1;const h=6;for(let g=i;g<n;g++)if(e.get(g)!==c)l[o]++;else{if(o===h-1){let p=J.MAX_AVG_VARIANCE,m=-1;for(let C=J.CODE_START_A;C<=J.CODE_START_C;C++){const I=lt.patternMatchVariance(l,J.CODE_PATTERNS[C],J.MAX_INDIVIDUAL_VARIANCE);I<p&&(p=I,m=C)}if(m>=0&&e.isRange(Math.max(0,a-(g-a)/2),a,!1))return Int32Array.from([a,g,m]);a+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,c=!c}throw new U}static decodeCode(e,n,i){lt.recordPattern(e,i,n);let o=J.MAX_AVG_VARIANCE,l=-1;for(let a=0;a<J.CODE_PATTERNS.length;a++){const c=J.CODE_PATTERNS[a],h=this.patternMatchVariance(n,c,J.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=a)}if(l>=0)return l;throw new U}decodeRow(e,n,i){const o=i&&i.get(X.ASSUME_GS1)===!0,l=J.findStartPattern(n),a=l[2];let c=0;const h=new Uint8Array(20);h[c++]=a;let g;switch(a){case J.CODE_START_A:g=J.CODE_CODE_A;break;case J.CODE_START_B:g=J.CODE_CODE_B;break;case J.CODE_START_C:g=J.CODE_CODE_C;break;default:throw new B}let p=!1,m=!1,C="",I=l[0],N=l[1];const R=Int32Array.from([0,0,0,0,0,0]);let M=0,L=0,Y=a,K=0,G=!0,Ee=!1,ge=!1;for(;!p;){const ei=m;switch(m=!1,M=L,L=J.decodeCode(n,R,N),h[c++]=L,L!==J.CODE_STOP&&(G=!0),L!==J.CODE_STOP&&(K++,Y+=K*L),I=N,N+=R.reduce((Id,vd)=>Id+vd,0),L){case J.CODE_START_A:case J.CODE_START_B:case J.CODE_START_C:throw new B}switch(g){case J.CODE_CODE_A:if(L<64)ge===Ee?C+=String.fromCharCode(32+L):C+=String.fromCharCode(32+L+128),ge=!1;else if(L<96)ge===Ee?C+=String.fromCharCode(L-64):C+=String.fromCharCode(L+64),ge=!1;else switch(L!==J.CODE_STOP&&(G=!1),L){case J.CODE_FNC_1:o&&(C.length===0?C+="]C1":C+="");break;case J.CODE_FNC_2:case J.CODE_FNC_3:break;case J.CODE_FNC_4_A:!Ee&&ge?(Ee=!0,ge=!1):Ee&&ge?(Ee=!1,ge=!1):ge=!0;break;case J.CODE_SHIFT:m=!0,g=J.CODE_CODE_B;break;case J.CODE_CODE_B:g=J.CODE_CODE_B;break;case J.CODE_CODE_C:g=J.CODE_CODE_C;break;case J.CODE_STOP:p=!0;break}break;case J.CODE_CODE_B:if(L<96)ge===Ee?C+=String.fromCharCode(32+L):C+=String.fromCharCode(32+L+128),ge=!1;else switch(L!==J.CODE_STOP&&(G=!1),L){case J.CODE_FNC_1:o&&(C.length===0?C+="]C1":C+="");break;case J.CODE_FNC_2:case J.CODE_FNC_3:break;case J.CODE_FNC_4_B:!Ee&&ge?(Ee=!0,ge=!1):Ee&&ge?(Ee=!1,ge=!1):ge=!0;break;case J.CODE_SHIFT:m=!0,g=J.CODE_CODE_A;break;case J.CODE_CODE_A:g=J.CODE_CODE_A;break;case J.CODE_CODE_C:g=J.CODE_CODE_C;break;case J.CODE_STOP:p=!0;break}break;case J.CODE_CODE_C:if(L<100)L<10&&(C+="0"),C+=L;else switch(L!==J.CODE_STOP&&(G=!1),L){case J.CODE_FNC_1:o&&(C.length===0?C+="]C1":C+="");break;case J.CODE_CODE_A:g=J.CODE_CODE_A;break;case J.CODE_CODE_B:g=J.CODE_CODE_B;break;case J.CODE_STOP:p=!0;break}break}ei&&(g=g===J.CODE_CODE_A?J.CODE_CODE_B:J.CODE_CODE_A)}const Wt=N-I;if(N=n.getNextUnset(N),!n.isRange(N,Math.min(n.getSize(),N+(N-I)/2),!1))throw new U;if(Y-=K*M,Y%103!==M)throw new V;const mn=C.length;if(mn===0)throw new U;mn>0&&G&&(g===J.CODE_CODE_C?C=C.substring(0,mn-2):C=C.substring(0,mn-1));const Gt=(l[1]+l[0])/2,Be=I+Wt/2,At=h.length,Qt=new Uint8Array(At);for(let ei=0;ei<At;ei++)Qt[ei]=h[ei];const $r=[new re(Gt,e),new re(Be,e)];return new je(C,Qt,0,$r,ie.CODE_128,new Date().getTime())}}J.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],J.MAX_AVG_VARIANCE=.25,J.MAX_INDIVIDUAL_VARIANCE=.7,J.CODE_SHIFT=98,J.CODE_CODE_C=99,J.CODE_CODE_B=100,J.CODE_CODE_A=101,J.CODE_FNC_1=102,J.CODE_FNC_2=97,J.CODE_FNC_3=96,J.CODE_FNC_4_A=101,J.CODE_FNC_4_B=100,J.CODE_START_A=103,J.CODE_START_B=104,J.CODE_START_C=105,J.CODE_STOP=106;class ut extends lt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=ut.findAsteriskPattern(n,o),a=n.getNextSet(l[1]),c=n.getSize(),h,g;do{ut.recordPattern(n,a,o);let R=ut.toNarrowWidePattern(o);if(R<0)throw new U;h=ut.patternToChar(R),this.decodeRowResult+=h,g=a;for(let M of o)a+=M;a=n.getNextSet(a)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let p=0;for(let R of o)p+=R;let m=a-g-p;if(a!==c&&m*2<p)throw new U;if(this.usingCheckDigit){let R=this.decodeRowResult.length-1,M=0;for(let L=0;L<R;L++)M+=ut.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(L));if(this.decodeRowResult.charAt(R)!==ut.ALPHABET_STRING.charAt(M%43))throw new V;this.decodeRowResult=this.decodeRowResult.substring(0,R)}if(this.decodeRowResult.length===0)throw new U;let C;this.extendedMode?C=ut.decodeExtended(this.decodeRowResult):C=this.decodeRowResult;let I=(l[1]+l[0])/2,N=g+p/2;return new je(C,null,0,[new re(I,e),new re(N,e)],ie.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let i=e.getSize(),o=e.getNextSet(0),l=0,a=o,c=!1,h=n.length;for(let g=o;g<i;g++)if(e.get(g)!==c)n[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(n)===ut.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((g-a)/2)),a,!1))return[a,g];a+=n[0]+n[1],n.copyWithin(0,2,2+l-1),n[l-1]=0,n[l]=0,l--}else l++;n[l]=1,c=!c}throw new U}static toNarrowWidePattern(e){let n=e.length,i=0,o;do{let l=2147483647;for(let h of e)h<l&&h>i&&(l=h);i=l,o=0;let a=0,c=0;for(let h=0;h<n;h++){let g=e[h];g>i&&(c|=1<<n-1-h,o++,a+=g)}if(o===3){for(let h=0;h<n&&o>0;h++){let g=e[h];if(g>i&&(o--,g*2>=a))return-1}return c}}while(o>3);return-1}static patternToChar(e){for(let n=0;n<ut.CHARACTER_ENCODINGS.length;n++)if(ut.CHARACTER_ENCODINGS[n]===e)return ut.ALPHABET_STRING.charAt(n);if(e===ut.ASTERISK_ENCODING)return"*";throw new U}static decodeExtended(e){let n=e.length,i="";for(let o=0;o<n;o++){let l=e.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let a=e.charAt(o+1),c="\0";switch(l){case"+":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)+32);else throw new B;break;case"$":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)-64);else throw new B;break;case"%":if(a>="A"&&a<="E")c=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")c=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")c=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")c="\0";else if(a==="V")c="@";else if(a==="W")c="`";else if(a==="X"||a==="Y"||a==="Z")c="";else throw new B;break;case"/":if(a>="A"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")c=":";else throw new B;break}i+=c,o++}else i+=l}return i}}ut.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ut.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ut.ASTERISK_ENCODING=148;class be extends lt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,i){let o=this.decodeStart(n),l=this.decodeEnd(n),a=new ye;be.decodeMiddle(n,o[1],l[0],a);let c=a.toString(),h=null;i!=null&&(h=i.get(X.ALLOWED_LENGTHS)),h==null&&(h=be.DEFAULT_ALLOWED_LENGTHS);let g=c.length,p=!1,m=0;for(let N of h){if(g===N){p=!0;break}N>m&&(m=N)}if(!p&&g>m&&(p=!0),!p)throw new B;const C=[new re(o[1],e),new re(l[0],e)];return new je(c,null,0,C,ie.ITF,new Date().getTime())}static decodeMiddle(e,n,i,o){let l=new Int32Array(10),a=new Int32Array(5),c=new Int32Array(5);for(l.fill(0),a.fill(0),c.fill(0);n<i;){lt.recordPattern(e,n,l);for(let g=0;g<5;g++){let p=2*g;a[g]=l[p],c[g]=l[p+1]}let h=be.decodeDigit(a);o.append(h.toString()),h=this.decodeDigit(c),o.append(h.toString()),l.forEach(function(g){n+=g})}}decodeStart(e){let n=be.skipWhiteSpace(e),i=be.findGuardPattern(e,n,be.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,n){let i=this.narrowLineWidth*10;i=i<n?i:n;for(let o=n-1;i>0&&o>=0&&!e.get(o);o--)i--;if(i!==0)throw new U}static skipWhiteSpace(e){const n=e.getSize(),i=e.getNextSet(0);if(i===n)throw new U;return i}decodeEnd(e){e.reverse();try{let n=be.skipWhiteSpace(e),i;try{i=be.findGuardPattern(e,n,be.END_PATTERN_REVERSED[0])}catch(l){l instanceof U&&(i=be.findGuardPattern(e,n,be.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let o=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-o,i}finally{e.reverse()}}static findGuardPattern(e,n,i){let o=i.length,l=new Int32Array(o),a=e.getSize(),c=!1,h=0,g=n;l.fill(0);for(let p=n;p<a;p++)if(e.get(p)!==c)l[h]++;else{if(h===o-1){if(lt.patternMatchVariance(l,i,be.MAX_INDIVIDUAL_VARIANCE)<be.MAX_AVG_VARIANCE)return[g,p];g+=l[0]+l[1],z.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,c=!c}throw new U}static decodeDigit(e){let n=be.MAX_AVG_VARIANCE,i=-1,o=be.PATTERNS.length;for(let l=0;l<o;l++){let a=be.PATTERNS[l],c=lt.patternMatchVariance(e,a,be.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,i=l):c===n&&(i=-1)}if(i>=0)return i%10;throw new U}}be.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],be.MAX_AVG_VARIANCE=.38,be.MAX_INDIVIDUAL_VARIANCE=.5,be.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],be.START_PATTERN=Int32Array.from([1,1,1,1]),be.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class $e extends lt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,i,o=0,l=Int32Array.from([0,0,0]);for(;!n;){l=Int32Array.from([0,0,0]),i=$e.findGuardPattern(e,o,!1,this.START_END_PATTERN,l);let a=i[0];o=i[1];let c=a-(o-a);c>=0&&(n=e.isRange(c,a,!1))}return i}static checkChecksum(e){return $e.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return $e.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let o=n-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new B;i+=l}i*=3;for(let o=n-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new B;i+=l}return(1e3-i)%10}static decodeEnd(e,n){return $e.findGuardPattern(e,n,!1,$e.START_END_PATTERN,new Int32Array($e.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,i,o){return this.findGuardPattern(e,n,i,o,new Int32Array(o.length))}static findGuardPattern(e,n,i,o,l){let a=e.getSize();n=i?e.getNextUnset(n):e.getNextSet(n);let c=0,h=n,g=o.length,p=i;for(let m=n;m<a;m++)if(e.get(m)!==p)l[c]++;else{if(c===g-1){if(lt.patternMatchVariance(l,o,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return Int32Array.from([h,m]);h+=l[0]+l[1];let C=l.slice(2,l.length-1);for(let I=0;I<c-1;I++)l[I]=C[I];l[c-1]=0,l[c]=0,c--}else c++;l[c]=1,p=!p}throw new U}static decodeDigit(e,n,i,o){this.recordPattern(e,i,n);let l=this.MAX_AVG_VARIANCE,a=-1,c=o.length;for(let h=0;h<c;h++){let g=o[h],p=lt.patternMatchVariance(n,g,$e.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,a=h)}if(a>=0)return a;throw new U}}$e.MAX_AVG_VARIANCE=.48,$e.MAX_INDIVIDUAL_VARIANCE=.7,$e.START_END_PATTERN=Int32Array.from([1,1,1]),$e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),$e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),$e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ki{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(n,i,o),a=o.toString(),c=ki.parseExtensionString(a),h=[new re((i[0]+i[1])/2,e),new re(l,e)],g=new je(a,null,0,h,ie.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),a=n[1],c=0;for(let g=0;g<5&&a<l;g++){let p=$e.decodeDigit(e,o,a,$e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let m of o)a+=m;p>=10&&(c|=1<<4-g),g!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(i.length!==5)throw new U;let h=this.determineCheckDigit(c);if(ki.extensionChecksum(i.toString())!==h)throw new U;return a}static extensionChecksum(e){let n=e.length,i=0;for(let o=n-2;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-48;i*=3;for(let o=n-1;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new U}static parseExtensionString(e){if(e.length!==5)return null;let n=ki.parseExtension5String(e);return n==null?null:new Map([[gt.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let i=parseInt(e.substring(1)),o=(i/100).toString(),l=i%100,a=l<10?"0"+l:l.toString();return n+o+"."+a}}class dl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(n,i,o),a=o.toString(),c=dl.parseExtensionString(a),h=[new re((i[0]+i[1])/2,e),new re(l,e)],g=new je(a,null,0,h,ie.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),a=n[1],c=0;for(let h=0;h<2&&a<l;h++){let g=$e.decodeDigit(e,o,a,$e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);for(let p of o)a+=p;g>=10&&(c|=1<<1-h),h!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(i.length!==2)throw new U;if(parseInt(i.toString())%4!==c)throw new U;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[gt.ISSUE_NUMBER,parseInt(e)]])}}class Qu{static decodeRow(e,n,i){let o=$e.findGuardPattern(n,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ki().decodeRow(e,n,o)}catch{return new dl().decodeRow(e,n,o)}}}Qu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class _e extends $e{constructor(){super(),this.decodeRowStringBuffer="",_e.L_AND_G_PATTERNS=_e.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=_e.L_PATTERNS[e-10],i=new Int32Array(n.length);for(let o=0;o<n.length;o++)i[o]=n[n.length-o-1];_e.L_AND_G_PATTERNS[e]=i}}decodeRow(e,n,i){let o=_e.findStartGuardPattern(n),l=i==null?null:i.get(X.NEED_RESULT_POINT_CALLBACK);if(l!=null){const G=new re((o[0]+o[1])/2,e);l.foundPossibleResultPoint(G)}let a=this.decodeMiddle(n,o,this.decodeRowStringBuffer),c=a.rowOffset,h=a.resultString;if(l!=null){const G=new re(c,e);l.foundPossibleResultPoint(G)}let g=this.decodeEnd(n,c);if(l!=null){const G=new re((g[0]+g[1])/2,e);l.foundPossibleResultPoint(G)}let p=g[1],m=p+(p-g[0]);if(m>=n.getSize()||!n.isRange(p,m,!1))throw new U;let C=h.toString();if(C.length<8)throw new B;if(!_e.checkChecksum(C))throw new V;let I=(o[1]+o[0])/2,N=(g[1]+g[0])/2,R=this.getBarcodeFormat(),M=[new re(I,e),new re(N,e)],L=new je(C,null,0,M,R,new Date().getTime()),Y=0;try{let G=Qu.decodeRow(e,n,g[1]);L.putMetadata(gt.UPC_EAN_EXTENSION,G.getText()),L.putAllMetadata(G.getResultMetadata()),L.addResultPoints(G.getResultPoints()),Y=G.getText().length}catch{}let K=i==null?null:i.get(X.ALLOWED_EAN_EXTENSIONS);if(K!=null){let G=!1;for(let Ee in K)if(Y.toString()===Ee){G=!0;break}if(!G)throw new U}return L}decodeEnd(e,n){return _e.findGuardPattern(e,n,!1,_e.START_END_PATTERN,new Int32Array(_e.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return _e.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return _e.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let o=n-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new B;i+=l}i*=3;for(let o=n-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new B;i+=l}return(1e3-i)%10}}class vr extends _e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),a=n[1],c=0;for(let g=0;g<6&&a<l;g++){let p=_e.decodeDigit(e,o,a,_e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let m of o)a+=m;p>=10&&(c|=1<<5-g)}i=vr.determineFirstDigit(i,c),a=_e.findGuardPattern(e,a,!0,_e.MIDDLE_PATTERN,new Int32Array(_e.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&a<l;g++){let p=_e.decodeDigit(e,o,a,_e.L_PATTERNS);i+=String.fromCharCode(48+p);for(let m of o)a+=m}return{rowOffset:a,resultString:i}}getBarcodeFormat(){return ie.EAN_13}static determineFirstDigit(e,n){for(let i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new U}}vr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class qu extends _e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),a=n[1];for(let h=0;h<4&&a<l;h++){let g=_e.decodeDigit(e,o,a,_e.L_PATTERNS);i+=String.fromCharCode(48+g);for(let p of o)a+=p}a=_e.findGuardPattern(e,a,!0,_e.MIDDLE_PATTERN,new Int32Array(_e.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&a<l;h++){let g=_e.decodeDigit(e,o,a,_e.L_PATTERNS);i+=String.fromCharCode(48+g);for(let p of o)a+=p}return{rowOffset:a,resultString:i}}getBarcodeFormat(){return ie.EAN_8}}class Ju extends _e{constructor(){super(...arguments),this.ean13Reader=new vr}getBarcodeFormat(){return ie.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,i))}decodeMiddle(e,n,i){return this.ean13Reader.decodeMiddle(e,n,i)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let i=new je(n.substring(1),null,null,e.getResultPoints(),ie.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new U}reset(){this.ean13Reader.reset()}}class wn extends _e{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,i){const o=this.decodeMiddleCounters.map(g=>g);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=e.getSize();let a=n[1],c=0;for(let g=0;g<6&&a<l;g++){const p=wn.decodeDigit(e,o,a,wn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let m of o)a+=m;p>=10&&(c|=1<<5-g)}let h=wn.determineNumSysAndCheckDigit(i,c);return{rowOffset:a,resultString:h}}decodeEnd(e,n){return wn.findGuardPatternWithoutCounters(e,n,!0,wn.MIDDLE_END_PATTERN)}checkChecksum(e){return _e.checkChecksum(wn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let l=String.fromCharCode(48+i),a=String.fromCharCode(48+o);return l+e+a}throw U.getNotFoundInstance()}getBarcodeFormat(){return ie.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(l=>l.charCodeAt(0)),i=new ye;i.append(e.charAt(0));let o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}wn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class hl extends lt{constructor(e){super();let n=e==null?null:e.get(X.POSSIBLE_FORMATS),i=[];u(n)?(i.push(new vr),i.push(new Ju),i.push(new qu),i.push(new wn)):(n.indexOf(ie.EAN_13)>-1&&i.push(new vr),n.indexOf(ie.UPC_A)>-1&&i.push(new Ju),n.indexOf(ie.EAN_8)>-1&&i.push(new qu),n.indexOf(ie.UPC_E)>-1&&i.push(new wn)),this.readers=i}decodeRow(e,n,i){for(let o of this.readers)try{const l=o.decodeRow(e,n,i),a=l.getBarcodeFormat()===ie.EAN_13&&l.getText().charAt(0)==="0",c=i==null?null:i.get(X.POSSIBLE_FORMATS),h=c==null||c.includes(ie.UPC_A);if(a&&h){const g=l.getRawBytes(),p=new je(l.getText().substring(1),g,g?g.length:null,l.getResultPoints(),ie.UPC_A);return p.putAllMetadata(l.getResultMetadata()),p}return l}catch{}throw new U}reset(){for(let e of this.readers)e.reset()}}class Tt extends lt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let i=0;i<n.length;i++)if(lt.patternMatchVariance(e,n[i],Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return i;throw new U}static count(e){return Se.sum(new Int32Array(e))}static increment(e,n){let i=0,o=n[0];for(let l=1;l<e.length;l++)n[l]>o&&(o=n[l],i=l);e[i]++}static decrement(e,n){let i=0,o=n[0];for(let l=1;l<e.length;l++)n[l]<o&&(o=n[l],i=l);e[i]--}static isFinderPattern(e){let n=e[0]+e[1],i=n+e[2]+e[3],o=n/i;if(o>=Tt.MIN_FINDER_PATTERN_RATIO&&o<=Tt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let c of e)c>a&&(a=c),c<l&&(l=c);return a<10*l}return!1}}Tt.MAX_AVG_VARIANCE=.2,Tt.MAX_INDIVIDUAL_VARIANCE=.45,Tt.MIN_FINDER_PATTERN_RATIO=9.5/12,Tt.MAX_FINDER_PATTERN_RATIO=12.5/14;class jr{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof jr))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ls{constructor(e,n,i,o,l){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new re(i,l)),this.resultPoints.push(new re(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ls))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class Nn{constructor(){}static getRSSvalue(e,n,i){let o=0;for(let h of e)o+=h;let l=0,a=0,c=e.length;for(let h=0;h<c-1;h++){let g;for(g=1,a|=1<<h;g<e[h];g++,a&=~(1<<h)){let p=Nn.combins(o-g-1,c-h-2);if(i&&a===0&&o-g-(c-h-1)>=c-h-1&&(p-=Nn.combins(o-g-(c-h),c-h-2)),c-h-1>1){let m=0;for(let C=o-g-(c-h-2);C>n;C--)m+=Nn.combins(o-g-C-1,c-h-3);p-=m*(c-1-h)}else o-g>n&&p--;l+=p}o-=g}return l}static combins(e,n){let i,o;e-n>n?(o=n,i=e-n):(o=e-n,i=n);let l=1,a=1;for(let c=e;c>i;c--)l*=c,a<=o&&(l/=a,a++);for(;a<=o;)l/=a,a++;return l}}class Qf{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let i=12*n,o=new F(i),l=0,c=e[0].getRightChar().getValue();for(let h=11;h>=0;--h)c&1<<h&&o.set(l),l++;for(let h=1;h<e.length;++h){let g=e[h],p=g.getLeftChar().getValue();for(let m=11;m>=0;--m)p&1<<m&&o.set(l),l++;if(g.getRightChar()!=null){let m=g.getRightChar().getValue();for(let C=11;C>=0;--C)m&1<<C&&o.set(l),l++}}return o}}class Tr{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class gl{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Vt extends gl{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===Vt.FNC1}}Vt.FNC1="$";class Nr extends gl{constructor(e,n,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class on extends gl{constructor(e,n,i){if(super(e),n<0||n>10||i<0||i>10)throw new B;this.firstDigit=n,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===on.FNC1}isSecondDigitFNC1(){return this.secondDigit===on.FNC1}isAnyFNC1(){return this.firstDigit===on.FNC1||this.secondDigit===on.FNC1}}on.FNC1=10;class ee{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new U;let n=e.substring(0,2);for(let l of ee.TWO_DIGIT_DATA_LENGTH)if(l[0]===n)return l[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(2,l[2],e):ee.processFixedAI(2,l[1],e);if(e.length<3)throw new U;let i=e.substring(0,3);for(let l of ee.THREE_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(3,l[2],e):ee.processFixedAI(3,l[1],e);for(let l of ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(4,l[2],e):ee.processFixedAI(4,l[1],e);if(e.length<4)throw new U;let o=e.substring(0,4);for(let l of ee.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(4,l[2],e):ee.processFixedAI(4,l[1],e);throw new U}static processFixedAI(e,n,i){if(i.length<e)throw new U;let o=i.substring(0,e);if(i.length<e+n)throw new U;let l=i.substring(e,e+n),a=i.substring(e+n),c="("+o+")"+l,h=ee.parseFieldsInGeneralPurpose(a);return h==null?c:c+h}static processVariableAI(e,n,i){let o=i.substring(0,e),l;i.length<e+n?l=i.length:l=e+n;let a=i.substring(e,l),c=i.substring(l),h="("+o+")"+a,g=ee.parseFieldsInGeneralPurpose(c);return g==null?h:h+g}}ee.VARIABLE_LENGTH=[],ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ee.VARIABLE_LENGTH,20],["22",ee.VARIABLE_LENGTH,29],["30",ee.VARIABLE_LENGTH,8],["37",ee.VARIABLE_LENGTH,8],["90",ee.VARIABLE_LENGTH,30],["91",ee.VARIABLE_LENGTH,30],["92",ee.VARIABLE_LENGTH,30],["93",ee.VARIABLE_LENGTH,30],["94",ee.VARIABLE_LENGTH,30],["95",ee.VARIABLE_LENGTH,30],["96",ee.VARIABLE_LENGTH,30],["97",ee.VARIABLE_LENGTH,3],["98",ee.VARIABLE_LENGTH,30],["99",ee.VARIABLE_LENGTH,30]],ee.THREE_DIGIT_DATA_LENGTH=[["240",ee.VARIABLE_LENGTH,30],["241",ee.VARIABLE_LENGTH,30],["242",ee.VARIABLE_LENGTH,6],["250",ee.VARIABLE_LENGTH,30],["251",ee.VARIABLE_LENGTH,30],["253",ee.VARIABLE_LENGTH,17],["254",ee.VARIABLE_LENGTH,20],["400",ee.VARIABLE_LENGTH,30],["401",ee.VARIABLE_LENGTH,30],["402",17],["403",ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ee.VARIABLE_LENGTH,20],["421",ee.VARIABLE_LENGTH,15],["422",3],["423",ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ee.VARIABLE_LENGTH,15],["391",ee.VARIABLE_LENGTH,18],["392",ee.VARIABLE_LENGTH,15],["393",ee.VARIABLE_LENGTH,18],["703",ee.VARIABLE_LENGTH,30]],ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ee.VARIABLE_LENGTH,20],["8003",ee.VARIABLE_LENGTH,30],["8004",ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ee.VARIABLE_LENGTH,30],["8008",ee.VARIABLE_LENGTH,12],["8018",18],["8020",ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ee.VARIABLE_LENGTH,70],["8200",ee.VARIABLE_LENGTH,70]];class Yr{constructor(e){this.buffer=new ye,this.information=e}decodeAllCodes(e,n){let i=n,o=null;do{let l=this.decodeGeneralPurposeField(i,o),a=ee.parseFieldsInGeneralPurpose(l.getNewString());if(a!=null&&e.append(a),l.isRemaining()?o=""+l.getRemainingValue():o=null,i===l.getNewPosition())break;i=l.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(e,4);return l===0?new on(this.information.getSize(),on.FNC1,on.FNC1):new on(this.information.getSize(),l-1,on.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,o=(n-8)%11;return new on(e+7,i,o)}extractNumericValueFromBitArray(e,n){return Yr.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,i){let o=0;for(let l=0;l<i;++l)e.get(n+l)&&(o|=1<<i-l-1);return o}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Nr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Nr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let i=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new Nr(this.current.getPosition(),this.buffer.toString()):n=new Nr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Tr(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new Nr(this.current.getPosition(),this.buffer.toString());return new Tr(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Tr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Nr(this.current.getPosition(),this.buffer.toString());return new Tr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Tr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Nr(this.current.getPosition(),this.buffer.toString());return new Tr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Tr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Vt(e+5,Vt.FNC1);if(n>=5&&n<15)return new Vt(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new Vt(e+7,""+(i+1));if(i>=90&&i<116)return new Vt(e+7,""+(i+7));let o=this.extractNumericValueFromBitArray(e,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new B}return new Vt(e+8,l)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Vt(e+5,Vt.FNC1);if(n>=5&&n<15)return new Vt(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new Vt(e+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new Tn("Decoding invalid alphanumeric value: "+i)}return new Vt(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class xl{constructor(e){this.information=e,this.generalDecoder=new Yr(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class zt extends xl{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,i)}encodeCompressedGtinWithoutAI(e,n,i){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);l/100===0&&e.append("0"),l/10===0&&e.append("0"),e.append(l)}zt.appendCheckDigit(e,i)}static appendCheckDigit(e,n){let i=0;for(let o=0;o<13;o++){let l=e.charAt(o+n).charCodeAt(0)-48;i+=o&1?l:3*l}i=10-i%10,i===10&&(i=0),e.append(i)}}zt.GTIN_SIZE=40;class Zr extends zt{constructor(e){super(e)}parseInformation(){let e=new ye;e.append("(01)");let n=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Zr.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,Zr.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,Zr.HEADER_SIZE+44)}}Zr.HEADER_SIZE=4;class Fs extends xl{constructor(e){super(e)}parseInformation(){let e=new ye;return this.getGeneralDecoder().decodeAllCodes(e,Fs.HEADER_SIZE)}}Fs.HEADER_SIZE=5;class Us extends zt{constructor(e){super(e)}encodeCompressedWeight(e,n,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(e,o);let l=this.checkWeight(o),a=1e5;for(let c=0;c<5;++c)l/a===0&&e.append("0"),a/=10;e.append(l)}}class _n extends Us{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=_n.HEADER_SIZE+Us.GTIN_SIZE+_n.WEIGHT_SIZE)throw new U;let e=new ye;return this.encodeCompressedGtin(e,_n.HEADER_SIZE),this.encodeCompressedWeight(e,_n.HEADER_SIZE+Us.GTIN_SIZE,_n.WEIGHT_SIZE),e.toString()}}_n.HEADER_SIZE=5,_n.WEIGHT_SIZE=15;class qf extends _n{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class Jf extends _n{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Rn extends zt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Rn.HEADER_SIZE+zt.GTIN_SIZE)throw new U;let e=new ye;this.encodeCompressedGtin(e,Rn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Rn.HEADER_SIZE+zt.GTIN_SIZE,Rn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Rn.HEADER_SIZE+zt.GTIN_SIZE+Rn.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}Rn.HEADER_SIZE=8,Rn.LAST_DIGIT_SIZE=2;class kt extends zt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<kt.HEADER_SIZE+zt.GTIN_SIZE)throw new U;let e=new ye;this.encodeCompressedGtin(e,kt.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(kt.HEADER_SIZE+zt.GTIN_SIZE,kt.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(kt.HEADER_SIZE+zt.GTIN_SIZE+kt.LAST_DIGIT_SIZE,kt.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(kt.HEADER_SIZE+zt.GTIN_SIZE+kt.LAST_DIGIT_SIZE+kt.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()}}kt.HEADER_SIZE=8,kt.LAST_DIGIT_SIZE=2,kt.FIRST_THREE_DIGITS_SIZE=10;class Ge extends Us{constructor(e,n,i){super(e),this.dateCode=i,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=Ge.HEADER_SIZE+Ge.GTIN_SIZE+Ge.WEIGHT_SIZE+Ge.DATE_SIZE)throw new U;let e=new ye;return this.encodeCompressedGtin(e,Ge.HEADER_SIZE),this.encodeCompressedWeight(e,Ge.HEADER_SIZE+Ge.GTIN_SIZE,Ge.WEIGHT_SIZE),this.encodeCompressedDate(e,Ge.HEADER_SIZE+Ge.GTIN_SIZE+Ge.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,Ge.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let o=i%32;i/=32;let l=i%12+1;i/=12;let a=i;a/10==0&&e.append("0"),e.append(a),l/10==0&&e.append("0"),e.append(l),o/10==0&&e.append("0"),e.append(o)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}Ge.HEADER_SIZE=8,Ge.WEIGHT_SIZE=20,Ge.DATE_SIZE=16;function $u(w){try{if(w.get(1))return new Zr(w);if(!w.get(2))return new Fs(w);switch(Yr.extractNumericValueFromBitArray(w,1,4)){case 4:return new qf(w);case 5:return new Jf(w)}switch(Yr.extractNumericValueFromBitArray(w,1,5)){case 12:return new Rn(w);case 13:return new kt(w)}switch(Yr.extractNumericValueFromBitArray(w,1,7)){case 56:return new Ge(w,"310","11");case 57:return new Ge(w,"320","11");case 58:return new Ge(w,"310","13");case 59:return new Ge(w,"320","13");case 60:return new Ge(w,"310","15");case 61:return new Ge(w,"320","15");case 62:return new Ge(w,"310","17");case 63:return new Ge(w,"320","17")}}catch(e){throw console.log(e),new Tn("unknown decoder: "+w)}}class Jn{constructor(e,n,i,o){this.leftchar=e,this.rightchar=n,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof Jn?Jn.equalsOrNull(e.leftchar,n.leftchar)&&Jn.equalsOrNull(e.rightchar,n.rightchar)&&Jn.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:Jn.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class pl{constructor(e,n,i){this.pairs=e,this.rowNumber=n,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof pl?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let i;return e.forEach((o,l)=>{n.forEach(a=>{o.getLeftChar().getValue()===a.getLeftChar().getValue()&&o.getRightChar().getValue()===a.getRightChar().getValue()&&o.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(i=!0)})}),i}}class W extends Tt{constructor(e){super(...arguments),this.pairs=new Array(W.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,i){this.pairs.length=0,this.startFromEven=!1;try{return W.constructResult(this.decodeRow2pairs(e,n))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,W.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(l){if(l instanceof U){if(!this.pairs.length)throw new U;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new U}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let i=n;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(o.getPairs()),!W.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(e);l.push(o);try{return this.checkRows(l,i+1)}catch(a){this.verbose&&console.log(a)}}throw new U}static isValidSequence(e){for(let n of W.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let i=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=n[o]){i=!1;break}if(i)return!0}return!1}storeRow(e,n){let i=0,o=!1,l=!1;for(;i<this.rows.length;){let a=this.rows[i];if(a.getRowNumber()>e){l=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),i++}l||o||W.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new pl(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let i of n)if(i.getPairs().length!==e.length){for(let o of i.getPairs())for(let l of e)if(Jn.equals(o,l))break}}static isPartialRow(e,n){for(let i of n){let o=!0;for(let l of e){let a=!1;for(let c of i.getPairs())if(l.equals(c)){a=!0;break}if(!a){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Qf.buildBitArray(e),o=$u(n).parseInformation(),l=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),c=[l[0],l[1],a[0],a[1]];return new je(o,null,null,c,ie.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),l=2;for(let c=1;c<this.pairs.size();++c){let h=this.pairs.get(c);o+=h.getLeftChar().getChecksumPortion(),l++;let g=h.getRightChar();g!=null&&(o+=g.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==n.getValue()}static getNextSecondBar(e,n){let i;return e.get(n)?(i=e.getNextUnset(n),i=e.getNextSet(i)):(i=e.getNextSet(n),i=e.getNextUnset(i)),i}retrieveNextPair(e,n,i){let o=n.length%2==0;this.startFromEven&&(o=!o);let l,a=!0,c=-1;do this.findNextPair(e,n,c),l=this.parseFoundFinderPattern(e,i,o),l==null?c=W.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let h=this.decodeDataCharacter(e,l,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new U;let g;try{g=this.decodeDataCharacter(e,l,o,!1)}catch(p){g=null,this.verbose&&console.log(p)}return new Jn(h,g,l,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),a;i>=0?a=i:this.isEmptyPair(n)?a=0:a=n[n.length-1].getFinderPattern().getStartEnd()[1];let c=n.length%2!=0;this.startFromEven&&(c=!c);let h=!1;for(;a<l&&(h=!e.get(a),!!h);)a++;let g=0,p=a;for(let m=a;m<l;m++)if(e.get(m)!=h)o[g]++;else{if(g==3){if(c&&W.reverseCounters(o),W.isFinderPattern(o)){this.startEnd[0]=p,this.startEnd[1]=m;return}c&&W.reverseCounters(o),p+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,h=!h}throw new U}static reverseCounters(e){let n=e.length;for(let i=0;i<n/2;++i){let o=e[i];e[i]=e[n-i-1],e[n-i-1]=o}}parseFoundFinderPattern(e,n,i){let o,l,a;if(i){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,o=this.startEnd[0]-g,l=g,a=this.startEnd[1]}else l=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),o=a-this.startEnd[1];let c=this.getDecodeFinderCounters();z.arraycopy(c,0,c,1,c.length-1),c[0]=o;let h;try{h=this.parseFinderValue(c,W.FINDER_PATTERNS)}catch{return null}return new Ls(h,[l,a],l,a,n)}decodeDataCharacter(e,n,i,o){let l=this.getDataCharacterCounters();for(let Be=0;Be<l.length;Be++)l[Be]=0;if(o)W.recordPatternInReverse(e,n.getStartEnd()[0],l);else{W.recordPattern(e,n.getStartEnd()[1],l);for(let Be=0,At=l.length-1;Be<At;Be++,At--){let Qt=l[Be];l[Be]=l[At],l[At]=Qt}}let a=17,c=Se.sum(new Int32Array(l))/a,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(c-h)/h>.3)throw new U;let g=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let Be=0;Be<l.length;Be++){let At=1*l[Be]/c,Qt=At+.5;if(Qt<1){if(At<.3)throw new U;Qt=1}else if(Qt>8){if(At>8.7)throw new U;Qt=8}let $r=Be/2;Be&1?(p[$r]=Qt,C[$r]=At-Qt):(g[$r]=Qt,m[$r]=At-Qt)}this.adjustOddEvenCounts(a);let I=4*n.getValue()+(i?0:2)+(o?0:1)-1,N=0,R=0;for(let Be=g.length-1;Be>=0;Be--){if(W.isNotA1left(n,i,o)){let At=W.WEIGHTS[I][2*Be];R+=g[Be]*At}N+=g[Be]}let M=0;for(let Be=p.length-1;Be>=0;Be--)if(W.isNotA1left(n,i,o)){let At=W.WEIGHTS[I][2*Be+1];M+=p[Be]*At}let L=R+M;if(N&1||N>13||N<4)throw new U;let Y=(13-N)/2,K=W.SYMBOL_WIDEST[Y],G=9-K,Ee=Nn.getRSSvalue(g,K,!0),ge=Nn.getRSSvalue(p,G,!1),Wt=W.EVEN_TOTAL_SUBSET[Y],mn=W.GSUM[Y],Gt=Ee*Wt+ge+mn;return new jr(Gt,L)}static isNotA1left(e,n,i){return!(e.getValue()==0&&n&&i)}adjustOddEvenCounts(e){let n=Se.sum(new Int32Array(this.getOddCounts())),i=Se.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;n>13?l=!0:n<4&&(o=!0);let a=!1,c=!1;i>13?c=!0:i<4&&(a=!0);let h=n+i-e,g=(n&1)==1,p=(i&1)==0;if(h==1)if(g){if(p)throw new U;l=!0}else{if(!p)throw new U;c=!0}else if(h==-1)if(g){if(p)throw new U;o=!0}else{if(!p)throw new U;a=!0}else if(h==0){if(g){if(!p)throw new U;n<i?(o=!0,c=!0):(l=!0,a=!0)}else if(p)throw new U}else throw new U;if(o){if(l)throw new U;W.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&W.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(c)throw new U;W.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&W.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}W.SYMBOL_WIDEST=[7,5,4,3,1],W.EVEN_TOTAL_SUBSET=[4,20,52,104,204],W.GSUM=[0,348,1388,2948,3988],W.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],W.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],W.FINDER_PAT_A=0,W.FINDER_PAT_B=1,W.FINDER_PAT_C=2,W.FINDER_PAT_D=3,W.FINDER_PAT_E=4,W.FINDER_PAT_F=5,W.FINDER_PATTERN_SEQUENCES=[[W.FINDER_PAT_A,W.FINDER_PAT_A],[W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B],[W.FINDER_PAT_A,W.FINDER_PAT_C,W.FINDER_PAT_B,W.FINDER_PAT_D],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_C],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_D,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_D],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_E],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F]],W.MAX_PAIRS=11;class $f extends jr{constructor(e,n,i){super(e,n),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class et extends Tt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,i){const o=this.decodePair(n,!1,e,i);et.addOrTally(this.possibleLeftPairs,o),n.reverse();let l=this.decodePair(n,!0,e,i);et.addOrTally(this.possibleRightPairs,l),n.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&et.checkChecksum(a,c))return et.constructResult(a,c)}throw new U}static addOrTally(e,n){if(n==null)return;let i=!1;for(let o of e)if(o.getValue()===n.getValue()){o.incrementCount(),i=!0;break}i||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let i=4537077*e.getValue()+n.getValue(),o=new String(i).toString(),l=new ye;for(let g=13-o.length;g>0;g--)l.append("0");l.append(o);let a=0;for(let g=0;g<13;g++){let p=l.charAt(g).charCodeAt(0)-48;a+=g&1?p:3*p}a=10-a%10,a===10&&(a=0),l.append(a.toString());let c=e.getFinderPattern().getResultPoints(),h=n.getFinderPattern().getResultPoints();return new je(l.toString(),null,0,[c[0],c[1],h[0],h[1]],ie.RSS_14,new Date().getTime())}static checkChecksum(e,n){let i=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(e,n,i,o){try{let l=this.findFinderPattern(e,n),a=this.parseFoundFinderPattern(e,i,n,l),c=o==null?null:o.get(X.NEED_RESULT_POINT_CALLBACK);if(c!=null){let p=(l[0]+l[1])/2;n&&(p=e.getSize()-1-p),c.foundPossibleResultPoint(new re(p,i))}let h=this.decodeDataCharacter(e,a,!0),g=this.decodeDataCharacter(e,a,!1);return new $f(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,n,i){let o=this.getDataCharacterCounters();for(let M=0;M<o.length;M++)o[M]=0;if(i)lt.recordPatternInReverse(e,n.getStartEnd()[0],o);else{lt.recordPattern(e,n.getStartEnd()[1]+1,o);for(let M=0,L=o.length-1;M<L;M++,L--){let Y=o[M];o[M]=o[L],o[L]=Y}}let l=i?16:15,a=Se.sum(new Int32Array(o))/l,c=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(let M=0;M<o.length;M++){let L=o[M]/a,Y=Math.floor(L+.5);Y<1?Y=1:Y>8&&(Y=8);let K=Math.floor(M/2);M&1?(h[K]=Y,p[K]=L-Y):(c[K]=Y,g[K]=L-Y)}this.adjustOddEvenCounts(i,l);let m=0,C=0;for(let M=c.length-1;M>=0;M--)C*=9,C+=c[M],m+=c[M];let I=0,N=0;for(let M=h.length-1;M>=0;M--)I*=9,I+=h[M],N+=h[M];let R=C+3*I;if(i){if(m&1||m>12||m<4)throw new U;let M=(12-m)/2,L=et.OUTSIDE_ODD_WIDEST[M],Y=9-L,K=Nn.getRSSvalue(c,L,!1),G=Nn.getRSSvalue(h,Y,!0),Ee=et.OUTSIDE_EVEN_TOTAL_SUBSET[M],ge=et.OUTSIDE_GSUM[M];return new jr(K*Ee+G+ge,R)}else{if(N&1||N>10||N<4)throw new U;let M=(10-N)/2,L=et.INSIDE_ODD_WIDEST[M],Y=9-L,K=Nn.getRSSvalue(c,L,!0),G=Nn.getRSSvalue(h,Y,!1),Ee=et.INSIDE_ODD_TOTAL_SUBSET[M],ge=et.INSIDE_GSUM[M];return new jr(G*Ee+K+ge,R)}}findFinderPattern(e,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),l=!1,a=0;for(;a<o&&(l=!e.get(a),n!==l);)a++;let c=0,h=a;for(let g=a;g<o;g++)if(e.get(g)!==l)i[c]++;else{if(c===3){if(Tt.isFinderPattern(i))return[h,g];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,l=!l}throw new U}parseFoundFinderPattern(e,n,i,o){let l=e.get(o[0]),a=o[0]-1;for(;a>=0&&l!==e.get(a);)a--;a++;const c=o[0]-a,h=this.getDecodeFinderCounters(),g=new Int32Array(h.length);z.arraycopy(h,0,g,1,h.length-1),g[0]=c;const p=this.parseFinderValue(g,et.FINDER_PATTERNS);let m=a,C=o[1];return i&&(m=e.getSize()-1-m,C=e.getSize()-1-C),new Ls(p,[a,o[1]],m,C,n)}adjustOddEvenCounts(e,n){let i=Se.sum(new Int32Array(this.getOddCounts())),o=Se.sum(new Int32Array(this.getEvenCounts())),l=!1,a=!1,c=!1,h=!1;e?(i>12?a=!0:i<4&&(l=!0),o>12?h=!0:o<4&&(c=!0)):(i>11?a=!0:i<5&&(l=!0),o>10?h=!0:o<4&&(c=!0));let g=i+o-n,p=(i&1)===(e?1:0),m=(o&1)===1;if(g===1)if(p){if(m)throw new U;a=!0}else{if(!m)throw new U;h=!0}else if(g===-1)if(p){if(m)throw new U;l=!0}else{if(!m)throw new U;c=!0}else if(g===0){if(p){if(!m)throw new U;i<o?(l=!0,h=!0):(a=!0,c=!0)}else if(m)throw new U}else throw new U;if(l){if(a)throw new U;Tt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Tt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new U;Tt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Tt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}et.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],et.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],et.OUTSIDE_GSUM=[0,161,961,2015,2715],et.INSIDE_GSUM=[0,336,1036,1516],et.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],et.INSIDE_ODD_WIDEST=[2,4,6,8],et.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Kr extends lt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const i=e?e.get(X.POSSIBLE_FORMATS):null,o=e&&e.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(ie.EAN_13)||i.includes(ie.UPC_A)||i.includes(ie.EAN_8)||i.includes(ie.UPC_E))&&this.readers.push(new hl(e)),i.includes(ie.CODE_39)&&this.readers.push(new ut(o)),i.includes(ie.CODE_128)&&this.readers.push(new J),i.includes(ie.ITF)&&this.readers.push(new be),i.includes(ie.RSS_14)&&this.readers.push(new et),i.includes(ie.RSS_EXPANDED)&&this.readers.push(new W(this.verbose))):(this.readers.push(new hl(e)),this.readers.push(new ut),this.readers.push(new hl(e)),this.readers.push(new J),this.readers.push(new be),this.readers.push(new et),this.readers.push(new W(this.verbose)))}decodeRow(e,n,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,n,i)}catch{}throw new U}reset(){this.readers.forEach(e=>e.reset())}}class ed extends sn{constructor(e=500,n){super(new Kr(n),e,n)}}class Oe{constructor(e,n,i){this.ecCodewords=e,this.ecBlocks=[n],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Re{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ce{constructor(e,n,i,o,l,a){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=a;let c=0;const h=a.getECCodewords(),g=a.getECBlocks();for(let p of g)c+=p.getCount()*(p.getDataCodewords()+h);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new B;for(let i of Ce.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===n)return i;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Ce(1,10,10,8,8,new Oe(5,new Re(1,3))),new Ce(2,12,12,10,10,new Oe(7,new Re(1,5))),new Ce(3,14,14,12,12,new Oe(10,new Re(1,8))),new Ce(4,16,16,14,14,new Oe(12,new Re(1,12))),new Ce(5,18,18,16,16,new Oe(14,new Re(1,18))),new Ce(6,20,20,18,18,new Oe(18,new Re(1,22))),new Ce(7,22,22,20,20,new Oe(20,new Re(1,30))),new Ce(8,24,24,22,22,new Oe(24,new Re(1,36))),new Ce(9,26,26,24,24,new Oe(28,new Re(1,44))),new Ce(10,32,32,14,14,new Oe(36,new Re(1,62))),new Ce(11,36,36,16,16,new Oe(42,new Re(1,86))),new Ce(12,40,40,18,18,new Oe(48,new Re(1,114))),new Ce(13,44,44,20,20,new Oe(56,new Re(1,144))),new Ce(14,48,48,22,22,new Oe(68,new Re(1,174))),new Ce(15,52,52,24,24,new Oe(42,new Re(2,102))),new Ce(16,64,64,14,14,new Oe(56,new Re(2,140))),new Ce(17,72,72,16,16,new Oe(36,new Re(4,92))),new Ce(18,80,80,18,18,new Oe(48,new Re(4,114))),new Ce(19,88,88,20,20,new Oe(56,new Re(4,144))),new Ce(20,96,96,22,22,new Oe(68,new Re(4,174))),new Ce(21,104,104,24,24,new Oe(56,new Re(6,136))),new Ce(22,120,120,18,18,new Oe(68,new Re(6,175))),new Ce(23,132,132,20,20,new Oe(62,new Re(8,163))),new Ce(24,144,144,22,22,new Oe(62,new Re(8,156),new Re(2,155))),new Ce(25,8,18,6,16,new Oe(7,new Re(1,5))),new Ce(26,8,32,6,14,new Oe(11,new Re(1,10))),new Ce(27,12,26,10,24,new Oe(14,new Re(1,16))),new Ce(28,12,36,10,16,new Oe(18,new Re(1,22))),new Ce(29,16,36,14,16,new Oe(24,new Re(1,32))),new Ce(30,16,48,14,22,new Oe(28,new Re(1,49)))]}}Ce.VERSIONS=Ce.buildVersions();class wl{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new B;this.version=wl.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new it(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),i=e.getWidth();return Ce.getVersionForDimensions(n,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,i=4,o=0;const l=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let c=!1,h=!1,g=!1,p=!1;do if(i===l&&o===0&&!c)e[n++]=this.readCorner1(l,a)&255,i-=2,o+=2,c=!0;else if(i===l-2&&o===0&&a&3&&!h)e[n++]=this.readCorner2(l,a)&255,i-=2,o+=2,h=!0;else if(i===l+4&&o===2&&!(a&7)&&!g)e[n++]=this.readCorner3(l,a)&255,i-=2,o+=2,g=!0;else if(i===l-2&&o===0&&(a&7)===4&&!p)e[n++]=this.readCorner4(l,a)&255,i-=2,o+=2,p=!0;else{do i<l&&o>=0&&!this.readMappingMatrix.get(o,i)&&(e[n++]=this.readUtah(i,o,l,a)&255),i-=2,o+=2;while(i>=0&&o<a);i+=1,o+=3;do i>=0&&o<a&&!this.readMappingMatrix.get(o,i)&&(e[n++]=this.readUtah(i,o,l,a)&255),i+=2,o-=2;while(i<l&&o>=0);i+=3,o+=1}while(i<l||o<a);if(n!==this.version.getTotalCodewords())throw new B;return e}readModule(e,n,i,o){return e<0&&(e+=i,n+=4-(i+4&7)),n<0&&(n+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,i,o){let l=0;return this.readModule(e-2,n-2,i,o)&&(l|=1),l<<=1,this.readModule(e-2,n-1,i,o)&&(l|=1),l<<=1,this.readModule(e-1,n-2,i,o)&&(l|=1),l<<=1,this.readModule(e-1,n-1,i,o)&&(l|=1),l<<=1,this.readModule(e-1,n,i,o)&&(l|=1),l<<=1,this.readModule(e,n-2,i,o)&&(l|=1),l<<=1,this.readModule(e,n-1,i,o)&&(l|=1),l<<=1,this.readModule(e,n,i,o)&&(l|=1),l}readCorner1(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,1,e,n)&&(i|=1),i<<=1,this.readModule(e-1,2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}readCorner2(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-4,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner3(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-3,e,n)&&(i|=1),i<<=1,this.readModule(1,n-2,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner4(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new T("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),a=n/o|0,c=i/l|0,h=a*o,g=c*l,p=new it(g,h);for(let m=0;m<a;++m){const C=m*o;for(let I=0;I<c;++I){const N=I*l;for(let R=0;R<o;++R){const M=m*(o+2)+1+R,L=C+R;for(let Y=0;Y<l;++Y){const K=I*(l+2)+1+Y;if(e.get(K,M)){const G=N+Y;p.set(G,L)}}}}}return p}}class ml{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const i=n.getECBlocks();let o=0;const l=i.getECBlocks();for(let R of l)o+=R.getCount();const a=new Array(o);let c=0;for(let R of l)for(let M=0;M<R.getCount();M++){const L=R.getDataCodewords(),Y=i.getECCodewords()+L;a[c++]=new ml(L,new Uint8Array(Y))}const g=a[0].codewords.length-i.getECCodewords(),p=g-1;let m=0;for(let R=0;R<p;R++)for(let M=0;M<c;M++)a[M].codewords[R]=e[m++];const C=n.getVersionNumber()===24,I=C?8:c;for(let R=0;R<I;R++)a[R].codewords[g-1]=e[m++];const N=a[0].codewords.length;for(let R=g;R<N;R++)for(let M=0;M<c;M++){const L=C?(M+8)%c:M,Y=C&&L>7?R-1:R;a[L].codewords[Y]=e[m++]}if(m!==e.length)throw new T;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class El{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new T(""+e);let n=0,i=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(i>0){const a=8-i,c=e<a?e:a,h=a-c,g=255>>8-c<<h;n=(l[o]&g)>>h,e-=c,i+=c,i===8&&(i=0,o++)}if(e>0){for(;e>=8;)n=n<<8|l[o]&255,o++,e-=8;if(e>0){const a=8-e,c=255>>a<<a;n=n<<e|(l[o]&c)>>a,i+=e}}return this.bitOffset=i,this.byteOffset=o,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ct;(function(w){w[w.PAD_ENCODE=0]="PAD_ENCODE",w[w.ASCII_ENCODE=1]="ASCII_ENCODE",w[w.C40_ENCODE=2]="C40_ENCODE",w[w.TEXT_ENCODE=3]="TEXT_ENCODE",w[w.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",w[w.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",w[w.BASE256_ENCODE=6]="BASE256_ENCODE"})(ct||(ct={}));class $n{static decode(e){const n=new El(e),i=new ye,o=new ye,l=new Array;let a=ct.ASCII_ENCODE;do if(a===ct.ASCII_ENCODE)a=this.decodeAsciiSegment(n,i,o);else{switch(a){case ct.C40_ENCODE:this.decodeC40Segment(n,i);break;case ct.TEXT_ENCODE:this.decodeTextSegment(n,i);break;case ct.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,i);break;case ct.EDIFACT_ENCODE:this.decodeEdifactSegment(n,i);break;case ct.BASE256_ENCODE:this.decodeBase256Segment(n,i,l);break;default:throw new B}a=ct.ASCII_ENCODE}while(a!==ct.PAD_ENCODE&&n.available()>0);return o.length()>0&&i.append(o.toString()),new Di(e,i.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(e,n,i){let o=!1;do{let l=e.readBits(8);if(l===0)throw new B;if(l<=128)return o&&(l+=128),n.append(String.fromCharCode(l-1)),ct.ASCII_ENCODE;if(l===129)return ct.PAD_ENCODE;if(l<=229){const a=l-130;a<10&&n.append("0"),n.append(""+a)}else switch(l){case 230:return ct.C40_ENCODE;case 231:return ct.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:n.append("[)>05"),i.insert(0,"");break;case 237:n.append("[)>06"),i.insert(0,"");break;case 238:return ct.ANSIX12_ENCODE;case 239:return ct.TEXT_ENCODE;case 240:return ct.EDIFACT_ENCODE;case 241:break;default:if(l!==254||e.available()!==0)throw new B;break}}while(e.available()>0);return ct.ASCII_ENCODE}static decodeC40Segment(e,n){let i=!1;const o=[];let l=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(let c=0;c<3;c++){const h=o[c];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[h];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else throw new B;break;case 1:i?(n.append(String.fromCharCode(h+128)),i=!1):n.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[h];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else switch(h){case 27:n.append("");break;case 30:i=!0;break;default:throw new B}l=0;break;case 3:i?(n.append(String.fromCharCode(h+224)),i=!1):n.append(String.fromCharCode(h+96)),l=0;break;default:throw new B}}}while(e.available()>0)}static decodeTextSegment(e,n){let i=!1,o=[],l=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(let c=0;c<3;c++){const h=o[c];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[h];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else throw new B;break;case 1:i?(n.append(String.fromCharCode(h+128)),i=!1):n.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[h];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else switch(h){case 27:n.append("");break;case 30:i=!0;break;default:throw new B}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[h];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g),l=0}else throw new B;break;default:throw new B}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const i=[];do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(let l=0;l<3;l++){const a=i[l];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else if(a<40)n.append(String.fromCharCode(a+51));else throw new B;break}}}while(e.available()>0)}static parseTwoBytes(e,n,i){let o=(e<<8)+n-1,l=Math.floor(o/1600);i[0]=l,o-=l*1600,l=Math.floor(o/40),i[1]=l,i[2]=o-l*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let o=e.readBits(6);if(o===31){const l=8-e.getBitOffset();l!==8&&e.readBits(l);return}o&32||(o|=64),n.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,n,i){let o=1+e.getByteOffset();const l=this.unrandomize255State(e.readBits(8),o++);let a;if(l===0?a=e.available()/8|0:l<250?a=l:a=250*(l-249)+this.unrandomize255State(e.readBits(8),o++),a<0)throw new B;const c=new Uint8Array(a);for(let h=0;h<a;h++){if(e.available()<8)throw new B;c[h]=this.unrandomize255State(e.readBits(8),o++)}i.push(c);try{n.append(Pe.decode(c,le.ISO88591))}catch(h){throw new Tn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(e,n){const i=149*n%255+1,o=e-i;return o>=0?o:o+256}}$n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],$n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],$n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],$n.TEXT_SHIFT2_SET_CHARS=$n.C40_SHIFT2_SET_CHARS,$n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class td{constructor(){this.rsDecoder=new bi(Ne.DATA_MATRIX_FIELD_256)}decode(e){const n=new wl(e),i=n.getVersion(),o=n.readCodewords(),l=ml.getDataBlocks(o,i);let a=0;for(let g of l)a+=g.getNumDataCodewords();const c=new Uint8Array(a),h=l.length;for(let g=0;g<h;g++){const p=l[g],m=p.getCodewords(),C=p.getNumDataCodewords();this.correctErrors(m,C);for(let I=0;I<C;I++)c[I*h+g]=m[I]}return $n.decode(c)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new V}for(let o=0;o<n;o++)e[o]=i[o]}}class st{constructor(e){this.image=e,this.rectangleDetector=new Fn(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new U;n=this.shiftToModuleCenter(n);const i=n[0],o=n[1],l=n[2],a=n[3];let c=this.transitionsBetween(i,a)+1,h=this.transitionsBetween(l,a)+1;(c&1)===1&&(c+=1),(h&1)===1&&(h+=1),4*c<7*h&&4*h<7*c&&(c=h=Math.max(c,h));let g=st.sampleGrid(this.image,i,o,l,a,c,h);return new Bs(g,[i,o,l,a])}static shiftPoint(e,n,i){let o=(n.getX()-e.getX())/(i+1),l=(n.getY()-e.getY())/(i+1);return new re(e.getX()+o,e.getY()+l)}static moveAway(e,n,i){let o=e.getX(),l=e.getY();return o<n?o-=1:o+=1,l<i?l-=1:l+=1,new re(o,l)}detectSolid1(e){let n=e[0],i=e[1],o=e[3],l=e[2],a=this.transitionsBetween(n,i),c=this.transitionsBetween(i,o),h=this.transitionsBetween(o,l),g=this.transitionsBetween(l,n),p=a,m=[l,n,i,o];return p>c&&(p=c,m[0]=n,m[1]=i,m[2]=o,m[3]=l),p>h&&(p=h,m[0]=i,m[1]=o,m[2]=l,m[3]=n),p>g&&(m[0]=o,m[1]=l,m[2]=n,m[3]=i),m}detectSolid2(e){let n=e[0],i=e[1],o=e[2],l=e[3],a=this.transitionsBetween(n,l),c=st.shiftPoint(i,o,(a+1)*4),h=st.shiftPoint(o,i,(a+1)*4),g=this.transitionsBetween(c,n),p=this.transitionsBetween(h,l);return g<p?(e[0]=n,e[1]=i,e[2]=o,e[3]=l):(e[0]=i,e[1]=o,e[2]=l,e[3]=n),e}correctTopRight(e){let n=e[0],i=e[1],o=e[2],l=e[3],a=this.transitionsBetween(n,l),c=this.transitionsBetween(i,l),h=st.shiftPoint(n,i,(c+1)*4),g=st.shiftPoint(o,i,(a+1)*4);a=this.transitionsBetween(h,l),c=this.transitionsBetween(g,l);let p=new re(l.getX()+(o.getX()-i.getX())/(a+1),l.getY()+(o.getY()-i.getY())/(a+1)),m=new re(l.getX()+(n.getX()-i.getX())/(c+1),l.getY()+(n.getY()-i.getY())/(c+1));if(!this.isValid(p))return this.isValid(m)?m:null;if(!this.isValid(m))return p;let C=this.transitionsBetween(h,p)+this.transitionsBetween(g,p),I=this.transitionsBetween(h,m)+this.transitionsBetween(g,m);return C>I?p:m}shiftToModuleCenter(e){let n=e[0],i=e[1],o=e[2],l=e[3],a=this.transitionsBetween(n,l)+1,c=this.transitionsBetween(o,l)+1,h=st.shiftPoint(n,i,c*4),g=st.shiftPoint(o,i,a*4);a=this.transitionsBetween(h,l)+1,c=this.transitionsBetween(g,l)+1,(a&1)===1&&(a+=1),(c&1)===1&&(c+=1);let p=(n.getX()+i.getX()+o.getX()+l.getX())/4,m=(n.getY()+i.getY()+o.getY()+l.getY())/4;n=st.moveAway(n,p,m),i=st.moveAway(i,p,m),o=st.moveAway(o,p,m),l=st.moveAway(l,p,m);let C,I;return h=st.shiftPoint(n,i,c*4),h=st.shiftPoint(h,l,a*4),C=st.shiftPoint(i,n,c*4),C=st.shiftPoint(C,o,a*4),g=st.shiftPoint(o,l,c*4),g=st.shiftPoint(g,i,a*4),I=st.shiftPoint(l,o,c*4),I=st.shiftPoint(I,n,a*4),[h,C,g,I]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,i,o,l,a,c){return qn.getInstance().sampleGrid(e,a,c,.5,.5,a-.5,.5,a-.5,c-.5,.5,c-.5,n.getX(),n.getY(),l.getX(),l.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(e,n){let i=Math.trunc(e.getX()),o=Math.trunc(e.getY()),l=Math.trunc(n.getX()),a=Math.trunc(n.getY()),c=Math.abs(a-o)>Math.abs(l-i);if(c){let R=i;i=o,o=R,R=l,l=a,a=R}let h=Math.abs(l-i),g=Math.abs(a-o),p=-h/2,m=o<a?1:-1,C=i<l?1:-1,I=0,N=this.image.get(c?o:i,c?i:o);for(let R=i,M=o;R!==l;R+=C){let L=this.image.get(c?M:R,c?R:M);if(L!==N&&(I++,N=L),p+=g,p>0){if(M===a)break;M+=m,p-=h}}return I}}class er{constructor(){this.decoder=new td}decode(e,n=null){let i,o;if(n!=null&&n.has(X.PURE_BARCODE)){const g=er.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(g),o=er.NO_POINTS}else{const g=new st(e.getBlackMatrix()).detect();i=this.decoder.decode(g.getBits()),o=g.getPoints()}const l=i.getRawBytes(),a=new je(i.getText(),l,8*l.length,o,ie.DATA_MATRIX,z.currentTimeMillis()),c=i.getByteSegments();c!=null&&a.putMetadata(gt.BYTE_SEGMENTS,c);const h=i.getECLevel();return h!=null&&a.putMetadata(gt.ERROR_CORRECTION_LEVEL,h),a}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n==null||i==null)throw new U;const o=this.moduleSize(n,e);let l=n[1];const a=i[1];let c=n[0];const g=(i[0]-c+1)/o,p=(a-l+1)/o;if(g<=0||p<=0)throw new U;const m=o/2;l+=m,c+=m;const C=new it(g,p);for(let I=0;I<p;I++){const N=l+I*o;for(let R=0;R<g;R++)e.get(c+R*o,N)&&C.set(R,I)}return C}static moduleSize(e,n){const i=n.getWidth();let o=e[0];const l=e[1];for(;o<i&&n.get(o,l);)o++;if(o===i)throw new U;const a=o-e[0];if(a===0)throw new U;return a}}er.NO_POINTS=[];class nd extends sn{constructor(e=500){super(new er,e)}}var Qr;(function(w){w[w.L=0]="L",w[w.M=1]="M",w[w.Q=2]="Q",w[w.H=3]="H"})(Qr||(Qr={}));class Fe{constructor(e,n,i){this.value=e,this.stringValue=n,this.bits=i,Fe.FOR_BITS.set(i,this),Fe.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Fe.L;case"M":return Fe.M;case"Q":return Fe.Q;case"H":return Fe.H;default:throw new O(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Fe))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=Fe.FOR_BITS.size)throw new T;return Fe.FOR_BITS.get(e)}}Fe.FOR_BITS=new Map,Fe.FOR_VALUE=new Map,Fe.L=new Fe(Qr.L,"L",1),Fe.M=new Fe(Qr.M,"M",0),Fe.Q=new Fe(Qr.Q,"Q",3),Fe.H=new Fe(Qr.H,"H",2);class Nt{constructor(e){this.errorCorrectionLevel=Fe.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return _.bitCount(e^n)}static decodeFormatInformation(e,n){const i=Nt.doDecodeFormatInformation(e,n);return i!==null?i:Nt.doDecodeFormatInformation(e^Nt.FORMAT_INFO_MASK_QR,n^Nt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let i=Number.MAX_SAFE_INTEGER,o=0;for(const l of Nt.FORMAT_INFO_DECODE_LOOKUP){const a=l[0];if(a===e||a===n)return new Nt(l[1]);let c=Nt.numBitsDiffering(e,a);c<i&&(o=l[1],i=c),e!==n&&(c=Nt.numBitsDiffering(n,a),c<i&&(o=l[1],i=c))}return i<=3?new Nt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Nt))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Nt.FORMAT_INFO_MASK_QR=21522,Nt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class b{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const i of n)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class S{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class se{constructor(e,n,...i){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;let o=0;const l=i[0].getECCodewordsPerBlock(),a=i[0].getECBlocks();for(const c of a)o+=c.getCount()*(c.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new B;try{return this.getVersionForNumber((e-17)/4)}catch{throw new B}}static getVersionForNumber(e){if(e<1||e>40)throw new T;return se.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<se.VERSION_DECODE_INFO.length;o++){const l=se.VERSION_DECODE_INFO[o];if(l===e)return se.getVersionForNumber(o+7);const a=Nt.numBitsDiffering(e,l);a<n&&(i=o+7,n=a)}return n<=3?se.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new it(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const l=this.alignmentPatternCenters[o]-2;for(let a=0;a<i;a++)o===0&&(a===0||a===i-1)||o===i-1&&a===0||n.setRegion(this.alignmentPatternCenters[a]-2,l,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}se.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),se.VERSIONS=[new se(1,new Int32Array(0),new b(7,new S(1,19)),new b(10,new S(1,16)),new b(13,new S(1,13)),new b(17,new S(1,9))),new se(2,Int32Array.from([6,18]),new b(10,new S(1,34)),new b(16,new S(1,28)),new b(22,new S(1,22)),new b(28,new S(1,16))),new se(3,Int32Array.from([6,22]),new b(15,new S(1,55)),new b(26,new S(1,44)),new b(18,new S(2,17)),new b(22,new S(2,13))),new se(4,Int32Array.from([6,26]),new b(20,new S(1,80)),new b(18,new S(2,32)),new b(26,new S(2,24)),new b(16,new S(4,9))),new se(5,Int32Array.from([6,30]),new b(26,new S(1,108)),new b(24,new S(2,43)),new b(18,new S(2,15),new S(2,16)),new b(22,new S(2,11),new S(2,12))),new se(6,Int32Array.from([6,34]),new b(18,new S(2,68)),new b(16,new S(4,27)),new b(24,new S(4,19)),new b(28,new S(4,15))),new se(7,Int32Array.from([6,22,38]),new b(20,new S(2,78)),new b(18,new S(4,31)),new b(18,new S(2,14),new S(4,15)),new b(26,new S(4,13),new S(1,14))),new se(8,Int32Array.from([6,24,42]),new b(24,new S(2,97)),new b(22,new S(2,38),new S(2,39)),new b(22,new S(4,18),new S(2,19)),new b(26,new S(4,14),new S(2,15))),new se(9,Int32Array.from([6,26,46]),new b(30,new S(2,116)),new b(22,new S(3,36),new S(2,37)),new b(20,new S(4,16),new S(4,17)),new b(24,new S(4,12),new S(4,13))),new se(10,Int32Array.from([6,28,50]),new b(18,new S(2,68),new S(2,69)),new b(26,new S(4,43),new S(1,44)),new b(24,new S(6,19),new S(2,20)),new b(28,new S(6,15),new S(2,16))),new se(11,Int32Array.from([6,30,54]),new b(20,new S(4,81)),new b(30,new S(1,50),new S(4,51)),new b(28,new S(4,22),new S(4,23)),new b(24,new S(3,12),new S(8,13))),new se(12,Int32Array.from([6,32,58]),new b(24,new S(2,92),new S(2,93)),new b(22,new S(6,36),new S(2,37)),new b(26,new S(4,20),new S(6,21)),new b(28,new S(7,14),new S(4,15))),new se(13,Int32Array.from([6,34,62]),new b(26,new S(4,107)),new b(22,new S(8,37),new S(1,38)),new b(24,new S(8,20),new S(4,21)),new b(22,new S(12,11),new S(4,12))),new se(14,Int32Array.from([6,26,46,66]),new b(30,new S(3,115),new S(1,116)),new b(24,new S(4,40),new S(5,41)),new b(20,new S(11,16),new S(5,17)),new b(24,new S(11,12),new S(5,13))),new se(15,Int32Array.from([6,26,48,70]),new b(22,new S(5,87),new S(1,88)),new b(24,new S(5,41),new S(5,42)),new b(30,new S(5,24),new S(7,25)),new b(24,new S(11,12),new S(7,13))),new se(16,Int32Array.from([6,26,50,74]),new b(24,new S(5,98),new S(1,99)),new b(28,new S(7,45),new S(3,46)),new b(24,new S(15,19),new S(2,20)),new b(30,new S(3,15),new S(13,16))),new se(17,Int32Array.from([6,30,54,78]),new b(28,new S(1,107),new S(5,108)),new b(28,new S(10,46),new S(1,47)),new b(28,new S(1,22),new S(15,23)),new b(28,new S(2,14),new S(17,15))),new se(18,Int32Array.from([6,30,56,82]),new b(30,new S(5,120),new S(1,121)),new b(26,new S(9,43),new S(4,44)),new b(28,new S(17,22),new S(1,23)),new b(28,new S(2,14),new S(19,15))),new se(19,Int32Array.from([6,30,58,86]),new b(28,new S(3,113),new S(4,114)),new b(26,new S(3,44),new S(11,45)),new b(26,new S(17,21),new S(4,22)),new b(26,new S(9,13),new S(16,14))),new se(20,Int32Array.from([6,34,62,90]),new b(28,new S(3,107),new S(5,108)),new b(26,new S(3,41),new S(13,42)),new b(30,new S(15,24),new S(5,25)),new b(28,new S(15,15),new S(10,16))),new se(21,Int32Array.from([6,28,50,72,94]),new b(28,new S(4,116),new S(4,117)),new b(26,new S(17,42)),new b(28,new S(17,22),new S(6,23)),new b(30,new S(19,16),new S(6,17))),new se(22,Int32Array.from([6,26,50,74,98]),new b(28,new S(2,111),new S(7,112)),new b(28,new S(17,46)),new b(30,new S(7,24),new S(16,25)),new b(24,new S(34,13))),new se(23,Int32Array.from([6,30,54,78,102]),new b(30,new S(4,121),new S(5,122)),new b(28,new S(4,47),new S(14,48)),new b(30,new S(11,24),new S(14,25)),new b(30,new S(16,15),new S(14,16))),new se(24,Int32Array.from([6,28,54,80,106]),new b(30,new S(6,117),new S(4,118)),new b(28,new S(6,45),new S(14,46)),new b(30,new S(11,24),new S(16,25)),new b(30,new S(30,16),new S(2,17))),new se(25,Int32Array.from([6,32,58,84,110]),new b(26,new S(8,106),new S(4,107)),new b(28,new S(8,47),new S(13,48)),new b(30,new S(7,24),new S(22,25)),new b(30,new S(22,15),new S(13,16))),new se(26,Int32Array.from([6,30,58,86,114]),new b(28,new S(10,114),new S(2,115)),new b(28,new S(19,46),new S(4,47)),new b(28,new S(28,22),new S(6,23)),new b(30,new S(33,16),new S(4,17))),new se(27,Int32Array.from([6,34,62,90,118]),new b(30,new S(8,122),new S(4,123)),new b(28,new S(22,45),new S(3,46)),new b(30,new S(8,23),new S(26,24)),new b(30,new S(12,15),new S(28,16))),new se(28,Int32Array.from([6,26,50,74,98,122]),new b(30,new S(3,117),new S(10,118)),new b(28,new S(3,45),new S(23,46)),new b(30,new S(4,24),new S(31,25)),new b(30,new S(11,15),new S(31,16))),new se(29,Int32Array.from([6,30,54,78,102,126]),new b(30,new S(7,116),new S(7,117)),new b(28,new S(21,45),new S(7,46)),new b(30,new S(1,23),new S(37,24)),new b(30,new S(19,15),new S(26,16))),new se(30,Int32Array.from([6,26,52,78,104,130]),new b(30,new S(5,115),new S(10,116)),new b(28,new S(19,47),new S(10,48)),new b(30,new S(15,24),new S(25,25)),new b(30,new S(23,15),new S(25,16))),new se(31,Int32Array.from([6,30,56,82,108,134]),new b(30,new S(13,115),new S(3,116)),new b(28,new S(2,46),new S(29,47)),new b(30,new S(42,24),new S(1,25)),new b(30,new S(23,15),new S(28,16))),new se(32,Int32Array.from([6,34,60,86,112,138]),new b(30,new S(17,115)),new b(28,new S(10,46),new S(23,47)),new b(30,new S(10,24),new S(35,25)),new b(30,new S(19,15),new S(35,16))),new se(33,Int32Array.from([6,30,58,86,114,142]),new b(30,new S(17,115),new S(1,116)),new b(28,new S(14,46),new S(21,47)),new b(30,new S(29,24),new S(19,25)),new b(30,new S(11,15),new S(46,16))),new se(34,Int32Array.from([6,34,62,90,118,146]),new b(30,new S(13,115),new S(6,116)),new b(28,new S(14,46),new S(23,47)),new b(30,new S(44,24),new S(7,25)),new b(30,new S(59,16),new S(1,17))),new se(35,Int32Array.from([6,30,54,78,102,126,150]),new b(30,new S(12,121),new S(7,122)),new b(28,new S(12,47),new S(26,48)),new b(30,new S(39,24),new S(14,25)),new b(30,new S(22,15),new S(41,16))),new se(36,Int32Array.from([6,24,50,76,102,128,154]),new b(30,new S(6,121),new S(14,122)),new b(28,new S(6,47),new S(34,48)),new b(30,new S(46,24),new S(10,25)),new b(30,new S(2,15),new S(64,16))),new se(37,Int32Array.from([6,28,54,80,106,132,158]),new b(30,new S(17,122),new S(4,123)),new b(28,new S(29,46),new S(14,47)),new b(30,new S(49,24),new S(10,25)),new b(30,new S(24,15),new S(46,16))),new se(38,Int32Array.from([6,32,58,84,110,136,162]),new b(30,new S(4,122),new S(18,123)),new b(28,new S(13,46),new S(32,47)),new b(30,new S(48,24),new S(14,25)),new b(30,new S(42,15),new S(32,16))),new se(39,Int32Array.from([6,26,54,82,110,138,166]),new b(30,new S(20,117),new S(4,118)),new b(28,new S(40,47),new S(7,48)),new b(30,new S(43,24),new S(22,25)),new b(30,new S(10,15),new S(67,16))),new se(40,Int32Array.from([6,30,58,86,114,142,170]),new b(30,new S(19,118),new S(6,119)),new b(28,new S(18,47),new S(31,48)),new b(30,new S(34,24),new S(34,25)),new b(30,new S(20,15),new S(61,16)))];var xt;(function(w){w[w.DATA_MASK_000=0]="DATA_MASK_000",w[w.DATA_MASK_001=1]="DATA_MASK_001",w[w.DATA_MASK_010=2]="DATA_MASK_010",w[w.DATA_MASK_011=3]="DATA_MASK_011",w[w.DATA_MASK_100=4]="DATA_MASK_100",w[w.DATA_MASK_101=5]="DATA_MASK_101",w[w.DATA_MASK_110=6]="DATA_MASK_110",w[w.DATA_MASK_111=7]="DATA_MASK_111"})(xt||(xt={}));class ln{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let i=0;i<n;i++)for(let o=0;o<n;o++)this.isMasked(i,o)&&e.flip(o,i)}}ln.values=new Map([[xt.DATA_MASK_000,new ln(xt.DATA_MASK_000,(w,e)=>(w+e&1)===0)],[xt.DATA_MASK_001,new ln(xt.DATA_MASK_001,(w,e)=>(w&1)===0)],[xt.DATA_MASK_010,new ln(xt.DATA_MASK_010,(w,e)=>e%3===0)],[xt.DATA_MASK_011,new ln(xt.DATA_MASK_011,(w,e)=>(w+e)%3===0)],[xt.DATA_MASK_100,new ln(xt.DATA_MASK_100,(w,e)=>(Math.floor(w/2)+Math.floor(e/3)&1)===0)],[xt.DATA_MASK_101,new ln(xt.DATA_MASK_101,(w,e)=>w*e%6===0)],[xt.DATA_MASK_110,new ln(xt.DATA_MASK_110,(w,e)=>w*e%6<3)],[xt.DATA_MASK_111,new ln(xt.DATA_MASK_111,(w,e)=>(w+e+w*e%3&1)===0)]]);class rd{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new B;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let l=0;l<6;l++)e=this.copyBit(l,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let l=5;l>=0;l--)e=this.copyBit(8,l,e);const n=this.bitMatrix.getHeight();let i=0;const o=n-7;for(let l=n-1;l>=o;l--)i=this.copyBit(8,l,i);for(let l=n-8;l<n;l++)i=this.copyBit(l,8,i);if(this.parsedFormatInfo=Nt.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return se.getVersionForNumber(n);let i=0;const o=e-11;for(let a=5;a>=0;a--)for(let c=e-9;c>=o;c--)i=this.copyBit(c,a,i);let l=se.decodeVersionInformation(i);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;i=0;for(let a=5;a>=0;a--)for(let c=e-9;c>=o;c--)i=this.copyBit(a,c,i);if(l=se.decodeVersionInformation(i),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new B}copyBit(e,n,i){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),i=ln.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const l=n.buildFunctionPattern();let a=!0;const c=new Uint8Array(n.getTotalCodewords());let h=0,g=0,p=0;for(let m=o-1;m>0;m-=2){m===6&&m--;for(let C=0;C<o;C++){const I=a?o-1-C:C;for(let N=0;N<2;N++)l.get(m-N,I)||(p++,g<<=1,this.bitMatrix.get(m-N,I)&&(g|=1),p===8&&(c[h++]=g,p=0,g=0))}a=!a}if(h!==n.getTotalCodewords())throw new B;return c}remask(){if(this.parsedFormatInfo===null)return;const e=ln.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,i=e.getWidth();n<i;n++)for(let o=n+1,l=e.getHeight();o<l;o++)e.get(n,o)!==e.get(o,n)&&(e.flip(o,n),e.flip(n,o))}}class Cl{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,i){if(e.length!==n.getTotalCodewords())throw new T;const o=n.getECBlocksForLevel(i);let l=0;const a=o.getECBlocks();for(const N of a)l+=N.getCount();const c=new Array(l);let h=0;for(const N of a)for(let R=0;R<N.getCount();R++){const M=N.getDataCodewords(),L=o.getECCodewordsPerBlock()+M;c[h++]=new Cl(M,new Uint8Array(L))}const g=c[0].codewords.length;let p=c.length-1;for(;p>=0&&c[p].codewords.length!==g;)p--;p++;const m=g-o.getECCodewordsPerBlock();let C=0;for(let N=0;N<m;N++)for(let R=0;R<h;R++)c[R].codewords[N]=e[C++];for(let N=p;N<h;N++)c[N].codewords[m]=e[C++];const I=c[0].codewords.length;for(let N=m;N<I;N++)for(let R=0;R<h;R++){const M=R<p?N:N+1;c[R].codewords[M]=e[C++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var an;(function(w){w[w.TERMINATOR=0]="TERMINATOR",w[w.NUMERIC=1]="NUMERIC",w[w.ALPHANUMERIC=2]="ALPHANUMERIC",w[w.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",w[w.BYTE=4]="BYTE",w[w.ECI=5]="ECI",w[w.KANJI=6]="KANJI",w[w.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",w[w.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",w[w.HANZI=9]="HANZI"})(an||(an={}));class oe{constructor(e,n,i,o){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=o,oe.FOR_BITS.set(o,this),oe.FOR_VALUE.set(e,this)}static forBits(e){const n=oe.FOR_BITS.get(e);if(n===void 0)throw new T;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let i;return n<=9?i=0:n<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof oe))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}oe.FOR_BITS=new Map,oe.FOR_VALUE=new Map,oe.TERMINATOR=new oe(an.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),oe.NUMERIC=new oe(an.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),oe.ALPHANUMERIC=new oe(an.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),oe.STRUCTURED_APPEND=new oe(an.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),oe.BYTE=new oe(an.BYTE,"BYTE",Int32Array.from([8,16,16]),4),oe.ECI=new oe(an.ECI,"ECI",Int32Array.from([0,0,0]),7),oe.KANJI=new oe(an.KANJI,"KANJI",Int32Array.from([8,10,12]),8),oe.FNC1_FIRST_POSITION=new oe(an.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),oe.FNC1_SECOND_POSITION=new oe(an.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),oe.HANZI=new oe(an.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ye{static decode(e,n,i,o){const l=new El(e);let a=new ye;const c=new Array;let h=-1,g=-1;try{let p=null,m=!1,C;do{if(l.available()<4)C=oe.TERMINATOR;else{const I=l.readBits(4);C=oe.forBits(I)}switch(C){case oe.TERMINATOR:break;case oe.FNC1_FIRST_POSITION:case oe.FNC1_SECOND_POSITION:m=!0;break;case oe.STRUCTURED_APPEND:if(l.available()<16)throw new B;h=l.readBits(8),g=l.readBits(8);break;case oe.ECI:const I=Ye.parseECIValue(l);if(p=H.getCharacterSetECIByValue(I),p===null)throw new B;break;case oe.HANZI:const N=l.readBits(4),R=l.readBits(C.getCharacterCountBits(n));N===Ye.GB2312_SUBSET&&Ye.decodeHanziSegment(l,a,R);break;default:const M=l.readBits(C.getCharacterCountBits(n));switch(C){case oe.NUMERIC:Ye.decodeNumericSegment(l,a,M);break;case oe.ALPHANUMERIC:Ye.decodeAlphanumericSegment(l,a,M,m);break;case oe.BYTE:Ye.decodeByteSegment(l,a,M,p,c,o);break;case oe.KANJI:Ye.decodeKanjiSegment(l,a,M);break;default:throw new B}break}}while(C!==oe.TERMINATOR)}catch{throw new B}return new Di(e,a.toString(),c.length===0?null:c,i===null?null:i.toString(),h,g)}static decodeHanziSegment(e,n,i){if(i*13>e.available())throw new B;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const a=e.readBits(13);let c=a/96<<8&4294967295|a%96;c<959?c+=41377:c+=42657,o[l]=c>>8&255,o[l+1]=c&255,l+=2,i--}try{n.append(Pe.decode(o,le.GB2312))}catch(a){throw new B(a)}}static decodeKanjiSegment(e,n,i){if(i*13>e.available())throw new B;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const a=e.readBits(13);let c=a/192<<8&4294967295|a%192;c<7936?c+=33088:c+=49472,o[l]=c>>8,o[l+1]=c,l+=2,i--}try{n.append(Pe.decode(o,le.SHIFT_JIS))}catch(a){throw new B(a)}}static decodeByteSegment(e,n,i,o,l,a){if(8*i>e.available())throw new B;const c=new Uint8Array(i);for(let g=0;g<i;g++)c[g]=e.readBits(8);let h;o===null?h=le.guessEncoding(c,a):h=o.getName();try{n.append(Pe.decode(c,h))}catch(g){throw new B(g)}l.push(c)}static toAlphaNumericChar(e){if(e>=Ye.ALPHANUMERIC_CHARS.length)throw new B;return Ye.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,i,o){const l=n.length();for(;i>1;){if(e.available()<11)throw new B;const a=e.readBits(11);n.append(Ye.toAlphaNumericChar(Math.floor(a/45))),n.append(Ye.toAlphaNumericChar(a%45)),i-=2}if(i===1){if(e.available()<6)throw new B;n.append(Ye.toAlphaNumericChar(e.readBits(6)))}if(o)for(let a=l;a<n.length();a++)n.charAt(a)==="%"&&(a<n.length()-1&&n.charAt(a+1)==="%"?n.deleteCharAt(a+1):n.setCharAt(a,""))}static decodeNumericSegment(e,n,i){for(;i>=3;){if(e.available()<10)throw new B;const o=e.readBits(10);if(o>=1e3)throw new B;n.append(Ye.toAlphaNumericChar(Math.floor(o/100))),n.append(Ye.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(Ye.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(e.available()<7)throw new B;const o=e.readBits(7);if(o>=100)throw new B;n.append(Ye.toAlphaNumericChar(Math.floor(o/10))),n.append(Ye.toAlphaNumericChar(o%10))}else if(i===1){if(e.available()<4)throw new B;const o=e.readBits(4);if(o>=10)throw new B;n.append(Ye.toAlphaNumericChar(o))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const i=e.readBits(8);return(n&63)<<8&4294967295|i}if((n&224)===192){const i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new B}}Ye.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ye.GB2312_SUBSET=1;class e1{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class id{constructor(){this.rsDecoder=new bi(Ne.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(it.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const i=new rd(e);let o=null;try{return this.decodeBitMatrixParser(i,n)}catch(l){o=l}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const l=this.decodeBitMatrixParser(i,n);return l.setOther(new e1(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(e,n){const i=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),a=Cl.getDataBlocks(l,i,o);let c=0;for(const p of a)c+=p.getNumDataCodewords();const h=new Uint8Array(c);let g=0;for(const p of a){const m=p.getCodewords(),C=p.getNumDataCodewords();this.correctErrors(m,C);for(let I=0;I<C;I++)h[g++]=m[I]}return Ye.decode(h,i,o,n)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new V}for(let o=0;o<n;o++)e[o]=i[o]}}class yl extends re{constructor(e,n,i){super(e,n),this.estimatedModuleSize=i}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const o=(this.getX()+n)/2,l=(this.getY()+e)/2,a=(this.estimatedModuleSize+i)/2;return new yl(o,l,a)}}class Vs{constructor(e,n,i,o,l,a,c){this.image=e,this.startX=n,this.startY=i,this.width=o,this.height=l,this.moduleSize=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,i=this.width,o=e+i,l=this.startY+n/2,a=new Int32Array(3),c=this.image;for(let h=0;h<n;h++){const g=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));a[0]=0,a[1]=0,a[2]=0;let p=e;for(;p<o&&!c.get(p,g);)p++;let m=0;for(;p<o;){if(c.get(p,g))if(m===1)a[1]++;else if(m===2){if(this.foundPatternCross(a)){const C=this.handlePossibleCenter(a,g,p);if(C!==null)return C}a[0]=a[2],a[1]=1,a[2]=0,m=1}else a[++m]++;else m===1&&m++,a[m]++;p++}if(this.foundPatternCross(a)){const C=this.handlePossibleCenter(a,g,o);if(C!==null)return C}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new U}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,i=n/2;for(let o=0;o<3;o++)if(Math.abs(n-e[o])>=i)return!1;return!0}crossCheckVertical(e,n,i,o){const l=this.image,a=l.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let h=e;for(;h>=0&&l.get(n,h)&&c[1]<=i;)c[1]++,h--;if(h<0||c[1]>i)return NaN;for(;h>=0&&!l.get(n,h)&&c[0]<=i;)c[0]++,h--;if(c[0]>i)return NaN;for(h=e+1;h<a&&l.get(n,h)&&c[1]<=i;)c[1]++,h++;if(h===a||c[1]>i)return NaN;for(;h<a&&!l.get(n,h)&&c[2]<=i;)c[2]++,h++;if(c[2]>i)return NaN;const g=c[0]+c[1]+c[2];return 5*Math.abs(g-o)>=2*o?NaN:this.foundPatternCross(c)?Vs.centerFromEnd(c,h):NaN}handlePossibleCenter(e,n,i){const o=e[0]+e[1]+e[2],l=Vs.centerFromEnd(e,i),a=this.crossCheckVertical(n,l,2*e[1],o);if(!isNaN(a)){const c=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(c,a,l))return g.combineEstimate(a,l,c);const h=new yl(l,a,c);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Al extends re{constructor(e,n,i,o){super(e,n),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const o=this.count+1,l=(this.count*this.getX()+n)/o,a=(this.count*this.getY()+e)/o,c=(this.count*this.estimatedModuleSize+i)/o;return new Al(l,a,c,o)}}class sd{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class pt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(X.TRY_HARDER)!==void 0,i=e!=null&&e.get(X.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),a=o.getWidth();let c=Math.floor(3*l/(4*pt.MAX_MODULES));(c<pt.MIN_SKIP||n)&&(c=pt.MIN_SKIP);let h=!1;const g=new Int32Array(5);for(let m=c-1;m<l&&!h;m+=c){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let C=0;for(let I=0;I<a;I++)if(o.get(I,m))(C&1)===1&&C++,g[C]++;else if(C&1)g[C]++;else if(C===4)if(pt.foundPatternCross(g)){if(this.handlePossibleCenter(g,m,I,i)===!0)if(c=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const R=this.findRowSkip();R>g[2]&&(m+=R-g[2]-c,I=a-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,C=3;continue}C=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,C=3;else g[++C]++;pt.foundPatternCross(g)&&this.handlePossibleCenter(g,m,a,i)===!0&&(c=g[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const p=this.selectBestPatterns();return re.orderBestPatterns(p),new sd(p)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let l=0;l<5;l++){const a=e[l];if(a===0)return!1;n+=a}if(n<7)return!1;const i=n/7,o=i/2;return Math.abs(i-e[0])<o&&Math.abs(i-e[1])<o&&Math.abs(3*i-e[2])<3*o&&Math.abs(i-e[3])<o&&Math.abs(i-e[4])<o}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,i,o){const l=this.getCrossCheckStateCount();let a=0;const c=this.image;for(;e>=a&&n>=a&&c.get(n-a,e-a);)l[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!c.get(n-a,e-a)&&l[1]<=i;)l[1]++,a++;if(e<a||n<a||l[1]>i)return!1;for(;e>=a&&n>=a&&c.get(n-a,e-a)&&l[0]<=i;)l[0]++,a++;if(l[0]>i)return!1;const h=c.getHeight(),g=c.getWidth();for(a=1;e+a<h&&n+a<g&&c.get(n+a,e+a);)l[2]++,a++;if(e+a>=h||n+a>=g)return!1;for(;e+a<h&&n+a<g&&!c.get(n+a,e+a)&&l[3]<i;)l[3]++,a++;if(e+a>=h||n+a>=g||l[3]>=i)return!1;for(;e+a<h&&n+a<g&&c.get(n+a,e+a)&&l[4]<i;)l[4]++,a++;if(l[4]>=i)return!1;const p=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(p-o)<2*o&&pt.foundPatternCross(l)}crossCheckVertical(e,n,i,o){const l=this.image,a=l.getHeight(),c=this.getCrossCheckStateCount();let h=e;for(;h>=0&&l.get(n,h);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(n,h)&&c[1]<=i;)c[1]++,h--;if(h<0||c[1]>i)return NaN;for(;h>=0&&l.get(n,h)&&c[0]<=i;)c[0]++,h--;if(c[0]>i)return NaN;for(h=e+1;h<a&&l.get(n,h);)c[2]++,h++;if(h===a)return NaN;for(;h<a&&!l.get(n,h)&&c[3]<i;)c[3]++,h++;if(h===a||c[3]>=i)return NaN;for(;h<a&&l.get(n,h)&&c[4]<i;)c[4]++,h++;if(c[4]>=i)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-o)>=2*o?NaN:pt.foundPatternCross(c)?pt.centerFromEnd(c,h):NaN}crossCheckHorizontal(e,n,i,o){const l=this.image,a=l.getWidth(),c=this.getCrossCheckStateCount();let h=e;for(;h>=0&&l.get(h,n);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,n)&&c[1]<=i;)c[1]++,h--;if(h<0||c[1]>i)return NaN;for(;h>=0&&l.get(h,n)&&c[0]<=i;)c[0]++,h--;if(c[0]>i)return NaN;for(h=e+1;h<a&&l.get(h,n);)c[2]++,h++;if(h===a)return NaN;for(;h<a&&!l.get(h,n)&&c[3]<i;)c[3]++,h++;if(h===a||c[3]>=i)return NaN;for(;h<a&&l.get(h,n)&&c[4]<i;)c[4]++,h++;if(c[4]>=i)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-o)>=o?NaN:pt.foundPatternCross(c)?pt.centerFromEnd(c,h):NaN}handlePossibleCenter(e,n,i,o){const l=e[0]+e[1]+e[2]+e[3]+e[4];let a=pt.centerFromEnd(e,i),c=this.crossCheckVertical(n,Math.floor(a),e[2],l);if(!isNaN(c)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(c),e[2],l),!isNaN(a)&&(!o||this.crossCheckDiagonal(Math.floor(c),Math.floor(a),e[2],l)))){const h=l/7;let g=!1;const p=this.possibleCenters;for(let m=0,C=p.length;m<C;m++){const I=p[m];if(I.aboutEquals(h,c,a)){p[m]=I.combineEstimate(c,a,h),g=!0;break}}if(!g){const m=new Al(a,c,h);p.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const i of this.possibleCenters)if(i.getCount()>=pt.CENTER_QUORUM)if(n==null)n=i;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const i=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=pt.CENTER_QUORUM&&(e++,n+=a.getEstimatedModuleSize());if(e<3)return!1;const o=n/i;let l=0;for(const a of this.possibleCenters)l+=Math.abs(a.getEstimatedModuleSize()-o);return l<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new U;const n=this.possibleCenters;let i;if(e>3){let o=0,l=0;for(const h of this.possibleCenters){const g=h.getEstimatedModuleSize();o+=g,l+=g*g}i=o/e;let a=Math.sqrt(l/e-i*i);n.sort((h,g)=>{const p=Math.abs(g.getEstimatedModuleSize()-i),m=Math.abs(h.getEstimatedModuleSize()-i);return p<m?-1:p>m?1:0});const c=Math.max(.2*i,a);for(let h=0;h<n.length&&n.length>3;h++){const g=n[h];Math.abs(g.getEstimatedModuleSize()-i)>c&&(n.splice(h,1),h--)}}if(n.length>3){let o=0;for(const l of n)o+=l.getEstimatedModuleSize();i=o/n.length,n.sort((l,a)=>{if(a.getCount()===l.getCount()){const c=Math.abs(a.getEstimatedModuleSize()-i),h=Math.abs(l.getEstimatedModuleSize()-i);return c<h?1:c>h?-1:0}else return a.getCount()-l.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}pt.CENTER_QUORUM=2,pt.MIN_SKIP=3,pt.MAX_MODULES=57;class Bi{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(X.NEED_RESULT_POINT_CALLBACK);const i=new pt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const n=e.getTopLeft(),i=e.getTopRight(),o=e.getBottomLeft(),l=this.calculateModuleSize(n,i,o);if(l<1)throw new U("No pattern found in proccess finder.");const a=Bi.computeDimension(n,i,o,l),c=se.getProvisionalVersionForDimension(a),h=c.getDimensionForVersion()-7;let g=null;if(c.getAlignmentPatternCenters().length>0){const I=i.getX()-n.getX()+o.getX(),N=i.getY()-n.getY()+o.getY(),R=1-3/h,M=Math.floor(n.getX()+R*(I-n.getX())),L=Math.floor(n.getY()+R*(N-n.getY()));for(let Y=4;Y<=16;Y<<=1)try{g=this.findAlignmentInRegion(l,M,L,Y);break}catch(K){if(!(K instanceof U))throw K}}const p=Bi.createTransform(n,i,o,g,a),m=Bi.sampleGrid(this.image,p,a);let C;return g===null?C=[o,n,i]:C=[o,n,i,g],new Bs(m,C)}static createTransform(e,n,i,o,l){const a=l-3.5;let c,h,g,p;return o!==null?(c=o.getX(),h=o.getY(),g=a-3,p=g):(c=n.getX()-e.getX()+i.getX(),h=n.getY()-e.getY()+i.getY(),g=a,p=a),pn.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,g,p,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),c,h,i.getX(),i.getY())}static sampleGrid(e,n,i){return qn.getInstance().sampleGridWithTransform(e,i,i,n)}static computeDimension(e,n,i,o){const l=Se.round(re.distance(e,n)/o),a=Se.round(re.distance(e,i)/o);let c=Math.floor((l+a)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new U("Dimensions could be not found.")}return c}calculateModuleSize(e,n,i){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,n){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,i,o){let l=this.sizeOfBlackWhiteBlackRun(e,n,i,o),a=1,c=e-(i-e);c<0?(a=e/(e-c),c=0):c>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);let h=Math.floor(n-(o-n)*a);return a=1,h<0?(a=n/(n-h),h=0):h>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(h-n),h=this.image.getHeight()-1),c=Math.floor(e+(c-e)*a),l+=this.sizeOfBlackWhiteBlackRun(e,n,c,h),l-1}sizeOfBlackWhiteBlackRun(e,n,i,o){const l=Math.abs(o-n)>Math.abs(i-e);if(l){let I=e;e=n,n=I,I=i,i=o,o=I}const a=Math.abs(i-e),c=Math.abs(o-n);let h=-a/2;const g=e<i?1:-1,p=n<o?1:-1;let m=0;const C=i+g;for(let I=e,N=n;I!==C;I+=g){const R=l?N:I,M=l?I:N;if(m===1===this.image.get(R,M)){if(m===2)return Se.distance(I,N,e,n);m++}if(h+=c,h>0){if(N===o)break;N+=p,h-=a}}return m===2?Se.distance(i+g,o,e,n):NaN}findAlignmentInRegion(e,n,i,o){const l=Math.floor(o*e),a=Math.max(0,n-l),c=Math.min(this.image.getWidth()-1,n+l);if(c-a<e*3)throw new U("Alignment top exceeds estimated module size.");const h=Math.max(0,i-l),g=Math.min(this.image.getHeight()-1,i+l);if(g-h<e*3)throw new U("Alignment bottom exceeds estimated module size.");return new Vs(this.image,a,h,c-a,g-h,e,this.resultPointCallback).find()}}class tr{constructor(){this.decoder=new id}getDecoder(){return this.decoder}decode(e,n){let i,o;if(n!=null&&n.get(X.PURE_BARCODE)!==void 0){const h=tr.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(h,n),o=tr.NO_POINTS}else{const h=new Bi(e.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(h.getBits(),n),o=h.getPoints()}i.getOther()instanceof e1&&i.getOther().applyMirroredCorrection(o);const l=new je(i.getText(),i.getRawBytes(),void 0,o,ie.QR_CODE,void 0),a=i.getByteSegments();a!==null&&l.putMetadata(gt.BYTE_SEGMENTS,a);const c=i.getECLevel();return c!==null&&l.putMetadata(gt.ERROR_CORRECTION_LEVEL,c),i.hasStructuredAppend()&&(l.putMetadata(gt.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),l.putMetadata(gt.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),l}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n===null||i===null)throw new U;const o=this.moduleSize(n,e);let l=n[1],a=i[1],c=n[0],h=i[0];if(c>=h||l>=a)throw new U;if(a-l!==h-c&&(h=c+(a-l),h>=e.getWidth()))throw new U;const g=Math.round((h-c+1)/o),p=Math.round((a-l+1)/o);if(g<=0||p<=0)throw new U;if(p!==g)throw new U;const m=Math.floor(o/2);l+=m,c+=m;const C=c+Math.floor((g-1)*o)-h;if(C>0){if(C>m)throw new U;c-=C}const I=l+Math.floor((p-1)*o)-a;if(I>0){if(I>m)throw new U;l-=I}const N=new it(g,p);for(let R=0;R<p;R++){const M=l+Math.floor(R*o);for(let L=0;L<g;L++)e.get(c+Math.floor(L*o),M)&&N.set(L,R)}return N}static moduleSize(e,n){const i=n.getHeight(),o=n.getWidth();let l=e[0],a=e[1],c=!0,h=0;for(;l<o&&a<i;){if(c!==n.get(l,a)){if(++h===5)break;c=!c}l++,a++}if(l===o||a===i)throw new U;return(l-e[0])/7}}tr.NO_POINTS=new Array;class ce{PDF417Common(){}static getBitCountSum(e){return Se.sum(e)}static toIntArray(e){if(e==null||!e.length)return ce.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let i=0;for(const o of e)n[i++]=o;return n}static getCodeword(e){const n=v.binarySearch(ce.SYMBOL_TABLE,e&262143);return n<0?-1:(ce.CODEWORD_TABLE[n]-1)%ce.NUMBER_OF_CODEWORDS}}ce.NUMBER_OF_CODEWORDS=929,ce.MAX_CODEWORDS_IN_BARCODE=ce.NUMBER_OF_CODEWORDS-1,ce.MIN_ROWS_IN_BARCODE=3,ce.MAX_ROWS_IN_BARCODE=90,ce.MODULES_IN_CODEWORD=17,ce.MODULES_IN_STOP_PATTERN=18,ce.BARS_IN_MODULE=8,ce.EMPTY_INT_ARRAY=new Int32Array([]),ce.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ce.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class od{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class xe{static detectMultiple(e,n,i){let o=e.getBlackMatrix(),l=xe.detect(i,o);return l.length||(o=o.clone(),o.rotate180(),l=xe.detect(i,o)),new od(o,l)}static detect(e,n){const i=new Array;let o=0,l=0,a=!1;for(;o<n.getHeight();){const c=xe.findVertices(n,o,l);if(c[0]==null&&c[3]==null){if(!a)break;a=!1,l=0;for(const h of i)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=xe.ROW_STEP;continue}if(a=!0,i.push(c),!e)break;c[2]!=null?(l=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(l=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return i}static findVertices(e,n,i){const o=e.getHeight(),l=e.getWidth(),a=new Array(8);return xe.copyToResult(a,xe.findRowsWithPattern(e,o,l,n,i,xe.START_PATTERN),xe.INDEXES_START_PATTERN),a[4]!=null&&(i=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),xe.copyToResult(a,xe.findRowsWithPattern(e,o,l,n,i,xe.STOP_PATTERN),xe.INDEXES_STOP_PATTERN),a}static copyToResult(e,n,i){for(let o=0;o<i.length;o++)e[i[o]]=n[o]}static findRowsWithPattern(e,n,i,o,l,a){const c=new Array(4);let h=!1;const g=new Int32Array(a.length);for(;o<n;o+=xe.ROW_STEP){let m=xe.findGuardPattern(e,l,o,i,!1,a,g);if(m!=null){for(;o>0;){const C=xe.findGuardPattern(e,l,--o,i,!1,a,g);if(C!=null)m=C;else{o++;break}}c[0]=new re(m[0],o),c[1]=new re(m[1],o),h=!0;break}}let p=o+1;if(h){let m=0,C=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;p<n;p++){const I=xe.findGuardPattern(e,C[0],p,i,!1,a,g);if(I!=null&&Math.abs(C[0]-I[0])<xe.MAX_PATTERN_DRIFT&&Math.abs(C[1]-I[1])<xe.MAX_PATTERN_DRIFT)C=I,m=0;else{if(m>xe.SKIPPED_ROW_COUNT_MAX)break;m++}}p-=m+1,c[2]=new re(C[0],p),c[3]=new re(C[1],p)}return p-o<xe.BARCODE_MIN_HEIGHT&&v.fill(c,null),c}static findGuardPattern(e,n,i,o,l,a,c){v.fillWithin(c,0,c.length,0);let h=n,g=0;for(;e.get(h,i)&&h>0&&g++<xe.MAX_PIXEL_DRIFT;)h--;let p=h,m=0,C=a.length;for(let I=l;p<o;p++)if(e.get(p,i)!==I)c[m]++;else{if(m===C-1){if(xe.patternMatchVariance(c,a,xe.MAX_INDIVIDUAL_VARIANCE)<xe.MAX_AVG_VARIANCE)return new Int32Array([h,p]);h+=c[0]+c[1],z.arraycopy(c,2,c,0,m-1),c[m-1]=0,c[m]=0,m--}else m++;c[m]=1,I=!I}return m===C-1&&xe.patternMatchVariance(c,a,xe.MAX_INDIVIDUAL_VARIANCE)<xe.MAX_AVG_VARIANCE?new Int32Array([h,p-1]):null}static patternMatchVariance(e,n,i){let o=e.length,l=0,a=0;for(let g=0;g<o;g++)l+=e[g],a+=n[g];if(l<a)return 1/0;let c=l/a;i*=c;let h=0;for(let g=0;g<o;g++){let p=e[g],m=n[g]*c,C=p>m?p-m:m-p;if(C>i)return 1/0;h+=C}return h/l}}xe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),xe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),xe.MAX_AVG_VARIANCE=.42,xe.MAX_INDIVIDUAL_VARIANCE=.8,xe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),xe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),xe.MAX_PIXEL_DRIFT=3,xe.MAX_PATTERN_DRIFT=5,xe.SKIPPED_ROW_COUNT_MAX=25,xe.ROW_STEP=5,xe.BARCODE_MIN_HEIGHT=10;class Ct{constructor(e,n){if(n.length===0)throw new T;this.field=e;let i=n.length;if(i>1&&n[0]===0){let o=1;for(;o<i&&n[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),z.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let n=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)n=this.field.add(this.field.multiply(e,n),this.coefficients[o]);return n}add(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){let a=n;n=i,i=a}let o=new Int32Array(i.length),l=i.length-n.length;z.arraycopy(i,0,o,0,l);for(let a=l;a<i.length;a++)o[a]=this.field.add(n[a-l],i[a]);return new Ct(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Ct?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Ct(this.field,new Int32Array([0]));let n=this.coefficients,i=n.length,o=e.coefficients,l=o.length,a=new Int32Array(i+l-1);for(let c=0;c<i;c++){let h=n[c];for(let g=0;g<l;g++)a[c+g]=this.field.add(a[c+g],this.field.multiply(h,o[g]))}return new Ct(this.field,a)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let i=0;i<e;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new Ct(this.field,n)}multiplyScalar(e){if(e===0)return new Ct(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],e);return new Ct(this.field,i)}multiplyByMonomial(e,n){if(e<0)throw new T;if(n===0)return new Ct(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+e);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],n);return new Ct(this.field,o)}toString(){let e=new ye;for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(n===0||i!==1)&&e.append(i),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class ld{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}inverse(e){if(e===0)throw new bs;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Sl extends ld{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let o=0;o<e;o++)this.expTable[o]=i,i=i*n%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Ct(this,new Int32Array([0])),this.one=new Ct(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new T;if(n===0)return this.zero;let i=new Int32Array(e+1);return i[0]=n,new Ct(this,i)}}Sl.PDF417_GF=new Sl(ce.NUMBER_OF_CODEWORDS,3);class t1{constructor(){this.field=Sl.PDF417_GF}decode(e,n,i){let o=new Ct(this.field,e),l=new Int32Array(n),a=!1;for(let N=n;N>0;N--){let R=o.evaluateAt(this.field.exp(N));l[n-N]=R,R!==0&&(a=!0)}if(!a)return 0;let c=this.field.getOne();if(i!=null)for(const N of i){let R=this.field.exp(e.length-1-N),M=new Ct(this.field,new Int32Array([this.field.subtract(0,R),1]));c=c.multiply(M)}let h=new Ct(this.field,l),g=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),h,n),p=g[0],m=g[1],C=this.findErrorLocations(p),I=this.findErrorMagnitudes(m,p,C);for(let N=0;N<C.length;N++){let R=e.length-1-this.field.log(C[N]);if(R<0)throw V.getChecksumInstance();e[R]=this.field.subtract(e[R],I[N])}return C.length}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){let C=e;e=n,n=C}let o=e,l=n,a=this.field.getZero(),c=this.field.getOne();for(;l.getDegree()>=Math.round(i/2);){let C=o,I=a;if(o=l,a=c,o.isZero())throw V.getChecksumInstance();l=C;let N=this.field.getZero(),R=o.getCoefficient(o.getDegree()),M=this.field.inverse(R);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let L=l.getDegree()-o.getDegree(),Y=this.field.multiply(l.getCoefficient(l.getDegree()),M);N=N.add(this.field.buildMonomial(L,Y)),l=l.subtract(o.multiplyByMonomial(L,Y))}c=N.multiply(a).subtract(I).negative()}let h=c.getCoefficient(0);if(h===0)throw V.getChecksumInstance();let g=this.field.inverse(h),p=c.multiply(g),m=l.multiply(g);return[p,m]}findErrorLocations(e){let n=e.getDegree(),i=new Int32Array(n),o=0;for(let l=1;l<this.field.getSize()&&o<n;l++)e.evaluateAt(l)===0&&(i[o]=this.field.inverse(l),o++);if(o!==n)throw V.getChecksumInstance();return i}findErrorMagnitudes(e,n,i){let o=n.getDegree(),l=new Int32Array(o);for(let g=1;g<=o;g++)l[o-g]=this.field.multiply(g,n.getCoefficient(g));let a=new Ct(this.field,l),c=i.length,h=new Int32Array(c);for(let g=0;g<c;g++){let p=this.field.inverse(i[g]),m=this.field.subtract(0,e.evaluateAt(p)),C=this.field.inverse(a.evaluateAt(p));h[g]=this.field.multiply(m,C)}return h}}class _r{constructor(e,n,i,o,l){e instanceof _r?this.constructor_2(e):this.constructor_1(e,n,i,o,l)}constructor_1(e,n,i,o,l){const a=n==null||i==null,c=o==null||l==null;if(a&&c)throw new U;a?(n=new re(0,o.getY()),i=new re(0,l.getY())):c&&(o=new re(e.getWidth()-1,n.getY()),l=new re(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=n,this.bottomLeft=i,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(n.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(n.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),l.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new _r(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,i){let o=this.topLeft,l=this.bottomLeft,a=this.topRight,c=this.bottomRight;if(e>0){let h=i?this.topLeft:this.topRight,g=Math.trunc(h.getY()-e);g<0&&(g=0);let p=new re(h.getX(),g);i?o=p:a=p}if(n>0){let h=i?this.bottomLeft:this.bottomRight,g=Math.trunc(h.getY()+n);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let p=new re(h.getX(),g);i?l=p:c=p}return new _r(this.image,o,l,a,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ad{constructor(e,n,i,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=n,this.rowCountLowerPart=i,this.rowCount=n+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Pi{constructor(){this.buffer=""}static form(e,n){let i=-1;function o(a,c,h,g,p,m){if(a==="%%")return"%";if(n[++i]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let C=p?parseInt(p.substr(1)):void 0,I;switch(m){case"s":I=n[i];break;case"c":I=n[i][0];break;case"f":I=parseFloat(n[i]).toFixed(a);break;case"p":I=parseFloat(n[i]).toPrecision(a);break;case"e":I=parseFloat(n[i]).toExponential(a);break;case"x":I=parseInt(n[i]).toString(C||16);break;case"d":I=parseFloat(parseInt(n[i],C||10).toPrecision(a)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(C);let N=parseInt(h),R=h&&h[0]+""=="0"?"0":" ";for(;I.length<N;)I=c!==void 0?I+R:R+I;return I}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)}format(e,...n){this.buffer+=Pi.form(e,n)}toString(){return this.buffer}}class Li{constructor(e){this.boundingBox=new _r(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let i=1;i<Li.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(e)-i;if(o>=0&&(n=this.codewords[o],n!=null)||(o=this.imageRowToCodewordIndex(e)+i,o<this.codewords.length&&(n=this.codewords[o],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Pi;let n=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue())}return e.toString()}}Li.MAX_NEARBY_DISTANCE=5;class Fi{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[i,o]of this.values.entries()){const l={getKey:()=>i,getValue:()=>o};l.getValue()>e?(e=l.getValue(),n=[],n.push(l.getKey())):l.getValue()===e&&n.push(l.getKey())}return ce.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class n1 extends Li{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,g=1,p=0;for(let m=a;m<c;m++){if(n[m]==null)continue;let C=n[m],I=C.getRowNumber()-h;if(I===0)p++;else if(I===1)g=Math.max(g,p),p=1,h=C.getRowNumber();else if(I<0||C.getRowNumber()>=e.getRowCount()||I>m)n[m]=null;else{let N;g>2?N=(g-2)*I:N=I;let R=N>=m;for(let M=1;M<=N&&!R;M++)R=n[m-M]!=null;R?n[m]=null:(h=C.getRowNumber(),p=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=n.length)continue;n[o]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=this.getCodewords(),h=-1;for(let g=l;g<a;g++){if(c[g]==null)continue;let p=c[g];p.setRowNumberAsRowIndicatorColumn();let m=p.getRowNumber()-h;m===0||(m===1?h=p.getRowNumber():p.getRowNumber()>=e.getRowCount()?c[g]=null:h=p.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Fi,i=new Fi,o=new Fi,l=new Fi;for(let c of e){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let h=c.getValue()%30,g=c.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:i.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:n.setValue(h+1);break}}if(n.getValue().length===0||i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||n.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<ce.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>ce.MAX_ROWS_IN_BARCODE)return null;let a=new ad(n.getValue()[0],i.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,n){for(let i=0;i<e.length;i++){let o=e[i];if(e[i]==null)continue;let l=o.getValue()%30,a=o.getRowNumber();if(a>n.getRowCount()){e[i]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:l*3+1!==n.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(l/3)!==n.getErrorCorrectionLevel()||l%3!==n.getRowCountLowerPart())&&(e[i]=null);break;case 2:l+1!==n.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ui{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=ce.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let i=this.detectionResultColumns[n].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(n,o,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&n[i]!=null&&e[i].getRowNumber()===n[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[i];l!=null&&(l.setRowNumber(e[i].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let o=n[i].getRowNumber(),l=0;for(let a=this.barcodeColumnCount+1;a>0&&l<this.ADJUST_ROW_NUMBER_SKIP;a--){let c=this.detectionResultColumns[a].getCodewords()[i];c!=null&&(l=Ui.adjustRowNumberIfValid(o,l,c),c.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let o=n[i].getRowNumber(),l=0;for(let a=1;a<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;a++){let c=this.detectionResultColumns[a].getCodewords()[i];c!=null&&(l=Ui.adjustRowNumberIfValid(o,l,c),c.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,i){if(!this.detectionResultColumns[e-1])return;let o=i[n],l=this.detectionResultColumns[e-1].getCodewords(),a=l;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let c=new Array(14);c[2]=l[n],c[3]=a[n],n>0&&(c[0]=i[n-1],c[4]=l[n-1],c[5]=a[n-1]),n>1&&(c[8]=i[n-2],c[10]=l[n-2],c[11]=a[n-2]),n<i.length-1&&(c[1]=i[n+1],c[6]=l[n+1],c[7]=a[n+1]),n<i.length-2&&(c[9]=i[n+2],c[12]=l[n+2],c[13]=a[n+2]);for(let h of c)if(Ui.adjustRowNumber(o,h))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Pi;for(let i=0;i<e.getCodewords().length;i++){n.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){n.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[i];if(l==null){n.format("    |   ");continue}n.format(" %3d|%3d",l.getRowNumber(),l.getValue())}n.format("%n")}return n.toString()}}class Vi{constructor(e,n,i,o){this.rowNumber=Vi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Vi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Vi.BARCODE_ROW_UNKNOWN=-1;class Ht{static initialize(){for(let e=0;e<ce.SYMBOL_TABLE.length;e++){let n=ce.SYMBOL_TABLE[e],i=n&1;for(let o=0;o<ce.BARS_IN_MODULE;o++){let l=0;for(;(n&1)===i;)l+=1,n>>=1;i=n&1,Ht.RATIOS_TABLE[e]||(Ht.RATIOS_TABLE[e]=new Array(ce.BARS_IN_MODULE)),Ht.RATIOS_TABLE[e][ce.BARS_IN_MODULE-o-1]=Math.fround(l/ce.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=Ht.getDecodedCodewordValue(Ht.sampleBitCounts(e));return n!==-1?n:Ht.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=Se.sum(e),i=new Int32Array(ce.BARS_IN_MODULE),o=0,l=0;for(let a=0;a<ce.MODULES_IN_CODEWORD;a++){let c=n/(2*ce.MODULES_IN_CODEWORD)+a*n/ce.MODULES_IN_CODEWORD;l+e[o]<=c&&(l+=e[o],o++),i[o]++}return i}static getDecodedCodewordValue(e){let n=Ht.getBitValue(e);return ce.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let i=0;i<e.length;i++)for(let o=0;o<e[i];o++)n=n<<1|(i%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=Se.sum(e),i=new Array(ce.BARS_IN_MODULE);if(n>1)for(let a=0;a<i.length;a++)i[a]=Math.fround(e[a]/n);let o=ks.MAX_VALUE,l=-1;this.bSymbolTableReady||Ht.initialize();for(let a=0;a<Ht.RATIOS_TABLE.length;a++){let c=0,h=Ht.RATIOS_TABLE[a];for(let g=0;g<ce.BARS_IN_MODULE;g++){let p=Math.fround(h[g]-i[g]);if(c+=Math.fround(p*p),c>=o)break}c<o&&(o=c,l=ce.SYMBOL_TABLE[a])}return l}}Ht.bSymbolTableReady=!1,Ht.RATIOS_TABLE=new Array(ce.SYMBOL_TABLE.length).map(w=>new Array(ce.BARS_IN_MODULE));class r1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class i1{static parseLong(e,n=void 0){return parseInt(e,n)}}class s1 extends E{}s1.kind="NullPointerException";class ud{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,i){if(e==null)throw new s1;if(n<0||n>e.length||i<0||n+i>e.length||n+i<0)throw new we;if(i===0)return;for(let o=0;o<i;o++)this.write(e[n+o])}flush(){}close(){}}class cd extends E{}class fd extends ud{constructor(e=32){if(super(),this.count=0,e<0)throw new T("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new cd;i=_.MAX_VALUE}this.buf=v.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,i){if(n<0||n>e.length||i<0||n+i-e.length>0)throw new we;this.ensureCapacity(this.count+i),z.arraycopy(e,n,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return v.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Me;(function(w){w[w.ALPHA=0]="ALPHA",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.PUNCT=3]="PUNCT",w[w.ALPHA_SHIFT=4]="ALPHA_SHIFT",w[w.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Me||(Me={}));function o1(){if(typeof window<"u")return window.BigInt||null;if(typeof Wi<"u")return Wi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let zs;function nr(w){if(typeof zs>"u"&&(zs=o1()),zs===null)throw new Error("BigInt is not supported!");return zs(w)}function dd(){let w=[];w[0]=nr(1);let e=nr(900);w[1]=e;for(let n=2;n<16;n++)w[n]=w[n-1]*e;return w}class P{static decode(e,n){let i=new ye(""),o=H.ISO8859_1;i.enableDecoding(o);let l=1,a=e[l++],c=new r1;for(;l<e[0];){switch(a){case P.TEXT_COMPACTION_MODE_LATCH:l=P.textCompaction(e,l,i);break;case P.BYTE_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:l=P.byteCompaction(a,e,o,l,i);break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[l++]);break;case P.NUMERIC_COMPACTION_MODE_LATCH:l=P.numericCompaction(e,l,i);break;case P.ECI_CHARSET:H.getCharacterSetECIByValue(e[l++]);break;case P.ECI_GENERAL_PURPOSE:l+=2;break;case P.ECI_USER_DEFINED:l++;break;case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=P.decodeMacroBlock(e,l,c);break;case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:throw new B;default:l--,l=P.textCompaction(e,l,i);break}if(l<e.length)a=e[l++];else throw B.getFormatInstance()}if(i.length()===0)throw B.getFormatInstance();let h=new Di(null,i.toString(),null,n);return h.setOther(c),h}static decodeMacroBlock(e,n,i){if(n+P.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw B.getFormatInstance();let o=new Int32Array(P.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<P.NUMBER_OF_SEQUENCE_CODEWORDS;c++,n++)o[c]=e[n];i.setSegmentIndex(_.parseInt(P.decodeBase900toBase10(o,P.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new ye;n=P.textCompaction(e,n,l),i.setFileId(l.toString());let a=-1;for(e[n]===P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<e[0];)switch(e[n]){case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case P.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new ye;n=P.textCompaction(e,n+1,c),i.setFileName(c.toString());break;case P.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new ye;n=P.textCompaction(e,n+1,h),i.setSender(h.toString());break;case P.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new ye;n=P.textCompaction(e,n+1,g),i.setAddressee(g.toString());break;case P.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let p=new ye;n=P.numericCompaction(e,n+1,p),i.setSegmentCount(_.parseInt(p.toString()));break;case P.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let m=new ye;n=P.numericCompaction(e,n+1,m),i.setTimestamp(i1.parseLong(m.toString()));break;case P.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let C=new ye;n=P.numericCompaction(e,n+1,C),i.setChecksum(_.parseInt(C.toString()));break;case P.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let I=new ye;n=P.numericCompaction(e,n+1,I),i.setFileSize(i1.parseLong(I.toString()));break;default:throw B.getFormatInstance()}break;case P.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(a!==-1){let c=n-a;i.isLastSegment()&&c--,i.setOptionalData(v.copyOfRange(e,a,a+c))}return n}static textCompaction(e,n,i){let o=new Int32Array((e[0]-n)*2),l=new Int32Array((e[0]-n)*2),a=0,c=!1;for(;n<e[0]&&!c;){let h=e[n++];if(h<P.TEXT_COMPACTION_MODE_LATCH)o[a]=h/30,o[a+1]=h%30,a+=2;else switch(h){case P.TEXT_COMPACTION_MODE_LATCH:o[a++]=P.TEXT_COMPACTION_MODE_LATCH;break;case P.BYTE_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.NUMERIC_COMPACTION_MODE_LATCH:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:n--,c=!0;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[a]=P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=e[n++],l[a]=h,a++;break}}return P.decodeTextCompaction(o,l,a,i),n}static decodeTextCompaction(e,n,i,o){let l=Me.ALPHA,a=Me.ALPHA,c=0;for(;c<i;){let h=e[c],g="";switch(l){case Me.ALPHA:if(h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case P.LL:l=Me.LOWER;break;case P.ML:l=Me.MIXED;break;case P.PS:a=l,l=Me.PUNCT_SHIFT;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[c]);break;case P.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break;case Me.LOWER:if(h<26)g=String.fromCharCode(97+h);else switch(h){case 26:g=" ";break;case P.AS:a=l,l=Me.ALPHA_SHIFT;break;case P.ML:l=Me.MIXED;break;case P.PS:a=l,l=Me.PUNCT_SHIFT;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[c]);break;case P.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break;case Me.MIXED:if(h<P.PL)g=P.MIXED_CHARS[h];else switch(h){case P.PL:l=Me.PUNCT;break;case 26:g=" ";break;case P.LL:l=Me.LOWER;break;case P.AL:l=Me.ALPHA;break;case P.PS:a=l,l=Me.PUNCT_SHIFT;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[c]);break;case P.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break;case Me.PUNCT:if(h<P.PAL)g=P.PUNCT_CHARS[h];else switch(h){case P.PAL:l=Me.ALPHA;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[c]);break;case P.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break;case Me.ALPHA_SHIFT:if(l=a,h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case P.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break;case Me.PUNCT_SHIFT:if(l=a,h<P.PAL)g=P.PUNCT_CHARS[h];else switch(h){case P.PAL:l=Me.ALPHA;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[c]);break;case P.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break}g!==""&&o.append(g),c++}}static byteCompaction(e,n,i,o,l){let a=new fd,c=0,h=0,g=!1;switch(e){case P.BYTE_COMPACTION_MODE_LATCH:let p=new Int32Array(6),m=n[o++];for(;o<n[0]&&!g;)switch(p[c++]=m,h=900*h+m,m=n[o++],m){case P.TEXT_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH:case P.NUMERIC_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:o--,g=!0;break;default:if(c%5===0&&c>0){for(let C=0;C<6;++C)a.write(Number(nr(h)>>nr(8*(5-C))));h=0,c=0}break}o===n[0]&&m<P.TEXT_COMPACTION_MODE_LATCH&&(p[c++]=m);for(let C=0;C<c;C++)a.write(p[C]);break;case P.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!g;){let C=n[o++];if(C<P.TEXT_COMPACTION_MODE_LATCH)c++,h=900*h+C;else switch(C){case P.TEXT_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH:case P.NUMERIC_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:o--,g=!0;break}if(c%5===0&&c>0){for(let I=0;I<6;++I)a.write(Number(nr(h)>>nr(8*(5-I))));h=0,c=0}}break}return l.append(Pe.decode(a.toByteArray(),i)),o}static numericCompaction(e,n,i){let o=0,l=!1,a=new Int32Array(P.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!l;){let c=e[n++];if(n===e[0]&&(l=!0),c<P.TEXT_COMPACTION_MODE_LATCH)a[o]=c,o++;else switch(c){case P.TEXT_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:n--,l=!0;break}(o%P.MAX_NUMERIC_CODEWORDS===0||c===P.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(i.append(P.decodeBase900toBase10(a,o)),o=0)}return n}static decodeBase900toBase10(e,n){let i=nr(0);for(let l=0;l<n;l++)i+=P.EXP900[n-l-1]*nr(e[l]);let o=i.toString();if(o.charAt(0)!=="1")throw new B;return o.substring(1)}}P.TEXT_COMPACTION_MODE_LATCH=900,P.BYTE_COMPACTION_MODE_LATCH=901,P.NUMERIC_COMPACTION_MODE_LATCH=902,P.BYTE_COMPACTION_MODE_LATCH_6=924,P.ECI_USER_DEFINED=925,P.ECI_GENERAL_PURPOSE=926,P.ECI_CHARSET=927,P.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,P.MACRO_PDF417_TERMINATOR=922,P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,P.MAX_NUMERIC_CODEWORDS=15,P.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,P.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,P.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,P.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,P.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,P.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,P.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,P.PL=25,P.LL=27,P.AS=27,P.ML=28,P.AL=28,P.PS=29,P.PAL=29,P.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,P.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",P.EXP900=o1()?dd():[],P.NUMBER_OF_SEQUENCE_CODEWORDS=2;class pe{constructor(){}static decode(e,n,i,o,l,a,c){let h=new _r(e,n,i,o,l),g=null,p=null,m;for(let N=!0;;N=!1){if(n!=null&&(g=pe.getRowIndicatorColumn(e,h,n,!0,a,c)),o!=null&&(p=pe.getRowIndicatorColumn(e,h,o,!1,a,c)),m=pe.merge(g,p),m==null)throw U.getNotFoundInstance();let R=m.getBoundingBox();if(N&&R!=null&&(R.getMinY()<h.getMinY()||R.getMaxY()>h.getMaxY()))h=R;else break}m.setBoundingBox(h);let C=m.getBarcodeColumnCount()+1;m.setDetectionResultColumn(0,g),m.setDetectionResultColumn(C,p);let I=g!=null;for(let N=1;N<=C;N++){let R=I?N:C-N;if(m.getDetectionResultColumn(R)!==void 0)continue;let M;R===0||R===C?M=new n1(h,R===0):M=new Li(h),m.setDetectionResultColumn(R,M);let L=-1,Y=L;for(let K=h.getMinY();K<=h.getMaxY();K++){if(L=pe.getStartColumn(m,R,K,I),L<0||L>h.getMaxX()){if(Y===-1)continue;L=Y}let G=pe.detectCodeword(e,h.getMinX(),h.getMaxX(),I,L,K,a,c);G!=null&&(M.setCodeword(K,G),Y=L,a=Math.min(a,G.getWidth()),c=Math.max(c,G.getWidth()))}}return pe.createDecoderResult(m)}static merge(e,n){if(e==null&&n==null)return null;let i=pe.getBarcodeMetadata(e,n);if(i==null)return null;let o=_r.merge(pe.adjustBoundingBox(e),pe.adjustBoundingBox(n));return new Ui(i,o)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let i=pe.getMax(n),o=0;for(let c of n)if(o+=i-c,c>0)break;let l=e.getCodewords();for(let c=0;o>0&&l[c]==null;c++)o--;let a=0;for(let c=n.length-1;c>=0&&(a+=i-n[c],!(n[c]>0));c--);for(let c=l.length-1;a>0&&l[c]==null;c--)a--;return e.getBoundingBox().addMissingRows(o,a,e.isLeft())}static getMax(e){let n=-1;for(let i of e)n=Math.max(n,i);return n}static getBarcodeMetadata(e,n){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let o;return n==null||(o=n.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(e,n,i,o,l,a){let c=new n1(n,o);for(let h=0;h<2;h++){let g=h===0?1:-1,p=Math.trunc(Math.trunc(i.getX()));for(let m=Math.trunc(Math.trunc(i.getY()));m<=n.getMaxY()&&m>=n.getMinY();m+=g){let C=pe.detectCodeword(e,0,e.getWidth(),o,p,m,l,a);C!=null&&(c.setCodeword(m,C),o?p=C.getStartX():p=C.getEndX())}}return c}static adjustCodewordCount(e,n){let i=n[0][1],o=i.getValue(),l=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-pe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(l<1||l>ce.MAX_CODEWORDS_IN_BARCODE)throw U.getNotFoundInstance();i.setValue(l)}else o[0]!==l&&i.setValue(l)}static createDecoderResult(e){let n=pe.createBarcodeMatrix(e);pe.adjustCodewordCount(e,n);let i=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),l=[],a=new Array;for(let h=0;h<e.getBarcodeRowCount();h++)for(let g=0;g<e.getBarcodeColumnCount();g++){let p=n[h][g+1].getValue(),m=h*e.getBarcodeColumnCount()+g;p.length===0?i.push(m):p.length===1?o[m]=p[0]:(a.push(m),l.push(p))}let c=new Array(l.length);for(let h=0;h<c.length;h++)c[h]=l[h];return pe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,ce.toIntArray(i),ce.toIntArray(a),c)}static createDecoderResultFromAmbiguousValues(e,n,i,o,l){let a=new Int32Array(o.length),c=100;for(;c-- >0;){for(let h=0;h<a.length;h++)n[o[h]]=l[h][a[h]];try{return pe.decodeCodewords(n,e,i)}catch(h){if(!(h instanceof V))throw h}if(a.length===0)throw V.getChecksumInstance();for(let h=0;h<a.length;h++)if(a[h]<l[h].length-1){a[h]++;break}else if(a[h]=0,h===a.length-1)throw V.getChecksumInstance()}throw V.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<n.length;o++)for(let l=0;l<n[o].length;l++)n[o][l]=new Fi;let i=0;for(let o of e.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let a=l.getRowNumber();if(a>=0){if(a>=n.length)continue;n[a][i].setValue(l.getValue())}}}i++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,i,o){let l=o?1:-1,a=null;if(pe.isValidBarcodeColumn(e,n-l)&&(a=e.getDetectionResultColumn(n-l).getCodeword(i)),a!=null)return o?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(n).getCodewordNearby(i),a!=null)return o?a.getStartX():a.getEndX();if(pe.isValidBarcodeColumn(e,n-l)&&(a=e.getDetectionResultColumn(n-l).getCodewordNearby(i)),a!=null)return o?a.getEndX():a.getStartX();let c=0;for(;pe.isValidBarcodeColumn(e,n-l);){n-=l;for(let h of e.getDetectionResultColumn(n).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+l*c*(h.getEndX()-h.getStartX());c++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,i,o,l,a,c,h){l=pe.adjustCodewordStartColumn(e,n,i,o,l,a);let g=pe.getModuleBitCount(e,n,i,o,l,a);if(g==null)return null;let p,m=Se.sum(g);if(o)p=l+m;else{for(let N=0;N<g.length/2;N++){let R=g[N];g[N]=g[g.length-1-N],g[g.length-1-N]=R}p=l,l=p-m}if(!pe.checkCodewordSkew(m,c,h))return null;let C=Ht.getDecodedValue(g),I=ce.getCodeword(C);return I===-1?null:new Vi(l,p,pe.getCodewordBucketNumber(C),I)}static getModuleBitCount(e,n,i,o,l,a){let c=l,h=new Int32Array(8),g=0,p=o?1:-1,m=o;for(;(o?c<i:c>=n)&&g<h.length;)e.get(c,a)===m?(h[g]++,c+=p):(g++,m=!m);return g===h.length||c===(o?i:n)&&g===h.length-1?h:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,i,o,l,a){let c=l,h=o?-1:1;for(let g=0;g<2;g++){for(;(o?c>=n:c<i)&&o===e.get(c,a);){if(Math.abs(l-c)>pe.CODEWORD_SKEW_SIZE)return l;c+=h}h=-h,o=!o}return c}static checkCodewordSkew(e,n,i){return n-pe.CODEWORD_SKEW_SIZE<=e&&e<=i+pe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,i){if(e.length===0)throw B.getFormatInstance();let o=1<<n+1,l=pe.correctErrors(e,i,o);pe.verifyCodewordCount(e,o);let a=P.decode(e,""+n);return a.setErrorsCorrected(l),a.setErasures(i.length),a}static correctErrors(e,n,i){if(n!=null&&n.length>i/2+pe.MAX_ERRORS||i<0||i>pe.MAX_EC_CODEWORDS)throw V.getChecksumInstance();return pe.errorCorrection.decode(e,i,n)}static verifyCodewordCount(e,n){if(e.length<4)throw B.getFormatInstance();let i=e[0];if(i>e.length)throw B.getFormatInstance();if(i===0)if(n<e.length)e[0]=e.length-n;else throw B.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),i=0,o=n.length-1;for(;!((e&1)!==i&&(i=e&1,o--,o<0));)n[o]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return pe.getCodewordBucketNumber(pe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Pi;for(let i=0;i<e.length;i++){n.format("Row %2d: ",i);for(let o=0;o<e[i].length;o++){let l=e[i][o];l.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}n.format("%n")}return n.toString()}}pe.CODEWORD_SKEW_SIZE=2,pe.MAX_ERRORS=3,pe.MAX_EC_CODEWORDS=512,pe.errorCorrection=new t1;class yt{decode(e,n=null){let i=yt.decode(e,n,!1);if(i==null||i.length===0||i[0]==null)throw U.getNotFoundInstance();return i[0]}decodeMultiple(e,n=null){try{return yt.decode(e,n,!0)}catch(i){throw i instanceof B||i instanceof V?U.getNotFoundInstance():i}}static decode(e,n,i){const o=new Array,l=xe.detectMultiple(e,n,i);for(const a of l.getPoints()){const c=pe.decode(l.getBits(),a[4],a[5],a[6],a[7],yt.getMinCodewordWidth(a),yt.getMaxCodewordWidth(a)),h=new je(c.getText(),c.getRawBytes(),void 0,a,ie.PDF_417);h.putMetadata(gt.ERROR_CORRECTION_LEVEL,c.getECLevel());const g=c.getOther();g!=null&&h.putMetadata(gt.PDF417_EXTRA_METADATA,g),o.push(h)}return o.map(a=>a)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?_.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(yt.getMaxWidth(e[0],e[4]),yt.getMaxWidth(e[6],e[2])*ce.MODULES_IN_CODEWORD/ce.MODULES_IN_STOP_PATTERN),Math.max(yt.getMaxWidth(e[1],e[5]),yt.getMaxWidth(e[7],e[3])*ce.MODULES_IN_CODEWORD/ce.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(yt.getMinWidth(e[0],e[4]),yt.getMinWidth(e[6],e[2])*ce.MODULES_IN_CODEWORD/ce.MODULES_IN_STOP_PATTERN),Math.min(yt.getMinWidth(e[1],e[5]),yt.getMinWidth(e[7],e[3])*ce.MODULES_IN_CODEWORD/ce.MODULES_IN_STOP_PATTERN)))}reset(){}}class Hs extends E{}Hs.kind="ReaderException";class l1{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!u(e)&&e.get(X.TRY_HARDER)===!0,i=u(e)?null:e.get(X.POSSIBLE_FORMATS),o=new Array;if(!u(i)){const l=i.some(a=>a===ie.UPC_A||a===ie.UPC_E||a===ie.EAN_13||a===ie.EAN_8||a===ie.CODABAR||a===ie.CODE_39||a===ie.CODE_93||a===ie.CODE_128||a===ie.ITF||a===ie.RSS_14||a===ie.RSS_EXPANDED);l&&!n&&o.push(new Kr(e,this.verbose)),i.includes(ie.QR_CODE)&&o.push(new tr),i.includes(ie.DATA_MATRIX)&&o.push(new er),i.includes(ie.AZTEC)&&o.push(new Ps),i.includes(ie.PDF_417)&&o.push(new yt),l&&n&&o.push(new Kr(e,this.verbose))}o.length===0&&(n||o.push(new Kr(e,this.verbose)),o.push(new tr),o.push(new er),o.push(new Ps),o.push(new yt),n&&o.push(new Kr(e,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Hs("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(i){if(i instanceof Hs)continue}throw new U("No MultiFormat Readers were able to detect the code.")}}class hd extends sn{constructor(e=null,n=500){const i=new l1;i.setHints(e),super(i,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class gd extends sn{constructor(e=500){super(new yt,e)}}class xd extends sn{constructor(e=500){super(new tr,e)}}var Il;(function(w){w[w.ERROR_CORRECTION=0]="ERROR_CORRECTION",w[w.CHARACTER_SET=1]="CHARACTER_SET",w[w.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",w[w.MIN_SIZE=3]="MIN_SIZE",w[w.MAX_SIZE=4]="MAX_SIZE",w[w.MARGIN=5]="MARGIN",w[w.PDF417_COMPACT=6]="PDF417_COMPACT",w[w.PDF417_COMPACTION=7]="PDF417_COMPACTION",w[w.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",w[w.AZTEC_LAYERS=9]="AZTEC_LAYERS",w[w.QR_VERSION=10]="QR_VERSION"})(Il||(Il={}));var ft=Il;class vl{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Ut(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let i=n[n.length-1];const o=this.field;for(let l=n.length;l<=e;l++){const a=i.multiply(new Ut(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));n.push(a),i=a}}return n[e]}encode(e,n){if(n===0)throw new T("No error correction bytes");const i=e.length-n;if(i<=0)throw new T("No data bytes provided");const o=this.buildGenerator(n),l=new Int32Array(i);z.arraycopy(e,0,l,0,i);let a=new Ut(this.field,l);a=a.multiplyByMonomial(n,1);const h=a.divide(o)[1].getCoefficients(),g=n-h.length;for(let p=0;p<g;p++)e[i+p]=0;z.arraycopy(h,0,e,i+g,h.length)}}class tt{constructor(){}static applyMaskPenaltyRule1(e){return tt.applyMaskPenaltyRule1Internal(e,!0)+tt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let a=0;a<l-1;a++){const c=i[a];for(let h=0;h<o-1;h++){const g=c[h];g===c[h+1]&&g===i[a+1][h]&&g===i[a+1][h+1]&&n++}}return tt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let a=0;a<l;a++)for(let c=0;c<o;c++){const h=i[a];c+6<o&&h[c]===1&&h[c+1]===0&&h[c+2]===1&&h[c+3]===1&&h[c+4]===1&&h[c+5]===0&&h[c+6]===1&&(tt.isWhiteHorizontal(h,c-4,c)||tt.isWhiteHorizontal(h,c+7,c+11))&&n++,a+6<l&&i[a][c]===1&&i[a+1][c]===0&&i[a+2][c]===1&&i[a+3][c]===1&&i[a+4][c]===1&&i[a+5][c]===0&&i[a+6][c]===1&&(tt.isWhiteVertical(i,c,a-4,a)||tt.isWhiteVertical(i,c,a+7,a+11))&&n++}return n*tt.N3}static isWhiteHorizontal(e,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let o=n;o<i;o++)if(e[o]===1)return!1;return!0}static isWhiteVertical(e,n,i,o){i=Math.max(i,0),o=Math.min(o,e.length);for(let l=i;l<o;l++)if(e[l][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let h=0;h<l;h++){const g=i[h];for(let p=0;p<o;p++)g[p]===1&&n++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-a)*10/a)*tt.N4}static getDataMaskBit(e,n,i){let o,l;switch(e){case 0:o=i+n&1;break;case 1:o=i&1;break;case 2:o=n%3;break;case 3:o=(i+n)%3;break;case 4:o=Math.floor(i/2)+Math.floor(n/3)&1;break;case 5:l=i*n,o=(l&1)+l%3;break;case 6:l=i*n,o=(l&1)+l%3&1;break;case 7:l=i*n,o=l%3+(i+n&1)&1;break;default:throw new T("Invalid mask pattern: "+e)}return o===0}static applyMaskPenaltyRule1Internal(e,n){let i=0;const o=n?e.getHeight():e.getWidth(),l=n?e.getWidth():e.getHeight(),a=e.getArray();for(let c=0;c<o;c++){let h=0,g=-1;for(let p=0;p<l;p++){const m=n?a[c][p]:a[p][c];m===g?h++:(h>=5&&(i+=tt.N1+(h-5)),h=1,g=m)}h>=5&&(i+=tt.N1+(h-5))}return i}}tt.N1=3,tt.N2=3,tt.N3=40,tt.N4=10;class Ws{constructor(e,n){this.width=e,this.height=n;const i=new Array(n);for(let o=0;o!==n;o++)i[o]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,i){this.bytes[n][e]=i}setBoolean(e,n,i){this.bytes[n][e]=i?1:0}clear(e){for(const n of this.bytes)v.fill(n,e)}equals(e){if(!(e instanceof Ws))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i],a=n.bytes[i];for(let c=0,h=this.width;c<h;++c)if(l[c]!==a[c])return!1}return!0}toString(){const e=new ye;for(let n=0,i=this.height;n<i;++n){const o=this.bytes[n];for(let l=0,a=this.width;l<a;++l)switch(o[l]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Rr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new ye;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Rr.NUM_MASK_PATTERNS}}Rr.NUM_MASK_PATTERNS=8;class ke extends E{}ke.kind="WriterException";class ae{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,i,o,l){ae.clearMatrix(l),ae.embedBasicPatterns(i,l),ae.embedTypeInfo(n,o,l),ae.maybeEmbedVersionInfo(i,l),ae.embedDataBits(e,o,l)}static embedBasicPatterns(e,n){ae.embedPositionDetectionPatternsAndSeparators(n),ae.embedDarkDotAtLeftBottomCorner(n),ae.maybeEmbedPositionAdjustmentPatterns(e,n),ae.embedTimingPatterns(n)}static embedTypeInfo(e,n,i){const o=new F;ae.makeTypeInfoBits(e,n,o);for(let l=0,a=o.getSize();l<a;++l){const c=o.get(o.getSize()-1-l),h=ae.TYPE_INFO_COORDINATES[l],g=h[0],p=h[1];if(i.setBoolean(g,p,c),l<8){const m=i.getWidth()-l-1;i.setBoolean(m,8,c)}else{const C=i.getHeight()-7+(l-8);i.setBoolean(8,C,c)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const i=new F;ae.makeVersionInfoBits(e,i);let o=6*3-1;for(let l=0;l<6;++l)for(let a=0;a<3;++a){const c=i.get(o);o--,n.setBoolean(l,n.getHeight()-11+a,c),n.setBoolean(n.getHeight()-11+a,l,c)}}static embedDataBits(e,n,i){let o=0,l=-1,a=i.getWidth()-1,c=i.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);c>=0&&c<i.getHeight();){for(let h=0;h<2;++h){const g=a-h;if(!ae.isEmpty(i.get(g,c)))continue;let p;o<e.getSize()?(p=e.get(o),++o):p=!1,n!==255&&tt.getDataMaskBit(n,g,c)&&(p=!p),i.setBoolean(g,c,p)}c+=l}l=-l,c+=l,a-=2}if(o!==e.getSize())throw new ke("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-_.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new T("0 polynomial");const i=ae.findMSBSet(n);for(e<<=i-1;ae.findMSBSet(e)>=i;)e^=n<<ae.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,n,i){if(!Rr.isValidMaskPattern(n))throw new ke("Invalid mask pattern");const o=e.getBits()<<3|n;i.appendBits(o,5);const l=ae.calculateBCHCode(o,ae.TYPE_INFO_POLY);i.appendBits(l,10);const a=new F;if(a.appendBits(ae.TYPE_INFO_MASK_PATTERN,15),i.xor(a),i.getSize()!==15)throw new ke("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const i=ae.calculateBCHCode(e.getVersionNumber(),ae.VERSION_INFO_POLY);if(n.appendBits(i,12),n.getSize()!==18)throw new ke("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const i=(n+1)%2;ae.isEmpty(e.get(n,6))&&e.setNumber(n,6,i),ae.isEmpty(e.get(6,n))&&e.setNumber(6,n,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new ke;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,i){for(let o=0;o<8;++o){if(!ae.isEmpty(i.get(e+o,n)))throw new ke;i.setNumber(e+o,n,0)}}static embedVerticalSeparationPattern(e,n,i){for(let o=0;o<7;++o){if(!ae.isEmpty(i.get(e,n+o)))throw new ke;i.setNumber(e,n+o,0)}}static embedPositionAdjustmentPattern(e,n,i){for(let o=0;o<5;++o){const l=ae.POSITION_ADJUSTMENT_PATTERN[o];for(let a=0;a<5;++a)i.setNumber(e+a,n+o,l[a])}}static embedPositionDetectionPattern(e,n,i){for(let o=0;o<7;++o){const l=ae.POSITION_DETECTION_PATTERN[o];for(let a=0;a<7;++a)i.setNumber(e+a,n+o,l[a])}}static embedPositionDetectionPatternsAndSeparators(e){const n=ae.POSITION_DETECTION_PATTERN[0].length;ae.embedPositionDetectionPattern(0,0,e),ae.embedPositionDetectionPattern(e.getWidth()-n,0,e),ae.embedPositionDetectionPattern(0,e.getWidth()-n,e);const i=8;ae.embedHorizontalSeparationPattern(0,i-1,e),ae.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),ae.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const o=7;ae.embedVerticalSeparationPattern(o,0,e),ae.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),ae.embedVerticalSeparationPattern(o,e.getHeight()-o,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,o=ae.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let l=0,a=o.length;l!==a;l++){const c=o[l];if(c>=0)for(let h=0;h!==a;h++){const g=o[h];g>=0&&ae.isEmpty(n.get(g,c))&&ae.embedPositionAdjustmentPattern(g-2,c-2,n)}}}}ae.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ae.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ae.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ae.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ae.VERSION_INFO_POLY=7973,ae.TYPE_INFO_POLY=1335,ae.TYPE_INFO_MASK_PATTERN=21522;class pd{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ve{constructor(){}static calculateMaskPenalty(e){return tt.applyMaskPenaltyRule1(e)+tt.applyMaskPenaltyRule2(e)+tt.applyMaskPenaltyRule3(e)+tt.applyMaskPenaltyRule4(e)}static encode(e,n,i=null){let o=Ve.DEFAULT_BYTE_MODE_ENCODING;const l=i!==null&&i.get(ft.CHARACTER_SET)!==void 0;l&&(o=i.get(ft.CHARACTER_SET).toString());const a=this.chooseMode(e,o),c=new F;if(a===oe.BYTE&&(l||Ve.DEFAULT_BYTE_MODE_ENCODING!==o)){const K=H.getCharacterSetECIByName(o);K!==void 0&&this.appendECI(K,c)}this.appendModeInfo(a,c);const h=new F;this.appendBytes(e,a,h,o);let g;if(i!==null&&i.get(ft.QR_VERSION)!==void 0){const K=Number.parseInt(i.get(ft.QR_VERSION).toString(),10);g=se.getVersionForNumber(K);const G=this.calculateBitsNeeded(a,c,h,g);if(!this.willFit(G,g,n))throw new ke("Data too big for requested version")}else g=this.recommendVersion(n,a,c,h);const p=new F;p.appendBitArray(c);const m=a===oe.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(m,g,a,p),p.appendBitArray(h);const C=g.getECBlocksForLevel(n),I=g.getTotalCodewords()-C.getTotalECCodewords();this.terminateBits(I,p);const N=this.interleaveWithECBytes(p,g.getTotalCodewords(),I,C.getNumBlocks()),R=new Rr;R.setECLevel(n),R.setMode(a),R.setVersion(g);const M=g.getDimensionForVersion(),L=new Ws(M,M),Y=this.chooseMaskPattern(N,n,g,L);return R.setMaskPattern(Y),ae.buildMatrix(N,n,g,Y,L),R.setMatrix(L),R}static recommendVersion(e,n,i,o){const l=this.calculateBitsNeeded(n,i,o,se.getVersionForNumber(1)),a=this.chooseVersion(l,e),c=this.calculateBitsNeeded(n,i,o,a);return this.chooseVersion(c,e)}static calculateBitsNeeded(e,n,i,o){return n.getSize()+e.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(e){return e<Ve.ALPHANUMERIC_TABLE.length?Ve.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(H.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return oe.KANJI;let i=!1,o=!1;for(let l=0,a=e.length;l<a;++l){const c=e.charAt(l);if(Ve.isDigit(c))i=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)o=!0;else return oe.BYTE}return o?oe.ALPHANUMERIC:i?oe.NUMERIC:oe.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Pe.encode(e,H.SJIS)}catch{return!1}const i=n.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const l=n[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(e,n,i,o){let l=Number.MAX_SAFE_INTEGER,a=-1;for(let c=0;c<Rr.NUM_MASK_PATTERNS;c++){ae.buildMatrix(e,n,i,c,o);let h=this.calculateMaskPenalty(o);h<l&&(l=h,a=c)}return a}static chooseVersion(e,n){for(let i=1;i<=40;i++){const o=se.getVersionForNumber(i);if(Ve.willFit(e,o,n))return o}throw new ke("Data too big")}static willFit(e,n,i){const o=n.getTotalCodewords(),a=n.getECBlocksForLevel(i).getTotalECCodewords(),c=o-a,h=(e+7)/8;return c>=h}static terminateBits(e,n){const i=e*8;if(n.getSize()>i)throw new ke("data bits cannot fit in the QR Code"+n.getSize()+" > "+i);for(let a=0;a<4&&n.getSize()<i;++a)n.appendBit(!1);const o=n.getSize()&7;if(o>0)for(let a=o;a<8;a++)n.appendBit(!1);const l=e-n.getSizeInBytes();for(let a=0;a<l;++a)n.appendBits(a&1?17:236,8);if(n.getSize()!==i)throw new ke("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,i,o,l,a){if(o>=i)throw new ke("Block ID too large");const c=e%i,h=i-c,g=Math.floor(e/i),p=g+1,m=Math.floor(n/i),C=m+1,I=g-m,N=p-C;if(I!==N)throw new ke("EC bytes mismatch");if(i!==h+c)throw new ke("RS blocks mismatch");if(e!==(m+I)*h+(C+N)*c)throw new ke("Total bytes mismatch");o<h?(l[0]=m,a[0]=I):(l[0]=C,a[0]=N)}static interleaveWithECBytes(e,n,i,o){if(e.getSizeInBytes()!==i)throw new ke("Number of bits and data bytes does not match");let l=0,a=0,c=0;const h=new Array;for(let p=0;p<o;++p){const m=new Int32Array(1),C=new Int32Array(1);Ve.getNumDataBytesAndNumECBytesForBlockID(n,i,o,p,m,C);const I=m[0],N=new Uint8Array(I);e.toBytes(8*l,N,0,I);const R=Ve.generateECBytes(N,C[0]);h.push(new pd(N,R)),a=Math.max(a,I),c=Math.max(c,R.length),l+=m[0]}if(i!==l)throw new ke("Data bytes does not match offset");const g=new F;for(let p=0;p<a;++p)for(const m of h){const C=m.getDataBytes();p<C.length&&g.appendBits(C[p],8)}for(let p=0;p<c;++p)for(const m of h){const C=m.getErrorCorrectionBytes();p<C.length&&g.appendBits(C[p],8)}if(n!==g.getSizeInBytes())throw new ke("Interleaving error: "+n+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,n){const i=e.length,o=new Int32Array(i+n);for(let a=0;a<i;a++)o[a]=e[a]&255;new vl(Ne.QR_CODE_FIELD_256).encode(o,n);const l=new Uint8Array(n);for(let a=0;a<n;a++)l[a]=o[i+a];return l}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,i,o){const l=i.getCharacterCountBits(n);if(e>=1<<l)throw new ke(e+" is bigger than "+((1<<l)-1));o.appendBits(e,l)}static appendBytes(e,n,i,o){switch(n){case oe.NUMERIC:Ve.appendNumericBytes(e,i);break;case oe.ALPHANUMERIC:Ve.appendAlphanumericBytes(e,i);break;case oe.BYTE:Ve.append8BitBytes(e,i,o);break;case oe.KANJI:Ve.appendKanjiBytes(e,i);break;default:throw new ke("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Ve.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const i=e.length;let o=0;for(;o<i;){const l=Ve.getDigit(e.charAt(o));if(o+2<i){const a=Ve.getDigit(e.charAt(o+1)),c=Ve.getDigit(e.charAt(o+2));n.appendBits(l*100+a*10+c,10),o+=3}else if(o+1<i){const a=Ve.getDigit(e.charAt(o+1));n.appendBits(l*10+a,7),o+=2}else n.appendBits(l,4),o++}}static appendAlphanumericBytes(e,n){const i=e.length;let o=0;for(;o<i;){const l=Ve.getAlphanumericCode(e.charCodeAt(o));if(l===-1)throw new ke;if(o+1<i){const a=Ve.getAlphanumericCode(e.charCodeAt(o+1));if(a===-1)throw new ke;n.appendBits(l*45+a,11),o+=2}else n.appendBits(l,6),o++}}static append8BitBytes(e,n,i){let o;try{o=Pe.encode(e,i)}catch(l){throw new ke(l)}for(let l=0,a=o.length;l!==a;l++){const c=o[l];n.appendBits(c,8)}}static appendKanjiBytes(e,n){let i;try{i=Pe.encode(e,H.SJIS)}catch(l){throw new ke(l)}const o=i.length;for(let l=0;l<o;l+=2){const a=i[l]&255,c=i[l+1]&255,h=a<<8&4294967295|c;let g=-1;if(h>=33088&&h<=40956?g=h-33088:h>=57408&&h<=60351&&(g=h-49472),g===-1)throw new ke("Invalid byte sequence");const p=(g>>8)*192+(g&255);n.appendBits(p,13)}}static appendECI(e,n){n.appendBits(oe.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Ve.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ve.DEFAULT_BYTE_MODE_ENCODING=H.UTF8.getName();class Or{write(e,n,i,o=null){if(e.length===0)throw new T("Found empty contents");if(n<0||i<0)throw new T("Requested dimensions are too small: "+n+"x"+i);let l=Fe.L,a=Or.QUIET_ZONE_SIZE;o!==null&&(o.get(ft.ERROR_CORRECTION)!==void 0&&(l=Fe.fromString(o.get(ft.ERROR_CORRECTION).toString())),o.get(ft.MARGIN)!==void 0&&(a=Number.parseInt(o.get(ft.MARGIN).toString(),10)));const c=Ve.encode(e,l,o);return this.renderResult(c,n,i,a)}writeToDom(e,n,i,o,l=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(n,i,o,l);e&&e.appendChild(a)}renderResult(e,n,i,o){const l=e.getMatrix();if(l===null)throw new Tn;const a=l.getWidth(),c=l.getHeight(),h=a+o*2,g=c+o*2,p=Math.max(n,h),m=Math.max(i,g),C=Math.min(Math.floor(p/h),Math.floor(m/g)),I=Math.floor((p-a*C)/2),N=Math.floor((m-c*C)/2),R=this.createSVGElement(p,m);for(let M=0,L=N;M<c;M++,L+=C)for(let Y=0,K=I;Y<a;Y++,K+=C)if(l.get(Y,M)===1){const G=this.createSvgRectElement(K,L,C,C);R.appendChild(G)}return R}createSVGElement(e,n){const i=document.createElementNS(Or.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",n.toString()),i}createSvgRectElement(e,n,i,o){const l=document.createElementNS(Or.SVG_NS,"rect");return l.setAttributeNS(null,"x",e.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Or.QUIET_ZONE_SIZE=4,Or.SVG_NS="http://www.w3.org/2000/svg";class qr{encode(e,n,i,o,l){if(e.length===0)throw new T("Found empty contents");if(n!==ie.QR_CODE)throw new T("Can only encode QR_CODE, but got "+n);if(i<0||o<0)throw new T(`Requested dimensions are too small: ${i}x${o}`);let a=Fe.L,c=qr.QUIET_ZONE_SIZE;l!==null&&(l.get(ft.ERROR_CORRECTION)!==void 0&&(a=Fe.fromString(l.get(ft.ERROR_CORRECTION).toString())),l.get(ft.MARGIN)!==void 0&&(c=Number.parseInt(l.get(ft.MARGIN).toString(),10)));const h=Ve.encode(e,a,l);return qr.renderResult(h,i,o,c)}static renderResult(e,n,i,o){const l=e.getMatrix();if(l===null)throw new Tn;const a=l.getWidth(),c=l.getHeight(),h=a+o*2,g=c+o*2,p=Math.max(n,h),m=Math.max(i,g),C=Math.min(Math.floor(p/h),Math.floor(m/g)),I=Math.floor((p-a*C)/2),N=Math.floor((m-c*C)/2),R=new it(p,m);for(let M=0,L=N;M<c;M++,L+=C)for(let Y=0,K=I;Y<a;Y++,K+=C)l.get(Y,M)===1&&R.setRegion(K,L,C,C);return R}}qr.QUIET_ZONE_SIZE=4;class wd{encode(e,n,i,o,l){let a;switch(n){case ie.QR_CODE:a=new qr;break;default:throw new T("No encoder available for format "+n)}return a.encode(e,n,i,o,l)}}class On extends ${constructor(e,n,i,o,l,a,c,h){if(super(a,c),this.yuvData=e,this.dataWidth=n,this.dataHeight=i,this.left=o,this.top=l,o+a>n||l+c>i)throw new T("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(a,c)}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return z.arraycopy(this.yuvData,o,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const i=e*n,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return z.arraycopy(this.yuvData,l,o,0,i),o;for(let a=0;a<n;a++){const c=a*e;z.arraycopy(this.yuvData,l,o,c,e),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,n,i,o){return new On(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,i,o,!1)}renderThumbnail(){const e=this.getWidth()/On.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/On.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*n),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let a=0;a<n;a++){const c=a*e;for(let h=0;h<e;h++){const g=o[l+h*On.THUMBNAIL_SCALE_FACTOR]&255;i[c+h]=4278190080|g*65793}l+=this.dataWidth*On.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/On.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/On.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const i=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<n;o++,l+=this.dataWidth){const a=l+e/2;for(let c=l,h=l+e-1;c<a;c++,h--){const g=i[c];i[c]=i[h],i[h]=g}}}invert(){return new ue(this)}}On.THUMBNAIL_SCALE_FACTOR=2;class Tl extends ${constructor(e,n,i,o,l,a,c){if(super(n,i),this.dataWidth=o,this.dataHeight=l,this.left=a,this.top=c,e.BYTES_PER_ELEMENT===4){const h=n*i,g=new Uint8ClampedArray(h);for(let p=0;p<h;p++){const m=e[p],C=m>>16&255,I=m>>7&510,N=m&255;g[p]=(C+I+N)/4&255}this.luminances=g}else this.luminances=e;if(o===void 0&&(this.dataWidth=n),l===void 0&&(this.dataHeight=i),a===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+i>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return z.arraycopy(this.luminances,o,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const i=e*n,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return z.arraycopy(this.luminances,l,o,0,i),o;for(let a=0;a<n;a++){const c=a*e;z.arraycopy(this.luminances,l,o,c,e),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,n,i,o){return new Tl(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new ue(this)}}class a1 extends H{static forName(e){return this.getCharacterSetECIByName(e)}}class Nl{}Nl.ISO_8859_1=H.ISO8859_1;class u1{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class c1{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class md{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Jr extends md{constructor(e,n,i){super(e),this.value=n,this.bitCount=i}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new Jr(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Jr(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+_.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class _l extends Jr{constructor(e,n,i){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=i}appendTo(e,n){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+i],8)}addBinaryShift(e,n){return new _l(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ed(w,e,n){return new _l(w,e,n)}function zi(w,e,n){return new Jr(w,e,n)}const Cd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],rr=0,Gs=1,un=2,f1=3,Dn=4,yd=new Jr(null,0,0),Rl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ad(w){for(let e of w)v.fill(e,-1);return w[rr][Dn]=0,w[Gs][Dn]=0,w[Gs][rr]=28,w[f1][Dn]=0,w[un][Dn]=0,w[un][rr]=15,w}const d1=Ad(v.createInt32Array(6,6));class Mn{constructor(e,n,i,o){this.token=e,this.mode=n,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let i=this.bitCount,o=this.token;if(e!==this.mode){let a=Rl[this.mode][e];o=zi(o,a&65535,a>>16),i+=a>>16}let l=e===un?4:5;return o=zi(o,n,l),new Mn(o,e,0,i+l)}shiftAndAppend(e,n){let i=this.token,o=this.mode===un?4:5;return i=zi(i,d1[this.mode][e],o),i=zi(i,n,5),new Mn(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let n=this.token,i=this.mode,o=this.bitCount;if(this.mode===Dn||this.mode===un){let c=Rl[i][rr];n=zi(n,c&65535,c>>16),o+=c>>16,i=rr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new Mn(n,i,this.binaryShiftByteCount+1,o+l);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Ed(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Mn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(Rl[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=Mn.calculateBinaryShiftCost(e)-Mn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())n.unshift(o);let i=new F;for(const o of n)o.appendTo(i,e);return i}toString(){return le.format("%s bits=%d bytes=%d",Cd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Mn.INITIAL_STATE=new Mn(yd,rr,0,0);function Sd(w){const e=le.getCharCode(" "),n=le.getCharCode("."),i=le.getCharCode(",");w[rr][e]=1;const o=le.getCharCode("Z"),l=le.getCharCode("A");for(let C=l;C<=o;C++)w[rr][C]=C-l+2;w[Gs][e]=1;const a=le.getCharCode("z"),c=le.getCharCode("a");for(let C=c;C<=a;C++)w[Gs][C]=C-c+2;w[un][e]=1;const h=le.getCharCode("9"),g=le.getCharCode("0");for(let C=g;C<=h;C++)w[un][C]=C-g+2;w[un][i]=12,w[un][n]=13;const p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let C=0;C<p.length;C++)w[f1][le.getCharCode(p[C])]=C;const m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let C=0;C<m.length;C++)le.getCharCode(m[C])>0&&(w[Dn][le.getCharCode(m[C])]=C);return w}const Ol=Sd(v.createInt32Array(5,256));class Hi{constructor(e){this.text=e}encode(){const e=le.getCharCode(" "),n=le.getCharCode(`
`);let i=c1.singletonList(Mn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let a,c=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case le.getCharCode("\r"):a=c===n?2:0;break;case le.getCharCode("."):a=c===e?3:0;break;case le.getCharCode(","):a=c===e?4:0;break;case le.getCharCode(":"):a=c===e?5:0;break;default:a=0}a>0?(i=Hi.updateStateListForPair(i,l,a),l++):i=this.updateStateListForChar(i,l)}return c1.min(i,(l,a)=>l.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const i=[];for(let o of e)this.updateStateForChar(o,n,i);return Hi.simplifyStates(i)}updateStateForChar(e,n,i){let o=this.text[n]&255,l=Ol[e.getMode()][o]>0,a=null;for(let c=0;c<=Dn;c++){let h=Ol[c][o];if(h>0){if(a==null&&(a=e.endBinaryShift(n)),!l||c===e.getMode()||c===un){const g=a.latchAndAppend(c,h);i.push(g)}if(!l&&d1[e.getMode()][c]>=0){const g=a.shiftAndAppend(c,h);i.push(g)}}}if(e.getBinaryShiftByteCount()>0||Ol[e.getMode()][o]===0){let c=e.addBinaryShiftChar(n);i.push(c)}}static updateStateListForPair(e,n,i){const o=[];for(let l of e)this.updateStateForPair(l,n,i,o);return this.simplifyStates(o)}static updateStateForPair(e,n,i,o){let l=e.endBinaryShift(n);if(o.push(l.latchAndAppend(Dn,i)),e.getMode()!==Dn&&o.push(l.shiftAndAppend(Dn,i)),i===3||i===4){let a=l.latchAndAppend(un,16-i).latchAndAppend(un,1);o.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);o.push(a)}}static simplifyStates(e){let n=[];for(const i of e){let o=!0;for(const l of n){if(l.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(l)&&(n=n.filter(a=>a!==l))}o&&n.push(i)}return n}}class Ie{constructor(){}static encodeBytes(e){return Ie.encode(e,Ie.DEFAULT_EC_PERCENT,Ie.DEFAULT_AZTEC_LAYERS)}static encode(e,n,i){let o=new Hi(e).encode(),l=_.truncDivision(o.getSize()*n,100)+11,a=o.getSize()+l,c,h,g,p,m;if(i!==Ie.DEFAULT_AZTEC_LAYERS){if(c=i<0,h=Math.abs(i),h>(c?Ie.MAX_NB_BITS_COMPACT:Ie.MAX_NB_BITS))throw new T(le.format("Illegal value %s for layers",i));g=Ie.totalBitsInLayer(h,c),p=Ie.WORD_SIZE[h];let G=g-g%p;if(m=Ie.stuffBits(o,p),m.getSize()+l>G)throw new T("Data to large for user specified layer");if(c&&m.getSize()>p*64)throw new T("Data to large for user specified layer")}else{p=0,m=null;for(let G=0;;G++){if(G>Ie.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(c=G<=3,h=c?G+1:G,g=Ie.totalBitsInLayer(h,c),a>g)continue;(m==null||p!==Ie.WORD_SIZE[h])&&(p=Ie.WORD_SIZE[h],m=Ie.stuffBits(o,p));let Ee=g-g%p;if(!(c&&m.getSize()>p*64)&&m.getSize()+l<=Ee)break}}let C=Ie.generateCheckWords(m,g,p),I=m.getSize()/p,N=Ie.generateModeMessage(c,h,I),R=(c?11:14)+h*4,M=new Int32Array(R),L;if(c){L=R;for(let G=0;G<M.length;G++)M[G]=G}else{L=R+1+2*_.truncDivision(_.truncDivision(R,2)-1,15);let G=_.truncDivision(R,2),Ee=_.truncDivision(L,2);for(let ge=0;ge<G;ge++){let Wt=ge+_.truncDivision(ge,15);M[G-ge-1]=Ee-Wt-1,M[G+ge]=Ee+Wt+1}}let Y=new it(L);for(let G=0,Ee=0;G<h;G++){let ge=(h-G)*4+(c?9:12);for(let Wt=0;Wt<ge;Wt++){let mn=Wt*2;for(let Gt=0;Gt<2;Gt++)C.get(Ee+mn+Gt)&&Y.set(M[G*2+Gt],M[G*2+Wt]),C.get(Ee+ge*2+mn+Gt)&&Y.set(M[G*2+Wt],M[R-1-G*2-Gt]),C.get(Ee+ge*4+mn+Gt)&&Y.set(M[R-1-G*2-Gt],M[R-1-G*2-Wt]),C.get(Ee+ge*6+mn+Gt)&&Y.set(M[R-1-G*2-Wt],M[G*2+Gt])}Ee+=ge*8}if(Ie.drawModeMessage(Y,c,L,N),c)Ie.drawBullsEye(Y,_.truncDivision(L,2),5);else{Ie.drawBullsEye(Y,_.truncDivision(L,2),7);for(let G=0,Ee=0;G<_.truncDivision(R,2)-1;G+=15,Ee+=16)for(let ge=_.truncDivision(L,2)&1;ge<L;ge+=2)Y.set(_.truncDivision(L,2)-Ee,ge),Y.set(_.truncDivision(L,2)+Ee,ge),Y.set(ge,_.truncDivision(L,2)-Ee),Y.set(ge,_.truncDivision(L,2)+Ee)}let K=new u1;return K.setCompact(c),K.setSize(L),K.setLayers(h),K.setCodeWords(I),K.setMatrix(Y),K}static drawBullsEye(e,n,i){for(let o=0;o<i;o+=2)for(let l=n-o;l<=n+o;l++)e.set(l,n-o),e.set(l,n+o),e.set(n-o,l),e.set(n+o,l);e.set(n-i,n-i),e.set(n-i+1,n-i),e.set(n-i,n-i+1),e.set(n+i,n-i),e.set(n+i,n-i+1),e.set(n+i,n+i-1)}static generateModeMessage(e,n,i){let o=new F;return e?(o.appendBits(n-1,2),o.appendBits(i-1,6),o=Ie.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(i-1,11),o=Ie.generateCheckWords(o,40,4)),o}static drawModeMessage(e,n,i,o){let l=_.truncDivision(i,2);if(n)for(let a=0;a<7;a++){let c=l-3+a;o.get(a)&&e.set(c,l-5),o.get(a+7)&&e.set(l+5,c),o.get(20-a)&&e.set(c,l+5),o.get(27-a)&&e.set(l-5,c)}else for(let a=0;a<10;a++){let c=l-5+a+_.truncDivision(a,5);o.get(a)&&e.set(c,l-7),o.get(a+10)&&e.set(l+7,c),o.get(29-a)&&e.set(c,l+7),o.get(39-a)&&e.set(l-7,c)}}static generateCheckWords(e,n,i){let o=e.getSize()/i,l=new vl(Ie.getGF(i)),a=_.truncDivision(n,i),c=Ie.bitsToWords(e,i,a);l.encode(c,a-o);let h=n%i,g=new F;g.appendBits(0,h);for(const p of Array.from(c))g.appendBits(p,i);return g}static bitsToWords(e,n,i){let o=new Int32Array(i),l,a;for(l=0,a=e.getSize()/n;l<a;l++){let c=0;for(let h=0;h<n;h++)c|=e.get(l*n+h)?1<<n-h-1:0;o[l]=c}return o}static getGF(e){switch(e){case 4:return Ne.AZTEC_PARAM;case 6:return Ne.AZTEC_DATA_6;case 8:return Ne.AZTEC_DATA_8;case 10:return Ne.AZTEC_DATA_10;case 12:return Ne.AZTEC_DATA_12;default:throw new T("Unsupported word size "+e)}}static stuffBits(e,n){let i=new F,o=e.getSize(),l=(1<<n)-2;for(let a=0;a<o;a+=n){let c=0;for(let h=0;h<n;h++)(a+h>=o||e.get(a+h))&&(c|=1<<n-1-h);(c&l)===l?(i.appendBits(c&l,n),a--):c&l?i.appendBits(c,n):(i.appendBits(c|1,n),a--)}return i}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Ie.DEFAULT_EC_PERCENT=33,Ie.DEFAULT_AZTEC_LAYERS=0,Ie.MAX_NB_BITS=32,Ie.MAX_NB_BITS_COMPACT=4,Ie.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Xs{encode(e,n,i,o){return this.encodeWithHints(e,n,i,o,null)}encodeWithHints(e,n,i,o,l){let a=Nl.ISO_8859_1,c=Ie.DEFAULT_EC_PERCENT,h=Ie.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(ft.CHARACTER_SET)&&(a=a1.forName(l.get(ft.CHARACTER_SET).toString())),l.has(ft.ERROR_CORRECTION)&&(c=_.parseInt(l.get(ft.ERROR_CORRECTION).toString())),l.has(ft.AZTEC_LAYERS)&&(h=_.parseInt(l.get(ft.AZTEC_LAYERS).toString()))),Xs.encodeLayers(e,n,i,o,a,c,h)}static encodeLayers(e,n,i,o,l,a,c){if(n!==ie.AZTEC)throw new T("Can only encode AZTEC, but got "+n);let h=Ie.encode(le.getBytes(e,l),a,c);return Xs.renderResult(h,i,o)}static renderResult(e,n,i){let o=e.getMatrix();if(o==null)throw new Tn;let l=o.getWidth(),a=o.getHeight(),c=Math.max(n,l),h=Math.max(i,a),g=Math.min(c/l,h/a),p=(c-l*g)/2,m=(h-a*g)/2,C=new it(c,h);for(let I=0,N=m;I<a;I++,N+=g)for(let R=0,M=p;R<l;R++,M+=g)o.get(R,I)&&C.setRegion(M,N,g,g);return C}}s.AbstractExpandedDecoder=xl,s.ArgumentException=O,s.ArithmeticException=bs,s.AztecCode=u1,s.AztecCodeReader=Ps,s.AztecCodeWriter=Xs,s.AztecDecoder=Le,s.AztecDetector=Ku,s.AztecDetectorResult=Yu,s.AztecEncoder=Ie,s.AztecHighLevelEncoder=Hi,s.AztecPoint=bt,s.BarcodeFormat=ie,s.Binarizer=Z,s.BinaryBitmap=k,s.BitArray=F,s.BitMatrix=it,s.BitSource=El,s.BrowserAztecCodeReader=Kf,s.BrowserBarcodeReader=ed,s.BrowserCodeReader=sn,s.BrowserDatamatrixCodeReader=nd,s.BrowserMultiFormatReader=hd,s.BrowserPDF417Reader=gd,s.BrowserQRCodeReader=xd,s.BrowserQRCodeSvgWriter=Or,s.CharacterSetECI=H,s.ChecksumException=V,s.Code128Reader=J,s.Code39Reader=ut,s.DataMatrixDecodedBitStreamParser=$n,s.DataMatrixReader=er,s.DecodeHintType=X,s.DecoderResult=Di,s.DefaultGridSampler=Zu,s.DetectorResult=Bs,s.EAN13Reader=vr,s.EncodeHintType=ft,s.Exception=E,s.FormatException=B,s.GenericGF=Ne,s.GenericGFPoly=Ut,s.GlobalHistogramBinarizer=Je,s.GridSampler=fl,s.GridSamplerInstance=qn,s.HTMLCanvasElementLuminanceSource=fe,s.HybridBinarizer=de,s.ITFReader=be,s.IllegalArgumentException=T,s.IllegalStateException=Tn,s.InvertedLuminanceSource=ue,s.LuminanceSource=$,s.MathUtils=Se,s.MultiFormatOneDReader=Kr,s.MultiFormatReader=l1,s.MultiFormatWriter=wd,s.NotFoundException=U,s.OneDReader=lt,s.PDF417DecodedBitStreamParser=P,s.PDF417DecoderErrorCorrection=t1,s.PDF417Reader=yt,s.PDF417ResultMetadata=r1,s.PerspectiveTransform=pn,s.PlanarYUVLuminanceSource=On,s.QRCodeByteMatrix=Ws,s.QRCodeDataMask=ln,s.QRCodeDecodedBitStreamParser=Ye,s.QRCodeDecoderErrorCorrectionLevel=Fe,s.QRCodeDecoderFormatInformation=Nt,s.QRCodeEncoder=Ve,s.QRCodeEncoderQRCode=Rr,s.QRCodeMaskUtil=tt,s.QRCodeMatrixUtil=ae,s.QRCodeMode=oe,s.QRCodeReader=tr,s.QRCodeVersion=se,s.QRCodeWriter=qr,s.RGBLuminanceSource=Tl,s.RSS14Reader=et,s.RSSExpandedReader=W,s.ReaderException=Hs,s.ReedSolomonDecoder=bi,s.ReedSolomonEncoder=vl,s.ReedSolomonException=Xr,s.Result=je,s.ResultMetadataType=gt,s.ResultPoint=re,s.StringUtils=le,s.UnsupportedOperationException=he,s.VideoInputDevice=We,s.WhiteRectangleDetector=Fn,s.WriterException=ke,s.ZXingArrays=v,s.ZXingCharset=a1,s.ZXingInteger=_,s.ZXingStandardCharsets=Nl,s.ZXingStringBuilder=ye,s.ZXingStringEncoding=Pe,s.ZXingSystem=z,s.createAbstractExpandedDecoder=$u,Object.defineProperty(s,"__esModule",{value:!0})})})(qa,qa.exports);var Ze=qa.exports;const ig=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var vc=function(){function t(r,s,u){if(this.formatMap=new Map([[te.QR_CODE,Ze.BarcodeFormat.QR_CODE],[te.AZTEC,Ze.BarcodeFormat.AZTEC],[te.CODABAR,Ze.BarcodeFormat.CODABAR],[te.CODE_39,Ze.BarcodeFormat.CODE_39],[te.CODE_93,Ze.BarcodeFormat.CODE_93],[te.CODE_128,Ze.BarcodeFormat.CODE_128],[te.DATA_MATRIX,Ze.BarcodeFormat.DATA_MATRIX],[te.MAXICODE,Ze.BarcodeFormat.MAXICODE],[te.ITF,Ze.BarcodeFormat.ITF],[te.EAN_13,Ze.BarcodeFormat.EAN_13],[te.EAN_8,Ze.BarcodeFormat.EAN_8],[te.PDF_417,Ze.BarcodeFormat.PDF_417],[te.RSS_14,Ze.BarcodeFormat.RSS_14],[te.RSS_EXPANDED,Ze.BarcodeFormat.RSS_EXPANDED],[te.UPC_A,Ze.BarcodeFormat.UPC_A],[te.UPC_E,Ze.BarcodeFormat.UPC_E],[te.UPC_EAN_EXTENSION,Ze.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ig)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=u;var f=this.createZXingFormats(r),d=new Map;d.set(Ze.DecodeHintType.POSSIBLE_FORMATS,f),d.set(Ze.DecodeHintType.TRY_HARDER,!1),this.hints=d}return t.prototype.decodeAsync=function(r){var s=this;return new Promise(function(u,f){try{u(s.decode(r))}catch(d){f(d)}})},t.prototype.decode=function(r){var s=new Ze.MultiFormatReader(this.verbose,this.hints),u=new Ze.HTMLCanvasElementLuminanceSource(r),f=new Ze.BinaryBitmap(new Ze.HybridBinarizer(u)),d=s.decode(f);return{text:d.text,format:jf.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,u,f){r.set(s,u)}),r},t.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},t.prototype.createZXingFormats=function(r){for(var s=[],u=0,f=r;u<f.length;u++){var d=f[u];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return s},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),sg=function(t,r,s,u){function f(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function y(O){try{E(u.next(O))}catch(T){x(T)}}function A(O){try{E(u.throw(O))}catch(T){x(T)}}function E(O){O.done?d(O.value):f(O.value).then(y,A)}E((u=u.apply(t,r||[])).next())})},og=function(t,r){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},u,f,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(E){return function(O){return A([E,O])}}function A(E){if(u)throw new TypeError("Generator is already executing.");for(;x&&(x=0,E[0]&&(s=0)),s;)try{if(u=1,f&&(d=E[0]&2?f.return:E[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,E[1])).done)return d;switch(f=0,d&&(E=[E[0]&2,d.value]),E[0]){case 0:case 1:d=E;break;case 4:return s.label++,{value:E[1],done:!1};case 5:s.label++,f=E[1],E=[0];continue;case 7:E=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(E[0]===6||E[0]===2)){s=0;continue}if(E[0]===3&&(!d||E[1]>d[0]&&E[1]<d[3])){s.label=E[1];break}if(E[0]===6&&s.label<d[1]){s.label=d[1],d=E;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(E);break}d[2]&&s.ops.pop(),s.trys.pop();continue}E=r.call(t,s)}catch(O){E=[6,O],f=0}finally{u=d=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Tc=function(){function t(r,s,u){if(this.formatMap=new Map([[te.QR_CODE,"qr_code"],[te.AZTEC,"aztec"],[te.CODABAR,"codabar"],[te.CODE_39,"code_39"],[te.CODE_93,"code_93"],[te.CODE_128,"code_128"],[te.DATA_MATRIX,"data_matrix"],[te.ITF,"itf"],[te.EAN_13,"ean_13"],[te.EAN_8,"ean_8"],[te.PDF_417,"pdf417"],[te.UPC_A,"upc_a"],[te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=u;var f=this.createBarcodeDetectorFormats(r);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var r=new BarcodeDetector({formats:["qr_code"]});return typeof r<"u"},t.prototype.decodeAsync=function(r){return sg(this,void 0,void 0,function(){var s,u;return og(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(r)];case 1:if(s=f.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return u=this.selectLargestBarcode(s),[2,{text:u.rawValue,format:jf.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(r){for(var s=null,u=0,f=0,d=r;f<d.length;f++){var x=d[f],y=x.boundingBox.width*x.boundingBox.height;y>u&&(u=y,s=x)}if(!s)throw"No largest barcode found";return s},t.prototype.createBarcodeDetectorFormats=function(r){for(var s=[],u=0,f=r;u<f.length;u++){var d=f[u];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},t.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},t.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,u,f){r.set(s,u)}),r},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),Nc=function(t,r,s,u){function f(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function y(O){try{E(u.next(O))}catch(T){x(T)}}function A(O){try{E(u.throw(O))}catch(T){x(T)}}function E(O){O.done?d(O.value):f(O.value).then(y,A)}E((u=u.apply(t,r||[])).next())})},_c=function(t,r){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},u,f,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(E){return function(O){return A([E,O])}}function A(E){if(u)throw new TypeError("Generator is already executing.");for(;x&&(x=0,E[0]&&(s=0)),s;)try{if(u=1,f&&(d=E[0]&2?f.return:E[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,E[1])).done)return d;switch(f=0,d&&(E=[E[0]&2,d.value]),E[0]){case 0:case 1:d=E;break;case 4:return s.label++,{value:E[1],done:!1};case 5:s.label++,f=E[1],E=[0];continue;case 7:E=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(E[0]===6||E[0]===2)){s=0;continue}if(E[0]===3&&(!d||E[1]>d[0]&&E[1]<d[3])){s.label=E[1];break}if(E[0]===6&&s.label<d[1]){s.label=d[1],d=E;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(E);break}d[2]&&s.ops.pop(),s.trys.pop();continue}E=r.call(t,s)}catch(O){E=[6,O],f=0}finally{u=d=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},lg=function(){function t(r,s,u,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=u,s&&Tc.isSupported()?(this.primaryDecoder=new Tc(r,u,f),this.secondaryDecoder=new vc(r,u,f)):this.primaryDecoder=new vc(r,u,f)}return t.prototype.decodeAsync=function(r){return Nc(this,void 0,void 0,function(){var s;return _c(this,function(u){switch(u.label){case 0:s=performance.now(),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(r)];case 2:return[2,u.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(r){return Nc(this,void 0,void 0,function(){var s,u;return _c(this,function(f){switch(f.label){case 0:s=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(r)];case 2:return[2,f.sent()];case 3:if(u=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(r)];throw u;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(r){if(this.verbose){var s=performance.now()-r;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var r=0,s=0,u=this.executionResults;s<u.length;s++){var f=u[s];r+=f}var d=r/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),ju=function(){var t=function(r,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(u[d]=f[d])},t(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(r,s);function u(){this.constructor=r}r.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}}(),Yo=function(t,r,s,u){function f(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function y(O){try{E(u.next(O))}catch(T){x(T)}}function A(O){try{E(u.throw(O))}catch(T){x(T)}}function E(O){O.done?d(O.value):f(O.value).then(y,A)}E((u=u.apply(t,r||[])).next())})},Zo=function(t,r){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},u,f,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(E){return function(O){return A([E,O])}}function A(E){if(u)throw new TypeError("Generator is already executing.");for(;x&&(x=0,E[0]&&(s=0)),s;)try{if(u=1,f&&(d=E[0]&2?f.return:E[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,E[1])).done)return d;switch(f=0,d&&(E=[E[0]&2,d.value]),E[0]){case 0:case 1:d=E;break;case 4:return s.label++,{value:E[1],done:!1};case 5:s.label++,f=E[1],E=[0];continue;case 7:E=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(E[0]===6||E[0]===2)){s=0;continue}if(E[0]===3&&(!d||E[1]>d[0]&&E[1]<d[3])){s.label=E[1];break}if(E[0]===6&&s.label<d[1]){s.label=d[1],d=E;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(E);break}d[2]&&s.ops.pop(),s.trys.pop();continue}E=r.call(t,s)}catch(O){E=[6,O],f=0}finally{u=d=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Zf=function(){function t(r,s){this.name=r,this.track=s}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(r){var s={};s[this.name]=r;var u={advanced:[s]};return this.track.applyConstraints(u)},t.prototype.value=function(){var r=this.track.getSettings();if(this.name in r){var s=r[this.name];return s}return null},t}(),ag=function(t){ju(r,t);function r(s,u){return t.call(this,s,u)||this}return r.prototype.min=function(){return this.getCapabilities().min},r.prototype.max=function(){return this.getCapabilities().max},r.prototype.step=function(){return this.getCapabilities().step},r.prototype.apply=function(s){var u={};u[this.name]=s;var f={advanced:[u]};return this.track.applyConstraints(f)},r.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),u=s[this.name];return{min:u.min,max:u.max,step:u.step}},r.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},r}(Zf),ug=function(t){ju(r,t);function r(s){return t.call(this,"zoom",s)||this}return r}(ag),cg=function(t){ju(r,t);function r(s){return t.call(this,"torch",s)||this}return r}(Zf),fg=function(){function t(r){this.track=r}return t.prototype.zoomFeature=function(){return new ug(this.track)},t.prototype.torchFeature=function(){return new cg(this.track)},t}(),dg=function(){function t(r,s,u){this.isClosed=!1,this.parentElement=r,this.mediaStream=s,this.callbacks=u,this.surface=this.createVideoElement(this.parentElement.clientWidth),r.append(this.surface)}return t.prototype.createVideoElement=function(r){var s=document.createElement("video");return s.style.width="".concat(r,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},t.prototype.setupSurface=function(){var r=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var u=r.surface.clientWidth,f=r.surface.clientHeight;r.callbacks.onRenderSurfaceReady(u,f),r.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(r,s,u,f){return Yo(this,void 0,void 0,function(){var d,x;return Zo(this,function(y){switch(y.label){case 0:return d=new t(r,s,f),u.aspectRatio?(x={aspectRatio:u.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:y.sent(),y.label=2;case 2:return d.setupSurface(),[2,d]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(r){this.failIfClosed();var s=this,u=function(){setTimeout(r,200),s.surface.removeEventListener("playing",u)};this.surface.addEventListener("playing",u),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(r){return Yo(this,void 0,void 0,function(){return Zo(this,function(s){if("aspectRatio"in r)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(r)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var r=this;return new Promise(function(s,u){var f=r.mediaStream.getVideoTracks(),d=f.length,x=0;r.mediaStream.getVideoTracks().forEach(function(y){r.mediaStream.removeTrack(y),y.stop(),++x,x>=d&&(r.isClosed=!0,r.parentElement.removeChild(r.surface),s())})})},t.prototype.getCapabilities=function(){return new fg(this.getFirstTrackOrFail())},t}(),hg=function(){function t(r){this.mediaStream=r}return t.prototype.render=function(r,s,u){return Yo(this,void 0,void 0,function(){return Zo(this,function(f){return[2,dg.create(r,this.mediaStream,s,u)]})})},t.create=function(r){return Yo(this,void 0,void 0,function(){var s,u;return Zo(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:r},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return u=f.sent(),[2,new t(u)]}})})},t}(),Rc=function(t,r,s,u){function f(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function y(O){try{E(u.next(O))}catch(T){x(T)}}function A(O){try{E(u.throw(O))}catch(T){x(T)}}function E(O){O.done?d(O.value):f(O.value).then(y,A)}E((u=u.apply(t,r||[])).next())})},Oc=function(t,r){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},u,f,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(E){return function(O){return A([E,O])}}function A(E){if(u)throw new TypeError("Generator is already executing.");for(;x&&(x=0,E[0]&&(s=0)),s;)try{if(u=1,f&&(d=E[0]&2?f.return:E[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,E[1])).done)return d;switch(f=0,d&&(E=[E[0]&2,d.value]),E[0]){case 0:case 1:d=E;break;case 4:return s.label++,{value:E[1],done:!1};case 5:s.label++,f=E[1],E=[0];continue;case 7:E=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(E[0]===6||E[0]===2)){s=0;continue}if(E[0]===3&&(!d||E[1]>d[0]&&E[1]<d[3])){s.label=E[1];break}if(E[0]===6&&s.label<d[1]){s.label=d[1],d=E;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(E);break}d[2]&&s.ops.pop(),s.trys.pop();continue}E=r.call(t,s)}catch(O){E=[6,O],f=0}finally{u=d=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},gg=function(){function t(){}return t.failIfNotSupported=function(){return Rc(this,void 0,void 0,function(){return Oc(this,function(r){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(r){return Rc(this,void 0,void 0,function(){return Oc(this,function(s){return[2,hg.create(r)]})})},t}(),xg=function(t,r,s,u){function f(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function y(O){try{E(u.next(O))}catch(T){x(T)}}function A(O){try{E(u.throw(O))}catch(T){x(T)}}function E(O){O.done?d(O.value):f(O.value).then(y,A)}E((u=u.apply(t,r||[])).next())})},pg=function(t,r){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},u,f,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(E){return function(O){return A([E,O])}}function A(E){if(u)throw new TypeError("Generator is already executing.");for(;x&&(x=0,E[0]&&(s=0)),s;)try{if(u=1,f&&(d=E[0]&2?f.return:E[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,E[1])).done)return d;switch(f=0,d&&(E=[E[0]&2,d.value]),E[0]){case 0:case 1:d=E;break;case 4:return s.label++,{value:E[1],done:!1};case 5:s.label++,f=E[1],E=[0];continue;case 7:E=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(E[0]===6||E[0]===2)){s=0;continue}if(E[0]===3&&(!d||E[1]>d[0]&&E[1]<d[3])){s.label=E[1];break}if(E[0]===6&&s.label<d[1]){s.label=d[1],d=E;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(E);break}d[2]&&s.ops.pop(),s.trys.pop();continue}E=r.call(t,s)}catch(O){E=[6,O],f=0}finally{u=d=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},wg=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var r=MediaStreamTrack;return MediaStreamTrack&&r.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var r=gi.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(r=gi.insecureContextCameraQueryError()),Promise.reject(r)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var r=location.host.split(":")[0];return r==="127.0.0.1"||r==="localhost"},t.getCamerasFromMediaDevices=function(){return xg(this,void 0,void 0,function(){var r,s,u,f,d,x,y;return pg(this,function(A){switch(A.label){case 0:return r=function(E){for(var O=E.getVideoTracks(),T=0,k=O;T<k.length;T++){var V=k[T];V.enabled=!1,V.stop(),E.removeTrack(V)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=A.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(u=A.sent(),f=[],d=0,x=u;d<x.length;d++)y=x[d],y.kind==="videoinput"&&f.push({id:y.deviceId,label:y.label});return r(s),[2,f]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(r,s){var u=function(d){for(var x=[],y=0,A=d;y<A.length;y++){var E=A[y];E.kind==="video"&&x.push({id:E.id,label:E.label})}r(x)},f=MediaStreamTrack;f.getSources(u)})},t}(),nt;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(nt||(nt={}));var mg=function(){function t(){this.state=nt.NOT_STARTED,this.onGoingTransactionNewState=nt.UNKNOWN}return t.prototype.directTransition=function(r){this.failIfTransitionOngoing(),this.validateTransition(r),this.state=r},t.prototype.startTransition=function(r){return this.failIfTransitionOngoing(),this.validateTransition(r),this.onGoingTransactionNewState=r,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===nt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var r=this.onGoingTransactionNewState;this.onGoingTransactionNewState=nt.UNKNOWN,this.directTransition(r)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===nt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=nt.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==nt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(r){switch(this.state){case nt.UNKNOWN:throw"Transition from unknown is not allowed";case nt.NOT_STARTED:this.failIfNewStateIs(r,[nt.PAUSED]);break;case nt.SCANNING:break;case nt.PAUSED:break}},t.prototype.failIfNewStateIs=function(r,s){for(var u=0,f=s;u<f.length;u++){var d=f[u];if(r===d)throw"Cannot transition from ".concat(this.state," to ").concat(r)}},t}(),Eg=function(){function t(r){this.stateManager=r}return t.prototype.startTransition=function(r){return this.stateManager.startTransition(r)},t.prototype.directTransition=function(r){this.stateManager.directTransition(r)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===nt.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==nt.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===nt.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===nt.PAUSED},t}(),Cg=function(){function t(){}return t.create=function(){return new Eg(new mg)},t}(),yg=function(){var t=function(r,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(u[d]=f[d])},t(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(r,s);function u(){this.constructor=r}r.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}}(),qt=function(t){yg(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r}(tg),Ag=function(){function t(r,s){this.logger=s,this.fps=qt.SCAN_DEFAULT_FPS,r?(r.fps&&(this.fps=r.fps),this.disableFlip=r.disableFlip===!0,this.qrbox=r.qrbox,this.aspectRatio=r.aspectRatio,this.videoConstraints=r.videoConstraints):this.disableFlip=qt.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Yf.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Un(this.qrbox)},t.create=function(r,s){return new t(r,s)},t}(),Sg=function(){function t(r,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.elementId=r,this.verbose=!1;var u;typeof s=="boolean"?this.verbose=s===!0:s&&(u=s,this.verbose=u.verbose===!0,u.experimentalFeatures),this.logger=new rg(this.verbose),this.qrcode=new lg(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(u),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Cg.create()}return t.prototype.start=function(r,s,u,f){var d=this;if(!r)throw"cameraIdOrConfig is required";if(!u||typeof u!="function")throw"qrCodeSuccessCallback is required and should be a function.";var x;f?x=f:x=this.verbose?this.logger.log:function(){};var y=Ag.create(s,this.logger);this.clearElement();var A=!1;y.videoConstraints&&(y.isMediaStreamConstraintsValid()?A=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=A,O=document.getElementById(this.elementId);O.clientWidth?O.clientWidth:qt.DEFAULT_WIDTH,O.style.position="relative",this.shouldScan=!0,this.element=O;var T=this,k=this.stateManagerProxy.startTransition(nt.SCANNING);return new Promise(function(V,Z){var z=E?y.videoConstraints:T.createVideoConstraints(r);if(!z){k.cancel(),Z("videoConstraints should be defined");return}var we={};(!E||y.aspectRatio)&&(we.aspectRatio=y.aspectRatio);var D={onRenderSurfaceReady:function(v,_){T.setupUi(v,_,y),T.isScanning=!0,T.foreverScan(y,u,x)}};gg.failIfNotSupported().then(function(v){v.create(z).then(function(_){return _.render(d.element,we,D).then(function(F){T.renderedCamera=F,k.execute(),V(null)}).catch(function(F){k.cancel(),Z(F)})}).catch(function(_){k.cancel(),Z(gi.errorGettingUserMedia(_))})}).catch(function(v){k.cancel(),Z(gi.cameraStreamingNotSupported())})})},t.prototype.pause=function(r){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(nt.PAUSED),this.showPausedState(),(Un(r)||r!==!0)&&(r=!1),r&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var r=this,s=function(){r.stateManagerProxy.directTransition(nt.SCANNING),r.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var r=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(nt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var u=function(){if(r.element){var d=document.getElementById(qt.SHADED_REGION_ELEMENT_ID);d&&r.element.removeChild(d)}},f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),u(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),s.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(r,s){return this.scanFileV2(r,s).then(function(u){return u.decodedText})},t.prototype.scanFileV2=function(r,s){var u=this;if(!r||!(r instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Un(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,d){u.possiblyCloseLastScanImageFile(),u.clearElement(),u.lastScanImageFile=URL.createObjectURL(r);var x=new Image;x.onload=function(){var y=x.width,A=x.height,E=document.getElementById(u.elementId),O=E.clientWidth?E.clientWidth:qt.DEFAULT_WIDTH,T=Math.max(E.clientHeight?E.clientHeight:A,qt.FILE_SCAN_MIN_HEIGHT),k=u.computeCanvasDrawConfig(y,A,O,T);if(s){var V=u.createCanvasElement(O,T,"qr-canvas-visible");V.style.display="inline-block",E.appendChild(V);var Z=V.getContext("2d");if(!Z)throw"Unable to get 2d context from canvas";Z.canvas.width=O,Z.canvas.height=T,Z.drawImage(x,0,0,y,A,k.x,k.y,k.width,k.height)}var z=qt.FILE_SCAN_HIDDEN_CANVAS_PADDING,we=Math.max(x.width,k.width),D=Math.max(x.height,k.height),v=we+2*z,_=D+2*z,F=u.createCanvasElement(v,_);E.appendChild(F);var q=F.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=v,q.canvas.height=_,q.drawImage(x,0,0,y,A,z,z,we,D);try{u.qrcode.decodeRobustlyAsync(F).then(function(X){f(Ic.createFromQrcodeResult(X))}).catch(d)}catch(X){d("QR code parse error, error = ".concat(X))}},x.onerror=d,x.onabort=d,x.onstalled=d,x.onsuspend=d,x.src=URL.createObjectURL(r)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return wg.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(r){if(r){if(!Yf.isMediaStreamConstraintsValid(r,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(r)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(r){var s=[te.QR_CODE,te.AZTEC,te.CODABAR,te.CODE_39,te.CODE_93,te.CODE_128,te.DATA_MATRIX,te.MAXICODE,te.ITF,te.EAN_13,te.EAN_8,te.PDF_417,te.RSS_14,te.RSS_EXPANDED,te.UPC_A,te.UPC_E,te.UPC_EAN_EXTENSION];if(!r||typeof r=="boolean"||!r.formatsToSupport)return s;if(!Array.isArray(r.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(r.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var u=[],f=0,d=r.formatsToSupport;f<d.length;f++){var x=d[f];eg(x)?u.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(u.length===0)throw"None of formatsToSupport match supported values.";return u},t.prototype.getUseBarCodeDetectorIfSupported=function(r){if(Un(r))return!0;if(!Un(r.useBarCodeDetectorIfSupported))return r.useBarCodeDetectorIfSupported!==!1;if(Un(r.experimentalFeatures))return!0;var s=r.experimentalFeatures;return Un(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(r,s,u){var f=this,d=u.qrbox;this.validateQrboxConfig(d);var x=this.toQrdimensions(r,s,d),y=function(E){if(E<qt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(qt.MIN_QR_BOX_SIZE,"px.")},A=function(E){return E>r&&(f.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=r),E};y(x.width),y(x.height),x.width=A(x.width)},t.prototype.validateQrboxConfig=function(r){if(typeof r!="number"&&typeof r!="function"&&(r.width===void 0||r.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(r,s,u){if(typeof u=="number")return{width:u,height:u};if(typeof u=="function")try{return u(r,s)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return u},t.prototype.setupUi=function(r,s,u){u.isShadedBoxEnabled()&&this.validateQrboxSize(r,s,u);var f=Un(u.qrbox)?{width:r,height:s}:u.qrbox;this.validateQrboxConfig(f);var d=this.toQrdimensions(r,s,f);d.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=u.isShadedBoxEnabled()&&d.height<=s,y={x:0,y:0,width:r,height:s},A=x?this.getShadedRegionBounds(r,s,d):y,E=this.createCanvasElement(A.width,A.height),O={willReadFrequently:!0},T=E.getContext("2d",O);T.canvas.width=A.width,T.canvas.height=A.height,this.element.append(E),x&&this.possiblyInsertShadingElement(this.element,r,s,d),this.createScannerPausedUiElement(this.element),this.qrRegion=A,this.context=T,this.canvasElement=E},t.prototype.createScannerPausedUiElement=function(r){var s=document.createElement("div");s.innerText=gi.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",r.appendChild(s),this.scannerPausedUiElement=s},t.prototype.scanContext=function(r,s){var u=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return r(f.text,Ic.createFromQrcodeResult(f)),u.possiblyUpdateShaders(!0),!0}).catch(function(f){u.possiblyUpdateShaders(!1);var d=gi.codeParseError(f);return s(d,ng.createFrom(d)),!1})},t.prototype.foreverScan=function(r,s,u){var f=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),x=d.videoWidth/d.clientWidth,y=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var A=this.qrRegion.width*x,E=this.qrRegion.height*y,O=this.qrRegion.x*x,T=this.qrRegion.y*y;this.context.drawImage(d,O,T,A,E,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(r,s,u)},f.getTimeoutFps(r.fps))};this.scanContext(s,u).then(function(V){!V&&r.disableFlip!==!0?(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(s,u).finally(function(){k()})):k()}).catch(function(V){f.logger.logError("Error happend while scanning context",V),k()})}},t.prototype.createVideoConstraints=function(r){if(typeof r=="string")return{deviceId:{exact:r}};if(typeof r=="object"){var s="facingMode",u="deviceId",f={user:!0,environment:!0},d="exact",x=function(Z){if(Z in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(Z,"'")},y=Object.keys(r);if(y.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(y.length," keys");var A=Object.keys(r)[0];if(A!==s&&A!==u)throw"Only '".concat(s,"' and '").concat(u,"' ")+" are supported for 'cameraIdOrConfig'";if(A===s){var E=r.facingMode;if(typeof E=="string"){if(x(E))return{facingMode:E}}else if(typeof E=="object")if(d in E){if(x(E["".concat(d)]))return{facingMode:{exact:E["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var O=typeof E;throw"Invalid type of 'facingMode' = ".concat(O)}}else{var T=r.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(d in T)return{deviceId:{exact:T["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var k=typeof T;throw"Invalid type of 'deviceId' = ".concat(k)}}}var V=typeof r;throw"Invalid type of 'cameraIdOrConfig' = ".concat(V)},t.prototype.computeCanvasDrawConfig=function(r,s,u,f){if(r<=u&&s<=f){var d=(u-r)/2,x=(f-s)/2;return{x:d,y:x,width:r,height:s}}else{var y=r,A=s;return r>u&&(s=u/r*s,r=u),s>f&&(r=f/s*r,s=f),this.logger.log("Image downsampled from "+"".concat(y,"X").concat(A)+" to ".concat(r,"X").concat(s,".")),this.computeCanvasDrawConfig(r,s,u,f)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var r=document.getElementById(this.elementId);r&&(r.innerHTML="")},t.prototype.possiblyUpdateShaders=function(r){this.qrMatch!==r&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=r?qt.BORDER_SHADER_MATCH_COLOR:qt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=r)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(r,s,u){var f=r,d=s,x=document.createElement("canvas");return x.style.width="".concat(f,"px"),x.style.height="".concat(d,"px"),x.style.display="none",x.id=Un(u)?"qr-canvas":u,x},t.prototype.getShadedRegionBounds=function(r,s,u){if(u.width>r||u.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(r-u.width)/2,y:(s-u.height)/2,width:u.width,height:u.height}},t.prototype.possiblyInsertShadingElement=function(r,s,u,f){if(!(s-f.width<1||u-f.height<1)){var d=document.createElement("div");d.style.position="absolute";var x=(s-f.width)/2,y=(u-f.height)/2;if(d.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(qt.SHADED_REGION_ELEMENT_ID),s-f.width<11||u-f.height<11)this.hasBorderShaders=!1;else{var A=5,E=40;this.insertShaderBorders(d,E,A,-A,null,0,!0),this.insertShaderBorders(d,E,A,-A,null,0,!1),this.insertShaderBorders(d,E,A,null,-A,0,!0),this.insertShaderBorders(d,E,A,null,-A,0,!1),this.insertShaderBorders(d,A,E+A,-A,null,-A,!0),this.insertShaderBorders(d,A,E+A,null,-A,-A,!0),this.insertShaderBorders(d,A,E+A,-A,null,-A,!1),this.insertShaderBorders(d,A,E+A,null,-A,-A,!1),this.hasBorderShaders=!0}r.append(d)}},t.prototype.insertShaderBorders=function(r,s,u,f,d,x,y){var A=document.createElement("div");A.style.position="absolute",A.style.backgroundColor=qt.BORDER_SHADER_DEFAULT_COLOR,A.style.width="".concat(s,"px"),A.style.height="".concat(u,"px"),f!==null&&(A.style.top="".concat(f,"px")),d!==null&&(A.style.bottom="".concat(d,"px")),y?A.style.left="".concat(x,"px"):A.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(A),r.appendChild(A)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(r){return 1e3/r},t}(),Dc;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Dc||(Dc={}));const Ig=2e3,Mc="qr-reader";function vg(){const[t,r]=Ot.useState(!1),[s,u]=Ot.useState(null),[f,d]=Ot.useState("idle"),[x,y]=Ot.useState(""),[A,E]=Ot.useState(""),[O,T]=Ot.useState(0),k=Ot.useRef(null),V=Ot.useRef(!1);Ot.useEffect(()=>()=>{k.current&&(k.current.stop().catch(()=>{}),k.current.clear(),k.current=null)},[]);const Z=Ot.useCallback(async F=>{d("saving"),y("");try{const X=await(await fetch("/api/save.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qr_text:F})})).json();X.success?(d("saved"),T(B=>B+1)):(d("error"),y(X.error||"Nieznany bd serwera"))}catch{d("error"),y("Brak poczenia z serwerem")}},[]),z=Ot.useCallback(F=>{V.current||(V.current=!0,u(F),Z(F),setTimeout(()=>{V.current=!1},Ig))},[Z]),we=Ot.useCallback(async()=>{var F;E("");try{const q=new Sg(Mc);k.current=q,await q.start({facingMode:"environment"},{fps:10,qrbox:(X,B)=>{const Q=Math.min(X,B)*.7;return{width:Math.floor(Q),height:Math.floor(Q)}},disableFlip:!0},z,()=>{}),r(!0)}catch(q){const X=((F=q==null?void 0:q.toString)==null?void 0:F.call(q))||"Nie udao si uruchomi kamery";X.includes("NotAllowedError")||X.includes("Permission")?E("Brak zgody na dostp do kamery. Sprawd ustawienia przegldarki."):X.includes("NotFoundError")?E("Nie znaleziono kamery na tym urzdzeniu."):E(X)}},[z]),D=Ot.useCallback(async()=>{if(k.current){try{await k.current.stop(),k.current.clear()}catch{}k.current=null}r(!1)},[]),v=()=>{switch(f){case"saving":return"";case"saved":return"";case"error":return"";default:return""}},_=()=>{switch(f){case"saving":return"Zapisywanie";case"saved":return"Zapisano pomylnie";case"error":return x||"Wystpi bd";default:return"Oczekiwanie na skan"}};return ve.jsxs("div",{className:"app",children:[ve.jsxs("header",{className:"header",children:[ve.jsx("div",{className:"header-icon",children:""}),ve.jsx("h1",{className:"header-title",children:"Skaner QR"}),ve.jsx("p",{className:"header-subtitle",children:"Skanuj etykiety i zapisuj kody"})]}),ve.jsxs("main",{className:"main",children:[ve.jsxs("section",{className:"card scanner-card",children:[ve.jsx("div",{id:Mc,className:`scanner-viewport ${t?"active":""}`,children:!t&&!A&&ve.jsxs("div",{className:"scanner-placeholder",children:[ve.jsx("span",{className:"scanner-placeholder-icon",children:""}),ve.jsxs("span",{children:["Nacinij przycisk poniej,",ve.jsx("br",{}),"aby uruchomi kamer"]})]})}),A&&ve.jsxs("div",{className:"camera-error",children:[ve.jsx("span",{className:"camera-error-icon",children:""}),ve.jsx("span",{children:A})]}),ve.jsx("div",{className:"scanner-controls",children:t?ve.jsxs("button",{className:"btn btn-stop",onClick:D,children:[ve.jsx("span",{className:"btn-icon",children:""}),"Zatrzymaj"]}):ve.jsxs("button",{className:"btn btn-start",onClick:we,children:[ve.jsx("span",{className:"btn-icon",children:""}),"Uruchom skaner"]})})]}),ve.jsxs("section",{className:"card result-card",children:[ve.jsx("h2",{className:"card-label",children:"Ostatni skan"}),ve.jsx("div",{className:`scan-result ${s?"has-value":""}`,children:s||"Brak skanw"})]}),ve.jsxs("section",{className:`card status-card status-${f}`,children:[ve.jsx("h2",{className:"card-label",children:"Status zapisu"}),ve.jsxs("div",{className:"status-row",children:[ve.jsx("span",{className:"status-icon",children:v()}),ve.jsx("span",{className:"status-text",children:_()})]})]}),O>0&&ve.jsxs("div",{className:"counter",children:["Zapisano dzisiaj: ",ve.jsx("strong",{children:O})," ",O===1?"skan":O<5?"skany":"skanw"]})]}),ve.jsx("footer",{className:"footer",children:"Krawcowa App  Skaner etykiet"})]})}ra.createRoot(document.getElementById("root")).render(ve.jsx(Hd.StrictMode,{children:ve.jsx(vg,{})}));
